(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function qp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zr={exports:{}},$i={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Fy(){if(sm)return $i;sm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:n,type:l,key:m,ref:u!==void 0?u:null,props:d}}return $i.Fragment=e,$i.jsx=i,$i.jsxs=i,$i}var rm;function Oy(){return rm||(rm=1,zr.exports=Fy()),zr.exports}var T=Oy(),Fr={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Yy(){if(um)return fe;um=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function Y(A,q,H){this.props=A,this.context=q,this.refs=G,this.updater=H||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},Y.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function V(){}V.prototype=Y.prototype;function O(A,q,H){this.props=A,this.context=q,this.refs=G,this.updater=H||M}var K=O.prototype=new V;K.constructor=O,k(K,Y.prototype),K.isPureReactComponent=!0;var W=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function ie(A,q,H,F,Q,ce){return H=ce.ref,{$$typeof:n,type:A,key:q,ref:H!==void 0?H:null,props:ce}}function me(A,q){return ie(A.type,q,void 0,void 0,void 0,A.props)}function ee(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function de(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(H){return q[H]})}var re=/\/+/g;function Te(A,q){return typeof A=="object"&&A!==null&&A.key!=null?de(""+A.key):q.toString(36)}function Ke(){}function Xe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Ke,Ke):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Ce(A,q,H,F,Q){var ce=typeof A;(ce==="undefined"||ce==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case n:case e:oe=!0;break;case v:return oe=A._init,Ce(oe(A._payload),q,H,F,Q)}}if(oe)return Q=Q(A),oe=F===""?"."+Te(A,0):F,W(Q)?(H="",oe!=null&&(H=oe.replace(re,"$&/")+"/"),Ce(Q,q,H,"",function(It){return It})):Q!=null&&(ee(Q)&&(Q=me(Q,H+(Q.key==null||A&&A.key===Q.key?"":(""+Q.key).replace(re,"$&/")+"/")+oe)),q.push(Q)),1;oe=0;var He=F===""?".":F+":";if(W(A))for(var Se=0;Se<A.length;Se++)F=A[Se],ce=He+Te(F,Se),oe+=Ce(F,q,H,ce,Q);else if(Se=E(A),typeof Se=="function")for(A=Se.call(A),Se=0;!(F=A.next()).done;)F=F.value,ce=He+Te(F,Se++),oe+=Ce(F,q,H,ce,Q);else if(ce==="object"){if(typeof A.then=="function")return Ce(Xe(A),q,H,F,Q);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return oe}function R(A,q,H){if(A==null)return A;var F=[],Q=0;return Ce(A,F,"","",function(ce){return q.call(H,ce,Q++)}),F}function $(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(H){(A._status===0||A._status===-1)&&(A._status=1,A._result=H)},function(H){(A._status===0||A._status===-1)&&(A._status=2,A._result=H)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var P=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function X(){}return fe.Children={map:R,forEach:function(A,q,H){R(A,function(){q.apply(this,arguments)},H)},count:function(A){var q=0;return R(A,function(){q++}),q},toArray:function(A){return R(A,function(q){return q})||[]},only:function(A){if(!ee(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},fe.Component=Y,fe.Fragment=i,fe.Profiler=u,fe.PureComponent=O,fe.StrictMode=l,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,fe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return J.H.useMemoCache(A)}},fe.cache=function(A){return function(){return A.apply(null,arguments)}},fe.cloneElement=function(A,q,H){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var F=k({},A.props),Q=A.key,ce=void 0;if(q!=null)for(oe in q.ref!==void 0&&(ce=void 0),q.key!==void 0&&(Q=""+q.key),q)!se.call(q,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&q.ref===void 0||(F[oe]=q[oe]);var oe=arguments.length-2;if(oe===1)F.children=H;else if(1<oe){for(var He=Array(oe),Se=0;Se<oe;Se++)He[Se]=arguments[Se+2];F.children=He}return ie(A.type,Q,void 0,void 0,ce,F)},fe.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},fe.createElement=function(A,q,H){var F,Q={},ce=null;if(q!=null)for(F in q.key!==void 0&&(ce=""+q.key),q)se.call(q,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(Q[F]=q[F]);var oe=arguments.length-2;if(oe===1)Q.children=H;else if(1<oe){for(var He=Array(oe),Se=0;Se<oe;Se++)He[Se]=arguments[Se+2];Q.children=He}if(A&&A.defaultProps)for(F in oe=A.defaultProps,oe)Q[F]===void 0&&(Q[F]=oe[F]);return ie(A,ce,void 0,void 0,null,Q)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(A){return{$$typeof:g,render:A}},fe.isValidElement=ee,fe.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:$}},fe.memo=function(A,q){return{$$typeof:h,type:A,compare:q===void 0?null:q}},fe.startTransition=function(A){var q=J.T,H={};J.T=H;try{var F=A(),Q=J.S;Q!==null&&Q(H,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(X,P)}catch(ce){P(ce)}finally{J.T=q}},fe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},fe.use=function(A){return J.H.use(A)},fe.useActionState=function(A,q,H){return J.H.useActionState(A,q,H)},fe.useCallback=function(A,q){return J.H.useCallback(A,q)},fe.useContext=function(A){return J.H.useContext(A)},fe.useDebugValue=function(){},fe.useDeferredValue=function(A,q){return J.H.useDeferredValue(A,q)},fe.useEffect=function(A,q,H){var F=J.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(A,q)},fe.useId=function(){return J.H.useId()},fe.useImperativeHandle=function(A,q,H){return J.H.useImperativeHandle(A,q,H)},fe.useInsertionEffect=function(A,q){return J.H.useInsertionEffect(A,q)},fe.useLayoutEffect=function(A,q){return J.H.useLayoutEffect(A,q)},fe.useMemo=function(A,q){return J.H.useMemo(A,q)},fe.useOptimistic=function(A,q){return J.H.useOptimistic(A,q)},fe.useReducer=function(A,q,H){return J.H.useReducer(A,q,H)},fe.useRef=function(A){return J.H.useRef(A)},fe.useState=function(A){return J.H.useState(A)},fe.useSyncExternalStore=function(A,q,H){return J.H.useSyncExternalStore(A,q,H)},fe.useTransition=function(){return J.H.useTransition()},fe.version="19.1.0",fe}var cm;function ru(){return cm||(cm=1,Fr.exports=Yy()),Fr.exports}var ne=ru();const Ta=qp(ne);var Or={exports:{}},Ki={},Yr={exports:{}},Jr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Jy(){return fm||(fm=1,function(n){function e(R,$){var P=R.length;R.push($);e:for(;0<P;){var X=P-1>>>1,A=R[X];if(0<u(A,$))R[X]=$,R[P]=A,P=X;else break e}}function i(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var $=R[0],P=R.pop();if(P!==$){R[0]=P;e:for(var X=0,A=R.length,q=A>>>1;X<q;){var H=2*(X+1)-1,F=R[H],Q=H+1,ce=R[Q];if(0>u(F,P))Q<A&&0>u(ce,F)?(R[X]=ce,R[Q]=P,X=Q):(R[X]=F,R[H]=P,X=H);else if(Q<A&&0>u(ce,P))R[X]=ce,R[Q]=P,X=Q;else break e}}return $}function u(R,$){var P=R.sortIndex-$.sortIndex;return P!==0?P:R.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,x=null,E=3,M=!1,k=!1,G=!1,Y=!1,V=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function W(R){for(var $=i(h);$!==null;){if($.callback===null)l(h);else if($.startTime<=R)l(h),$.sortIndex=$.expirationTime,e(y,$);else break;$=i(h)}}function J(R){if(G=!1,W(R),!k)if(i(y)!==null)k=!0,se||(se=!0,Te());else{var $=i(h);$!==null&&Ce(J,$.startTime-R)}}var se=!1,ie=-1,me=5,ee=-1;function de(){return Y?!0:!(n.unstable_now()-ee<me)}function re(){if(Y=!1,se){var R=n.unstable_now();ee=R;var $=!0;try{e:{k=!1,G&&(G=!1,O(ie),ie=-1),M=!0;var P=E;try{t:{for(W(R),x=i(y);x!==null&&!(x.expirationTime>R&&de());){var X=x.callback;if(typeof X=="function"){x.callback=null,E=x.priorityLevel;var A=X(x.expirationTime<=R);if(R=n.unstable_now(),typeof A=="function"){x.callback=A,W(R),$=!0;break t}x===i(y)&&l(y),W(R)}else l(y);x=i(y)}if(x!==null)$=!0;else{var q=i(h);q!==null&&Ce(J,q.startTime-R),$=!1}}break e}finally{x=null,E=P,M=!1}$=void 0}}finally{$?Te():se=!1}}}var Te;if(typeof K=="function")Te=function(){K(re)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,Xe=Ke.port2;Ke.port1.onmessage=re,Te=function(){Xe.postMessage(null)}}else Te=function(){V(re,0)};function Ce(R,$){ie=V(function(){R(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(R){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var P=E;E=$;try{return R()}finally{E=P}},n.unstable_requestPaint=function(){Y=!0},n.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var P=E;E=R;try{return $()}finally{E=P}},n.unstable_scheduleCallback=function(R,$,P){var X=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?X+P:X):P=X,R){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=P+A,R={id:v++,callback:$,priorityLevel:R,startTime:P,expirationTime:A,sortIndex:-1},P>X?(R.sortIndex=P,e(h,R),i(y)===null&&R===i(h)&&(G?(O(ie),ie=-1):G=!0,Ce(J,P-X))):(R.sortIndex=A,e(y,R),k||M||(k=!0,se||(se=!0,Te()))),R},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(R){var $=E;return function(){var P=E;E=$;try{return R.apply(this,arguments)}finally{E=P}}}}(Jr)),Jr}var dm;function $y(){return dm||(dm=1,Yr.exports=Jy()),Yr.exports}var $r={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Ky(){if(mm)return tt;mm=1;var n=ru();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,h,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:h,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,tt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(y,h,null,v)},tt.flushSync=function(y){var h=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=h,l.p=v,l.d.f()}},tt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(y,h))},tt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},tt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,x=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?l.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:M}):v==="script"&&l.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(y)},tt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,x=g(v,h.crossOrigin);l.d.L(y,v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);l.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(y)},tt.requestFormReset=function(y){l.d.r(y)},tt.unstable_batchedUpdates=function(y,h){return y(h)},tt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},tt.useFormStatus=function(){return m.H.useHostTransitionStatus()},tt.version="19.1.0",tt}var pm;function Xy(){if(pm)return $r.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$r.exports=Ky(),$r.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Qy(){if(hm)return Ki;hm=1;var n=$y(),e=ru(),i=Xy();function l(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var o=t,a=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(a=o.return),t=o.return;while(t)}return o.tag===3?a:null}function m(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function y(t){var o=t.alternate;if(!o){if(o=d(t),o===null)throw Error(l(188));return o!==t?null:t}for(var a=t,c=o;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return g(f),t;if(p===c)return g(f),o;p=p.sibling}throw Error(l(188))}if(a.return!==c.return)a=f,c=p;else{for(var S=!1,C=f.child;C;){if(C===a){S=!0,a=f,c=p;break}if(C===c){S=!0,c=f,a=p;break}C=C.sibling}if(!S){for(C=p.child;C;){if(C===a){S=!0,a=p,c=f;break}if(C===c){S=!0,c=p,a=f;break}C=C.sibling}if(!S)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:o}function h(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=h(t),o!==null)return o;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ke?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Y:return"Profiler";case G:return"StrictMode";case J:return"Suspense";case se:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case K:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case W:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ie:return o=t.displayName||null,o!==null?o:Xe(t.type)||"Memo";case me:o=t._payload,t=t._init;try{return Xe(t(o))}catch{}}return null}var Ce=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},X=[],A=-1;function q(t){return{current:t}}function H(t){0>A||(t.current=X[A],X[A]=null,A--)}function F(t,o){A++,X[A]=t.current,t.current=o}var Q=q(null),ce=q(null),oe=q(null),He=q(null);function Se(t,o){switch(F(oe,o),F(ce,t),F(Q,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?Vd(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=Vd(o),t=Ld(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(Q),F(Q,t)}function It(){H(Q),H(ce),H(oe)}function Xo(t){t.memoizedState!==null&&F(He,t);var o=Q.current,a=Ld(o,t.type);o!==a&&(F(ce,t),F(Q,a))}function bn(t){ce.current===t&&(H(Q),H(ce)),He.current===t&&(H(He),zi._currentValue=P)}var Na=Object.prototype.hasOwnProperty,Ra=n.unstable_scheduleCallback,ba=n.unstable_cancelCallback,xh=n.unstable_shouldYield,Ch=n.unstable_requestPaint,kt=n.unstable_now,Eh=n.unstable_getCurrentPriorityLevel,pu=n.unstable_ImmediatePriority,hu=n.unstable_UserBlockingPriority,el=n.unstable_NormalPriority,Ah=n.unstable_LowPriority,gu=n.unstable_IdlePriority,_h=n.log,wh=n.unstable_setDisableYieldValue,Qo=null,ct=null;function ln(t){if(typeof _h=="function"&&wh(t),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Qo,t)}catch{}}var ft=Math.clz32?Math.clz32:Rh,Mh=Math.log,Nh=Math.LN2;function Rh(t){return t>>>=0,t===0?32:31-(Mh(t)/Nh|0)|0}var tl=256,nl=4194304;function Dn(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ol(t,o,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,p=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var C=c&134217727;return C!==0?(c=C&~p,c!==0?f=Dn(c):(S&=C,S!==0?f=Dn(S):a||(a=C&~t,a!==0&&(f=Dn(a))))):(C=c&~p,C!==0?f=Dn(C):S!==0?f=Dn(S):a||(a=c&~t,a!==0&&(f=Dn(a)))),f===0?0:o!==0&&o!==f&&(o&p)===0&&(p=f&-f,a=o&-o,p>=a||p===32&&(a&4194048)!==0)?o:f}function Zo(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function bh(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=tl;return tl<<=1,(tl&4194048)===0&&(tl=256),t}function vu(){var t=nl;return nl<<=1,(nl&62914560)===0&&(nl=4194304),t}function Da(t){for(var o=[],a=0;31>a;a++)o.push(t);return o}function Wo(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,o,a,c,f,p){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,_=t.expirationTimes,D=t.hiddenUpdates;for(a=S&~a;0<a;){var L=31-ft(a),z=1<<L;C[L]=0,_[L]=-1;var U=D[L];if(U!==null)for(D[L]=null,L=0;L<U.length;L++){var I=U[L];I!==null&&(I.lane&=-536870913)}a&=~z}c!==0&&Tu(t,c,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(S&~o))}function Tu(t,o,a){t.pendingLanes|=o,t.suspendedLanes&=~o;var c=31-ft(o);t.entangledLanes|=o,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function Su(t,o){var a=t.entangledLanes|=o;for(t=t.entanglements;a;){var c=31-ft(a),f=1<<c;f&o|t[c]&o&&(t[c]|=o),a&=~f}}function Ua(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xu(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:tm(t.type))}function Uh(t,o){var a=$.p;try{return $.p=t,o()}finally{$.p=a}}var an=Math.random().toString(36).slice(2),je="__reactFiber$"+an,lt="__reactProps$"+an,Wn="__reactContainer$"+an,ka="__reactEvents$"+an,Ih="__reactListeners$"+an,kh="__reactHandles$"+an,Cu="__reactResources$"+an,jo="__reactMarker$"+an;function Va(t){delete t[je],delete t[lt],delete t[ka],delete t[Ih],delete t[kh]}function jn(t){var o=t[je];if(o)return o;for(var a=t.parentNode;a;){if(o=a[Wn]||a[je]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(t=Bd(t);t!==null;){if(a=t[je])return a;t=Bd(t)}return o}t=a,a=t.parentNode}return null}function eo(t){if(t=t[je]||t[Wn]){var o=t.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return t}return null}function ei(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(l(33))}function to(t){var o=t[Cu];return o||(o=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Oe(t){t[jo]=!0}var Eu=new Set,Au={};function Un(t,o){no(t,o),no(t+"Capture",o)}function no(t,o){for(Au[t]=o,t=0;t<o.length;t++)Eu.add(o[t])}var Vh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},wu={};function Lh(t){return Na.call(wu,t)?!0:Na.call(_u,t)?!1:Vh.test(t)?wu[t]=!0:(_u[t]=!0,!1)}function il(t,o,a){if(Lh(o))if(a===null)t.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+a)}}function ll(t,o,a){if(a===null)t.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+a)}}function Bt(t,o,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(o,a,""+c)}}var La,Mu;function oo(t){if(La===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+t+Mu}var Pa=!1;function Ga(t,o){if(!t||Pa)return"";Pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(I){var U=I}Reflect.construct(t,[],z)}else{try{z.call()}catch(I){U=I}t.call(z.prototype)}}else{try{throw Error()}catch(I){U=I}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),S=p[0],C=p[1];if(S&&C){var _=S.split(`
`),D=C.split(`
`);for(f=c=0;c<_.length&&!_[c].includes("DetermineComponentFrameRoot");)c++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(c===_.length||f===D.length)for(c=_.length-1,f=D.length-1;1<=c&&0<=f&&_[c]!==D[f];)f--;for(;1<=c&&0<=f;c--,f--)if(_[c]!==D[f]){if(c!==1||f!==1)do if(c--,f--,0>f||_[c]!==D[f]){var L=`
`+_[c].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=c&&0<=f);break}}}finally{Pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oo(a):""}function Ph(t){switch(t.tag){case 26:case 27:case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return Ga(t.type,!1);case 11:return Ga(t.type.render,!1);case 1:return Ga(t.type,!0);case 31:return oo("Activity");default:return""}}function Nu(t){try{var o="";do o+=Ph(t),t=t.return;while(t);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ru(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Gh(t){var o=Ru(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),c=""+t[o];if(!t.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return f.call(this)},set:function(S){c=""+S,p.call(this,S)}}),Object.defineProperty(t,o,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function al(t){t._valueTracker||(t._valueTracker=Gh(t))}function bu(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var a=o.getValue(),c="";return t&&(c=Ru(t)?t.checked?"true":"false":t.value),t=c,t!==a?(o.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qh=/[\n"\\]/g;function St(t){return t.replace(qh,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qa(t,o,a,c,f,p,S,C){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),o!=null?S==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+Tt(o)):t.value!==""+Tt(o)&&(t.value=""+Tt(o)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),o!=null?Ba(t,S,Tt(o)):a!=null?Ba(t,S,Tt(a)):c!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Tt(C):t.removeAttribute("name")}function Du(t,o,a,c,f,p,S,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),o!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||o!=null))return;a=a!=null?""+Tt(a):"",o=o!=null?""+Tt(o):a,C||o===t.value||(t.value=o),t.defaultValue=o}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=C?t.checked:!!c,t.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function Ba(t,o,a){o==="number"&&sl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function io(t,o,a,c){if(t=t.options,o){o={};for(var f=0;f<a.length;f++)o["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=o.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Tt(a),o=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}o!==null||t[f].disabled||(o=t[f])}o!==null&&(o.selected=!0)}}function Uu(t,o,a){if(o!=null&&(o=""+Tt(o),o!==t.value&&(t.value=o),a==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=a!=null?""+Tt(a):""}function Iu(t,o,a,c){if(o==null){if(c!=null){if(a!=null)throw Error(l(92));if(Ce(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),o=a}a=Tt(o),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function lo(t,o){if(o){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=o;return}}t.textContent=o}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(t,o,a){var c=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":c?t.setProperty(o,a):typeof a!="number"||a===0||Bh.has(o)?o==="float"?t.cssFloat=a:t[o]=(""+a).trim():t[o]=a+"px"}function Vu(t,o,a){if(o!=null&&typeof o!="object")throw Error(l(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in o)c=o[f],o.hasOwnProperty(f)&&a[f]!==c&&ku(t,f,c)}else for(var p in o)o.hasOwnProperty(p)&&ku(t,p,o[p])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(t){return zh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var za=null;function Fa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ao=null,so=null;function Lu(t){var o=eo(t);if(o&&(t=o.stateNode)){var a=t[lt]||null;e:switch(t=o.stateNode,o.type){case"input":if(qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var c=a[o];if(c!==t&&c.form===t.form){var f=c[lt]||null;if(!f)throw Error(l(90));qa(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(o=0;o<a.length;o++)c=a[o],c.form===t.form&&bu(c)}break e;case"textarea":Uu(t,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&io(t,!!a.multiple,o,!1)}}}var Oa=!1;function Pu(t,o,a){if(Oa)return t(o,a);Oa=!0;try{var c=t(o);return c}finally{if(Oa=!1,(ao!==null||so!==null)&&($l(),ao&&(o=ao,t=so,so=ao=null,Lu(o),t)))for(o=0;o<t.length;o++)Lu(t[o])}}function ti(t,o){var a=t.stateNode;if(a===null)return null;var c=a[lt]||null;if(c===null)return null;a=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,o,typeof a));return a}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Ht)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Ya=!1}var sn=null,Ja=null,ul=null;function Gu(){if(ul)return ul;var t,o=Ja,a=o.length,c,f="value"in sn?sn.value:sn.textContent,p=f.length;for(t=0;t<a&&o[t]===f[t];t++);var S=a-t;for(c=1;c<=S&&o[a-c]===f[p-c];c++);return ul=f.slice(t,1<c?1-c:void 0)}function cl(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function fl(){return!0}function qu(){return!1}function at(t){function o(a,c,f,p,S){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fl:qu,this.isPropagationStopped=qu,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),o}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=at(In),oi=v({},In,{view:0,detail:0}),Fh=at(oi),$a,Ka,ii,ml=v({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?($a=t.screenX-ii.screenX,Ka=t.screenY-ii.screenY):Ka=$a=0,ii=t),$a)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Bu=at(ml),Oh=v({},ml,{dataTransfer:0}),Yh=at(Oh),Jh=v({},oi,{relatedTarget:0}),Xa=at(Jh),$h=v({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Kh=at($h),Xh=v({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qh=at(Xh),Zh=v({},In,{data:0}),Hu=at(Zh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=eg[t])?!!o[t]:!1}function Qa(){return tg}var ng=v({},oi,{key:function(t){if(t.key){var o=Wh[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),og=at(ng),ig=v({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=at(ig),lg=v({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),ag=at(lg),sg=v({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),rg=at(sg),ug=v({},ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=at(ug),fg=v({},In,{newState:0,oldState:0}),dg=at(fg),mg=[9,13,27,32],Za=Ht&&"CompositionEvent"in window,li=null;Ht&&"documentMode"in document&&(li=document.documentMode);var pg=Ht&&"TextEvent"in window&&!li,Fu=Ht&&(!Za||li&&8<li&&11>=li),Ou=" ",Yu=!1;function Ju(t,o){switch(t){case"keyup":return mg.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function hg(t,o){switch(t){case"compositionend":return $u(o);case"keypress":return o.which!==32?null:(Yu=!0,Ou);case"textInput":return t=o.data,t===Ou&&Yu?null:t;default:return null}}function gg(t,o){if(ro)return t==="compositionend"||!Za&&Ju(t,o)?(t=Gu(),ul=Ja=sn=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fu&&o.locale!=="ko"?null:o.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!yg[t.type]:o==="textarea"}function Xu(t,o,a,c){ao?so?so.push(c):so=[c]:ao=c,o=jl(o,"onChange"),0<o.length&&(a=new dl("onChange","change",null,a,c),t.push({event:a,listeners:o}))}var ai=null,si=null;function vg(t){bd(t,0)}function pl(t){var o=ei(t);if(bu(o))return t}function Qu(t,o){if(t==="change")return o}var Zu=!1;if(Ht){var Wa;if(Ht){var ja="oninput"in document;if(!ja){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),ja=typeof Wu.oninput=="function"}Wa=ja}else Wa=!1;Zu=Wa&&(!document.documentMode||9<document.documentMode)}function ju(){ai&&(ai.detachEvent("onpropertychange",ec),si=ai=null)}function ec(t){if(t.propertyName==="value"&&pl(si)){var o=[];Xu(o,si,t,Fa(t)),Pu(vg,o)}}function Tg(t,o,a){t==="focusin"?(ju(),ai=o,si=a,ai.attachEvent("onpropertychange",ec)):t==="focusout"&&ju()}function Sg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pl(si)}function xg(t,o){if(t==="click")return pl(o)}function Cg(t,o){if(t==="input"||t==="change")return pl(o)}function Eg(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var dt=typeof Object.is=="function"?Object.is:Eg;function ri(t,o){if(dt(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var a=Object.keys(t),c=Object.keys(o);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Na.call(o,f)||!dt(t[f],o[f]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nc(t,o){var a=tc(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=o&&c>=o)return{node:a,offset:o-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tc(a)}}function oc(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?oc(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function ic(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=sl(t.document);o instanceof t.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)t=o.contentWindow;else break;o=sl(t.document)}return o}function es(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var Ag=Ht&&"documentMode"in document&&11>=document.documentMode,uo=null,ts=null,ui=null,ns=!1;function lc(t,o,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ns||uo==null||uo!==sl(c)||(c=uo,"selectionStart"in c&&es(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ui&&ri(ui,c)||(ui=c,c=jl(ts,"onSelect"),0<c.length&&(o=new dl("onSelect","select",null,o,a),t.push({event:o,listeners:c}),o.target=uo)))}function kn(t,o){var a={};return a[t.toLowerCase()]=o.toLowerCase(),a["Webkit"+t]="webkit"+o,a["Moz"+t]="moz"+o,a}var co={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionrun:kn("Transition","TransitionRun"),transitionstart:kn("Transition","TransitionStart"),transitioncancel:kn("Transition","TransitionCancel"),transitionend:kn("Transition","TransitionEnd")},os={},ac={};Ht&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Vn(t){if(os[t])return os[t];if(!co[t])return t;var o=co[t],a;for(a in o)if(o.hasOwnProperty(a)&&a in ac)return os[t]=o[a];return t}var sc=Vn("animationend"),rc=Vn("animationiteration"),uc=Vn("animationstart"),_g=Vn("transitionrun"),wg=Vn("transitionstart"),Mg=Vn("transitioncancel"),cc=Vn("transitionend"),fc=new Map,is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");is.push("scrollEnd");function Rt(t,o){fc.set(t,o),Un(o,[t])}var dc=new WeakMap;function xt(t,o){if(typeof t=="object"&&t!==null){var a=dc.get(t);return a!==void 0?a:(o={value:t,source:o,stack:Nu(o)},dc.set(t,o),o)}return{value:t,source:o,stack:Nu(o)}}var Ct=[],fo=0,ls=0;function hl(){for(var t=fo,o=ls=fo=0;o<t;){var a=Ct[o];Ct[o++]=null;var c=Ct[o];Ct[o++]=null;var f=Ct[o];Ct[o++]=null;var p=Ct[o];if(Ct[o++]=null,c!==null&&f!==null){var S=c.pending;S===null?f.next=f:(f.next=S.next,S.next=f),c.pending=f}p!==0&&mc(a,f,p)}}function gl(t,o,a,c){Ct[fo++]=t,Ct[fo++]=o,Ct[fo++]=a,Ct[fo++]=c,ls|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function as(t,o,a,c){return gl(t,o,a,c),yl(t)}function mo(t,o){return gl(t,null,null,o),yl(t)}function mc(t,o,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,p=t.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&o!==null&&(f=31-ft(a),t=p.hiddenUpdates,c=t[f],c===null?t[f]=[o]:c.push(o),o.lane=a|536870912),p):null}function yl(t){if(50<ki)throw ki=0,dr=null,Error(l(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var po={};function Ng(t,o,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,o,a,c){return new Ng(t,o,a,c)}function ss(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zt(t,o){var a=t.alternate;return a===null?(a=mt(t.tag,o,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=o,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,o=t.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pc(t,o){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,o=a.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function vl(t,o,a,c,f,p){var S=0;if(c=t,typeof t=="function")ss(t)&&(S=1);else if(typeof t=="string")S=by(t,a,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=mt(31,a,o,f),t.elementType=ee,t.lanes=p,t;case k:return Ln(a.children,f,p,o);case G:S=8,f|=24;break;case Y:return t=mt(12,a,o,f|2),t.elementType=Y,t.lanes=p,t;case J:return t=mt(13,a,o,f),t.elementType=J,t.lanes=p,t;case se:return t=mt(19,a,o,f),t.elementType=se,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case K:S=10;break e;case O:S=9;break e;case W:S=11;break e;case ie:S=14;break e;case me:S=16,c=null;break e}S=29,a=Error(l(130,t===null?"null":typeof t,"")),c=null}return o=mt(S,a,o,f),o.elementType=t,o.type=c,o.lanes=p,o}function Ln(t,o,a,c){return t=mt(7,t,c,o),t.lanes=a,t}function rs(t,o,a){return t=mt(6,t,null,o),t.lanes=a,t}function us(t,o,a){return o=mt(4,t.children!==null?t.children:[],t.key,o),o.lanes=a,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var ho=[],go=0,Tl=null,Sl=0,Et=[],At=0,Pn=null,Ft=1,Ot="";function Gn(t,o){ho[go++]=Sl,ho[go++]=Tl,Tl=t,Sl=o}function hc(t,o,a){Et[At++]=Ft,Et[At++]=Ot,Et[At++]=Pn,Pn=t;var c=Ft;t=Ot;var f=32-ft(c)-1;c&=~(1<<f),a+=1;var p=32-ft(o)+f;if(30<p){var S=f-f%5;p=(c&(1<<S)-1).toString(32),c>>=S,f-=S,Ft=1<<32-ft(o)+f|a<<f|c,Ot=p+t}else Ft=1<<p|a<<f|c,Ot=t}function cs(t){t.return!==null&&(Gn(t,1),hc(t,1,0))}function fs(t){for(;t===Tl;)Tl=ho[--go],ho[go]=null,Sl=ho[--go],ho[go]=null;for(;t===Pn;)Pn=Et[--At],Et[At]=null,Ot=Et[--At],Et[At]=null,Ft=Et[--At],Et[At]=null}var ot=null,Ve=null,Ee=!1,qn=null,Vt=!1,ds=Error(l(519));function Bn(t){var o=Error(l(418,""));throw di(xt(o,t)),ds}function gc(t){var o=t.stateNode,a=t.type,c=t.memoizedProps;switch(o[je]=t,o[lt]=c,a){case"dialog":ye("cancel",o),ye("close",o);break;case"iframe":case"object":case"embed":ye("load",o);break;case"video":case"audio":for(a=0;a<Li.length;a++)ye(Li[a],o);break;case"source":ye("error",o);break;case"img":case"image":case"link":ye("error",o),ye("load",o);break;case"details":ye("toggle",o);break;case"input":ye("invalid",o),Du(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),al(o);break;case"select":ye("invalid",o);break;case"textarea":ye("invalid",o),Iu(o,c.value,c.defaultValue,c.children),al(o)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||c.suppressHydrationWarning===!0||kd(o.textContent,a)?(c.popover!=null&&(ye("beforetoggle",o),ye("toggle",o)),c.onScroll!=null&&ye("scroll",o),c.onScrollEnd!=null&&ye("scrollend",o),c.onClick!=null&&(o.onclick=ea),o=!0):o=!1,o||Bn(t)}function yc(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:ot=ot.return}}function ci(t){if(t!==ot)return!1;if(!Ee)return yc(t),Ee=!0,!1;var o=t.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nr(t.type,t.memoizedProps)),a=!a),a&&Ve&&Bn(t),yc(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(o===0){Ve=Dt(t.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;t=t.nextSibling}Ve=null}}else o===27?(o=Ve,En(t.type)?(t=Ur,Ur=null,Ve=t):Ve=o):Ve=ot?Dt(t.stateNode.nextSibling):null;return!0}function fi(){Ve=ot=null,Ee=!1}function vc(){var t=qn;return t!==null&&(ut===null?ut=t:ut.push.apply(ut,t),qn=null),t}function di(t){qn===null?qn=[t]:qn.push(t)}var ms=q(null),Hn=null,Yt=null;function rn(t,o,a){F(ms,o._currentValue),o._currentValue=a}function Jt(t){t._currentValue=ms.current,H(ms)}function ps(t,o,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),t===a)break;t=t.return}}function hs(t,o,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=f;for(var _=0;_<o.length;_++)if(C.context===o[_]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),ps(p.return,a,t),c||(S=null);break e}p=C.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(l(341));S.lanes|=a,p=S.alternate,p!==null&&(p.lanes|=a),ps(S,a,t),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===t){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function mi(t,o,a,c){t=null;for(var f=o,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(l(387));if(S=S.memoizedProps,S!==null){var C=f.type;dt(f.pendingProps.value,S.value)||(t!==null?t.push(C):t=[C])}}else if(f===He.current){if(S=f.alternate,S===null)throw Error(l(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zi):t=[zi])}f=f.return}t!==null&&hs(o,t,a,c),o.flags|=262144}function xl(t){for(t=t.firstContext;t!==null;){if(!dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zn(t){Hn=t,Yt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function et(t){return Tc(Hn,t)}function Cl(t,o){return Hn===null&&zn(t),Tc(t,o)}function Tc(t,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Yt===null){if(t===null)throw Error(l(308));Yt=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else Yt=Yt.next=o;return a}var Rg=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){o.aborted=!0,t.forEach(function(a){return a()})}},bg=n.unstable_scheduleCallback,Dg=n.unstable_NormalPriority,ze={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gs(){return{controller:new Rg,data:new Map,refCount:0}}function pi(t){t.refCount--,t.refCount===0&&bg(Dg,function(){t.controller.abort()})}var hi=null,ys=0,yo=0,vo=null;function Ug(t,o){if(hi===null){var a=hi=[];ys=0,yo=Tr(),vo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ys++,o.then(Sc,Sc),o}function Sc(){if(--ys===0&&hi!==null){vo!==null&&(vo.status="fulfilled");var t=hi;hi=null,yo=0,vo=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function Ig(t,o){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=o;for(var f=0;f<a.length;f++)(0,a[f])(o)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var xc=R.S;R.S=function(t,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Ug(t,o),xc!==null&&xc(t,o)};var Fn=q(null);function vs(){var t=Fn.current;return t!==null?t:De.pooledCache}function El(t,o){o===null?F(Fn,Fn.current):F(Fn,o.pool)}function Cc(){var t=vs();return t===null?null:{parent:ze._currentValue,pool:t}}var gi=Error(l(460)),Ec=Error(l(474)),Al=Error(l(542)),Ts={then:function(){}};function Ac(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _l(){}function _c(t,o,a){switch(a=t[a],a===void 0?t.push(o):a!==o&&(o.then(_l,_l),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Mc(t),t;default:if(typeof o.status=="string")o.then(_l,_l);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=o,t.status="pending",t.then(function(c){if(o.status==="pending"){var f=o;f.status="fulfilled",f.value=c}},function(c){if(o.status==="pending"){var f=o;f.status="rejected",f.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Mc(t),t}throw yi=o,gi}}var yi=null;function wc(){if(yi===null)throw Error(l(459));var t=yi;return yi=null,t}function Mc(t){if(t===gi||t===Al)throw Error(l(483))}var un=!1;function Ss(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xs(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fn(t,o,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var f=c.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),c.pending=o,o=yl(t),mc(t,null,a),o}return gl(t,c,o,a),yl(t)}function vi(t,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var c=o.lanes;c&=t.pendingLanes,a|=c,o.lanes=a,Su(t,a)}}function Cs(t,o){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,a=a.next}while(a!==null);p===null?f=p=o:p=p.next=o}else f=p=o;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=o:t.next=o,a.lastBaseUpdate=o}var Es=!1;function Ti(){if(Es){var t=vo;if(t!==null)throw t}}function Si(t,o,a,c){Es=!1;var f=t.updateQueue;un=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var _=C,D=_.next;_.next=null,S===null?p=D:S.next=D,S=_;var L=t.alternate;L!==null&&(L=L.updateQueue,C=L.lastBaseUpdate,C!==S&&(C===null?L.firstBaseUpdate=D:C.next=D,L.lastBaseUpdate=_))}if(p!==null){var z=f.baseState;S=0,L=D=_=null,C=p;do{var U=C.lane&-536870913,I=U!==C.lane;if(I?(ve&U)===U:(c&U)===U){U!==0&&U===yo&&(Es=!0),L!==null&&(L=L.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ue=t,le=C;U=o;var Re=a;switch(le.tag){case 1:if(ue=le.payload,typeof ue=="function"){z=ue.call(Re,z,U);break e}z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=le.payload,U=typeof ue=="function"?ue.call(Re,z,U):ue,U==null)break e;z=v({},z,U);break e;case 2:un=!0}}U=C.callback,U!==null&&(t.flags|=64,I&&(t.flags|=8192),I=f.callbacks,I===null?f.callbacks=[U]:I.push(U))}else I={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},L===null?(D=L=I,_=z):L=L.next=I,S|=U;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;I=C,C=I.next,I.next=null,f.lastBaseUpdate=I,f.shared.pending=null}}while(!0);L===null&&(_=z),f.baseState=_,f.firstBaseUpdate=D,f.lastBaseUpdate=L,p===null&&(f.shared.lanes=0),Tn|=S,t.lanes=S,t.memoizedState=z}}function Nc(t,o){if(typeof t!="function")throw Error(l(191,t));t.call(o)}function Rc(t,o){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Nc(a[t],o)}var To=q(null),wl=q(0);function bc(t,o){t=jt,F(wl,t),F(To,o),jt=t|o.baseLanes}function As(){F(wl,jt),F(To,To.current)}function _s(){jt=wl.current,H(To),H(wl)}var dn=0,pe=null,Me=null,qe=null,Ml=!1,So=!1,On=!1,Nl=0,xi=0,xo=null,kg=0;function Pe(){throw Error(l(321))}function ws(t,o){if(o===null)return!1;for(var a=0;a<o.length&&a<t.length;a++)if(!dt(t[a],o[a]))return!1;return!0}function Ms(t,o,a,c,f,p){return dn=p,pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=t===null||t.memoizedState===null?pf:hf,On=!1,p=a(c,f),On=!1,So&&(p=Uc(o,a,c,f)),Dc(t),p}function Dc(t){R.H=kl;var o=Me!==null&&Me.next!==null;if(dn=0,qe=Me=pe=null,Ml=!1,xi=0,xo=null,o)throw Error(l(300));t===null||Ye||(t=t.dependencies,t!==null&&xl(t)&&(Ye=!0))}function Uc(t,o,a,c){pe=t;var f=0;do{if(So&&(xo=null),xi=0,So=!1,25<=f)throw Error(l(301));if(f+=1,qe=Me=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=Hg,p=o(a,c)}while(So);return p}function Vg(){var t=R.H,o=t.useState()[0];return o=typeof o.then=="function"?Ci(o):o,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(pe.flags|=1024),o}function Ns(){var t=Nl!==0;return Nl=0,t}function Rs(t,o,a){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~a}function bs(t){if(Ml){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Ml=!1}dn=0,qe=Me=pe=null,So=!1,xi=Nl=0,xo=null}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?pe.memoizedState=qe=t:qe=qe.next=t,qe}function Be(){if(Me===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var o=qe===null?pe.memoizedState:qe.next;if(o!==null)qe=o,Me=t;else{if(t===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},qe===null?pe.memoizedState=qe=t:qe=qe.next=t}return qe}function Ds(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ci(t){var o=xi;return xi+=1,xo===null&&(xo=[]),t=_c(xo,t,o),o=pe,(qe===null?o.memoizedState:qe.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?pf:hf),t}function Rl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ci(t);if(t.$$typeof===K)return et(t)}throw Error(l(438,String(t)))}function Us(t){var o=null,a=pe.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var c=pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(f){return f.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Ds(),pe.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(t),c=0;c<t;c++)a[c]=de;return o.index++,a}function $t(t,o){return typeof o=="function"?o(t):o}function bl(t){var o=Be();return Is(o,Me,t)}function Is(t,o,a){var c=t.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var f=t.baseQueue,p=c.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}o.baseQueue=f=p,c.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{o=f.next;var C=S=null,_=null,D=o,L=!1;do{var z=D.lane&-536870913;if(z!==D.lane?(ve&z)===z:(dn&z)===z){var U=D.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),z===yo&&(L=!0);else if((dn&U)===U){D=D.next,U===yo&&(L=!0);continue}else z={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(C=_=z,S=p):_=_.next=z,pe.lanes|=U,Tn|=U;z=D.action,On&&a(p,z),p=D.hasEagerState?D.eagerState:a(p,z)}else U={lane:z,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(C=_=U,S=p):_=_.next=U,pe.lanes|=z,Tn|=z;D=D.next}while(D!==null&&D!==o);if(_===null?S=p:_.next=C,!dt(p,t.memoizedState)&&(Ye=!0,L&&(a=vo,a!==null)))throw a;t.memoizedState=p,t.baseState=S,t.baseQueue=_,c.lastRenderedState=p}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function ks(t){var o=Be(),a=o.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,p=o.memoizedState;if(f!==null){a.pending=null;var S=f=f.next;do p=t(p,S.action),S=S.next;while(S!==f);dt(p,o.memoizedState)||(Ye=!0),o.memoizedState=p,o.baseQueue===null&&(o.baseState=p),a.lastRenderedState=p}return[p,c]}function Ic(t,o,a){var c=pe,f=Be(),p=Ee;if(p){if(a===void 0)throw Error(l(407));a=a()}else a=o();var S=!dt((Me||f).memoizedState,a);S&&(f.memoizedState=a,Ye=!0),f=f.queue;var C=Lc.bind(null,c,f,t);if(Ei(2048,8,C,[t]),f.getSnapshot!==o||S||qe!==null&&qe.memoizedState.tag&1){if(c.flags|=2048,Co(9,Dl(),Vc.bind(null,c,f,a,o),null),De===null)throw Error(l(349));p||(dn&124)!==0||kc(c,o,a)}return a}function kc(t,o,a){t.flags|=16384,t={getSnapshot:o,value:a},o=pe.updateQueue,o===null?(o=Ds(),pe.updateQueue=o,o.stores=[t]):(a=o.stores,a===null?o.stores=[t]:a.push(t))}function Vc(t,o,a,c){o.value=a,o.getSnapshot=c,Pc(o)&&Gc(t)}function Lc(t,o,a){return a(function(){Pc(o)&&Gc(t)})}function Pc(t){var o=t.getSnapshot;t=t.value;try{var a=o();return!dt(t,a)}catch{return!0}}function Gc(t){var o=mo(t,2);o!==null&&vt(o,t,2)}function Vs(t){var o=st();if(typeof t=="function"){var a=t;if(t=a(),On){ln(!0);try{a()}finally{ln(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},o}function qc(t,o,a,c){return t.baseState=a,Is(t,Me,typeof c=="function"?c:$t)}function Lg(t,o,a,c,f){if(Il(t))throw Error(l(485));if(t=o.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};R.T!==null?a(!0):p.isTransition=!1,c(p),a=o.pending,a===null?(p.next=o.pending=p,Bc(o,p)):(p.next=a.next,o.pending=a.next=p)}}function Bc(t,o){var a=o.action,c=o.payload,f=t.state;if(o.isTransition){var p=R.T,S={};R.T=S;try{var C=a(f,c),_=R.S;_!==null&&_(S,C),Hc(t,o,C)}catch(D){Ls(t,o,D)}finally{R.T=p}}else try{p=a(f,c),Hc(t,o,p)}catch(D){Ls(t,o,D)}}function Hc(t,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){zc(t,o,c)},function(c){return Ls(t,o,c)}):zc(t,o,a)}function zc(t,o,a){o.status="fulfilled",o.value=a,Fc(o),t.state=a,o=t.pending,o!==null&&(a=o.next,a===o?t.pending=null:(a=a.next,o.next=a,Bc(t,a)))}function Ls(t,o,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=a,Fc(o),o=o.next;while(o!==c)}t.action=null}function Fc(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function Oc(t,o){return o}function Yc(t,o){if(Ee){var a=De.formState;if(a!==null){e:{var c=pe;if(Ee){if(Ve){t:{for(var f=Ve,p=Vt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Dt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ve=Dt(f.nextSibling),c=f.data==="F!";break e}}Bn(c)}c=!1}c&&(o=a[0])}}return a=st(),a.memoizedState=a.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:o},a.queue=c,a=ff.bind(null,pe,c),c.dispatch=a,c=Vs(!1),p=Hs.bind(null,pe,!1,c.queue),c=st(),f={state:o,dispatch:null,action:t,pending:null},c.queue=f,a=Lg.bind(null,pe,f,p,a),f.dispatch=a,c.memoizedState=t,[o,a,!1]}function Jc(t){var o=Be();return $c(o,Me,t)}function $c(t,o,a){if(o=Is(t,o,Oc)[0],t=bl($t)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Ci(o)}catch(S){throw S===gi?Al:S}else c=o;o=Be();var f=o.queue,p=f.dispatch;return a!==o.memoizedState&&(pe.flags|=2048,Co(9,Dl(),Pg.bind(null,f,a),null)),[c,p,t]}function Pg(t,o){t.action=o}function Kc(t){var o=Be(),a=Me;if(a!==null)return $c(o,a,t);Be(),o=o.memoizedState,a=Be();var c=a.queue.dispatch;return a.memoizedState=t,[o,c,!1]}function Co(t,o,a,c){return t={tag:t,create:a,deps:c,inst:o,next:null},o=pe.updateQueue,o===null&&(o=Ds(),pe.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,o.lastEffect=t),t}function Dl(){return{destroy:void 0,resource:void 0}}function Xc(){return Be().memoizedState}function Ul(t,o,a,c){var f=st();c=c===void 0?null:c,pe.flags|=t,f.memoizedState=Co(1|o,Dl(),a,c)}function Ei(t,o,a,c){var f=Be();c=c===void 0?null:c;var p=f.memoizedState.inst;Me!==null&&c!==null&&ws(c,Me.memoizedState.deps)?f.memoizedState=Co(o,p,a,c):(pe.flags|=t,f.memoizedState=Co(1|o,p,a,c))}function Qc(t,o){Ul(8390656,8,t,o)}function Zc(t,o){Ei(2048,8,t,o)}function Wc(t,o){return Ei(4,2,t,o)}function jc(t,o){return Ei(4,4,t,o)}function ef(t,o){if(typeof o=="function"){t=t();var a=o(t);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function tf(t,o,a){a=a!=null?a.concat([t]):null,Ei(4,4,ef.bind(null,o,t),a)}function Ps(){}function nf(t,o){var a=Be();o=o===void 0?null:o;var c=a.memoizedState;return o!==null&&ws(o,c[1])?c[0]:(a.memoizedState=[t,o],t)}function of(t,o){var a=Be();o=o===void 0?null:o;var c=a.memoizedState;if(o!==null&&ws(o,c[1]))return c[0];if(c=t(),On){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[c,o],c}function Gs(t,o,a){return a===void 0||(dn&1073741824)!==0?t.memoizedState=o:(t.memoizedState=a,t=sd(),pe.lanes|=t,Tn|=t,a)}function lf(t,o,a,c){return dt(a,o)?a:To.current!==null?(t=Gs(t,a,c),dt(t,o)||(Ye=!0),t):(dn&42)===0?(Ye=!0,t.memoizedState=a):(t=sd(),pe.lanes|=t,Tn|=t,o)}function af(t,o,a,c,f){var p=$.p;$.p=p!==0&&8>p?p:8;var S=R.T,C={};R.T=C,Hs(t,!1,o,a);try{var _=f(),D=R.S;if(D!==null&&D(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var L=Ig(_,c);Ai(t,o,L,yt(t))}else Ai(t,o,c,yt(t))}catch(z){Ai(t,o,{then:function(){},status:"rejected",reason:z},yt())}finally{$.p=p,R.T=S}}function Gg(){}function qs(t,o,a,c){if(t.tag!==5)throw Error(l(476));var f=sf(t).queue;af(t,f,o,P,a===null?Gg:function(){return rf(t),a(c)})}function sf(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:P},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:a},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function rf(t){var o=sf(t).next.queue;Ai(t,o,{},yt())}function Bs(){return et(zi)}function uf(){return Be().memoizedState}function cf(){return Be().memoizedState}function qg(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var a=yt();t=cn(a);var c=fn(o,t,a);c!==null&&(vt(c,o,a),vi(c,o,a)),o={cache:gs()},t.payload=o;return}o=o.return}}function Bg(t,o,a){var c=yt();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Il(t)?df(o,a):(a=as(t,o,a,c),a!==null&&(vt(a,t,c),mf(a,o,c)))}function ff(t,o,a){var c=yt();Ai(t,o,a,c)}function Ai(t,o,a,c){var f={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Il(t))df(o,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=o.lastRenderedReducer,p!==null))try{var S=o.lastRenderedState,C=p(S,a);if(f.hasEagerState=!0,f.eagerState=C,dt(C,S))return gl(t,o,f,0),De===null&&hl(),!1}catch{}finally{}if(a=as(t,o,f,c),a!==null)return vt(a,t,c),mf(a,o,c),!0}return!1}function Hs(t,o,a,c){if(c={lane:2,revertLane:Tr(),action:c,hasEagerState:!1,eagerState:null,next:null},Il(t)){if(o)throw Error(l(479))}else o=as(t,a,c,2),o!==null&&vt(o,t,2)}function Il(t){var o=t.alternate;return t===pe||o!==null&&o===pe}function df(t,o){So=Ml=!0;var a=t.pending;a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o}function mf(t,o,a){if((a&4194048)!==0){var c=o.lanes;c&=t.pendingLanes,a|=c,o.lanes=a,Su(t,a)}}var kl={readContext:et,use:Rl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},pf={readContext:et,use:Rl,useCallback:function(t,o){return st().memoizedState=[t,o===void 0?null:o],t},useContext:et,useEffect:Qc,useImperativeHandle:function(t,o,a){a=a!=null?a.concat([t]):null,Ul(4194308,4,ef.bind(null,o,t),a)},useLayoutEffect:function(t,o){return Ul(4194308,4,t,o)},useInsertionEffect:function(t,o){Ul(4,2,t,o)},useMemo:function(t,o){var a=st();o=o===void 0?null:o;var c=t();if(On){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[c,o],c},useReducer:function(t,o,a){var c=st();if(a!==void 0){var f=a(o);if(On){ln(!0);try{a(o)}finally{ln(!1)}}}else f=o;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=Bg.bind(null,pe,t),[c.memoizedState,t]},useRef:function(t){var o=st();return t={current:t},o.memoizedState=t},useState:function(t){t=Vs(t);var o=t.queue,a=ff.bind(null,pe,o);return o.dispatch=a,[t.memoizedState,a]},useDebugValue:Ps,useDeferredValue:function(t,o){var a=st();return Gs(a,t,o)},useTransition:function(){var t=Vs(!1);return t=af.bind(null,pe,t.queue,!0,!1),st().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,a){var c=pe,f=st();if(Ee){if(a===void 0)throw Error(l(407));a=a()}else{if(a=o(),De===null)throw Error(l(349));(ve&124)!==0||kc(c,o,a)}f.memoizedState=a;var p={value:a,getSnapshot:o};return f.queue=p,Qc(Lc.bind(null,c,p,t),[t]),c.flags|=2048,Co(9,Dl(),Vc.bind(null,c,p,a,o),null),a},useId:function(){var t=st(),o=De.identifierPrefix;if(Ee){var a=Ot,c=Ft;a=(c&~(1<<32-ft(c)-1)).toString(32)+a,o=""+o+"R"+a,a=Nl++,0<a&&(o+="H"+a.toString(32)),o+=""}else a=kg++,o=""+o+"r"+a.toString(32)+"";return t.memoizedState=o},useHostTransitionStatus:Bs,useFormState:Yc,useActionState:Yc,useOptimistic:function(t){var o=st();o.memoizedState=o.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Hs.bind(null,pe,!0,a),a.dispatch=o,[t,o]},useMemoCache:Us,useCacheRefresh:function(){return st().memoizedState=qg.bind(null,pe)}},hf={readContext:et,use:Rl,useCallback:nf,useContext:et,useEffect:Zc,useImperativeHandle:tf,useInsertionEffect:Wc,useLayoutEffect:jc,useMemo:of,useReducer:bl,useRef:Xc,useState:function(){return bl($t)},useDebugValue:Ps,useDeferredValue:function(t,o){var a=Be();return lf(a,Me.memoizedState,t,o)},useTransition:function(){var t=bl($t)[0],o=Be().memoizedState;return[typeof t=="boolean"?t:Ci(t),o]},useSyncExternalStore:Ic,useId:uf,useHostTransitionStatus:Bs,useFormState:Jc,useActionState:Jc,useOptimistic:function(t,o){var a=Be();return qc(a,Me,t,o)},useMemoCache:Us,useCacheRefresh:cf},Hg={readContext:et,use:Rl,useCallback:nf,useContext:et,useEffect:Zc,useImperativeHandle:tf,useInsertionEffect:Wc,useLayoutEffect:jc,useMemo:of,useReducer:ks,useRef:Xc,useState:function(){return ks($t)},useDebugValue:Ps,useDeferredValue:function(t,o){var a=Be();return Me===null?Gs(a,t,o):lf(a,Me.memoizedState,t,o)},useTransition:function(){var t=ks($t)[0],o=Be().memoizedState;return[typeof t=="boolean"?t:Ci(t),o]},useSyncExternalStore:Ic,useId:uf,useHostTransitionStatus:Bs,useFormState:Kc,useActionState:Kc,useOptimistic:function(t,o){var a=Be();return Me!==null?qc(a,Me,t,o):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Us,useCacheRefresh:cf},Eo=null,_i=0;function Vl(t){var o=_i;return _i+=1,Eo===null&&(Eo=[]),_c(Eo,t,o)}function wi(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function Ll(t,o){throw o.$$typeof===x?Error(l(525)):(t=Object.prototype.toString.call(o),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function gf(t){var o=t._init;return o(t._payload)}function yf(t){function o(N,w){if(t){var b=N.deletions;b===null?(N.deletions=[w],N.flags|=16):b.push(w)}}function a(N,w){if(!t)return null;for(;w!==null;)o(N,w),w=w.sibling;return null}function c(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function f(N,w){return N=zt(N,w),N.index=0,N.sibling=null,N}function p(N,w,b){return N.index=b,t?(b=N.alternate,b!==null?(b=b.index,b<w?(N.flags|=67108866,w):b):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function S(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function C(N,w,b,B){return w===null||w.tag!==6?(w=rs(b,N.mode,B),w.return=N,w):(w=f(w,b),w.return=N,w)}function _(N,w,b,B){var Z=b.type;return Z===k?L(N,w,b.props.children,B,b.key):w!==null&&(w.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===me&&gf(Z)===w.type)?(w=f(w,b.props),wi(w,b),w.return=N,w):(w=vl(b.type,b.key,b.props,null,N.mode,B),wi(w,b),w.return=N,w)}function D(N,w,b,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=us(b,N.mode,B),w.return=N,w):(w=f(w,b.children||[]),w.return=N,w)}function L(N,w,b,B,Z){return w===null||w.tag!==7?(w=Ln(b,N.mode,B,Z),w.return=N,w):(w=f(w,b),w.return=N,w)}function z(N,w,b){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=rs(""+w,N.mode,b),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return b=vl(w.type,w.key,w.props,null,N.mode,b),wi(b,w),b.return=N,b;case M:return w=us(w,N.mode,b),w.return=N,w;case me:var B=w._init;return w=B(w._payload),z(N,w,b)}if(Ce(w)||Te(w))return w=Ln(w,N.mode,b,null),w.return=N,w;if(typeof w.then=="function")return z(N,Vl(w),b);if(w.$$typeof===K)return z(N,Cl(N,w),b);Ll(N,w)}return null}function U(N,w,b,B){var Z=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return Z!==null?null:C(N,w,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case E:return b.key===Z?_(N,w,b,B):null;case M:return b.key===Z?D(N,w,b,B):null;case me:return Z=b._init,b=Z(b._payload),U(N,w,b,B)}if(Ce(b)||Te(b))return Z!==null?null:L(N,w,b,B,null);if(typeof b.then=="function")return U(N,w,Vl(b),B);if(b.$$typeof===K)return U(N,w,Cl(N,b),B);Ll(N,b)}return null}function I(N,w,b,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(b)||null,C(w,N,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return N=N.get(B.key===null?b:B.key)||null,_(w,N,B,Z);case M:return N=N.get(B.key===null?b:B.key)||null,D(w,N,B,Z);case me:var he=B._init;return B=he(B._payload),I(N,w,b,B,Z)}if(Ce(B)||Te(B))return N=N.get(b)||null,L(w,N,B,Z,null);if(typeof B.then=="function")return I(N,w,b,Vl(B),Z);if(B.$$typeof===K)return I(N,w,b,Cl(w,B),Z);Ll(w,B)}return null}function ue(N,w,b,B){for(var Z=null,he=null,te=w,ae=w=0,$e=null;te!==null&&ae<b.length;ae++){te.index>ae?($e=te,te=null):$e=te.sibling;var xe=U(N,te,b[ae],B);if(xe===null){te===null&&(te=$e);break}t&&te&&xe.alternate===null&&o(N,te),w=p(xe,w,ae),he===null?Z=xe:he.sibling=xe,he=xe,te=$e}if(ae===b.length)return a(N,te),Ee&&Gn(N,ae),Z;if(te===null){for(;ae<b.length;ae++)te=z(N,b[ae],B),te!==null&&(w=p(te,w,ae),he===null?Z=te:he.sibling=te,he=te);return Ee&&Gn(N,ae),Z}for(te=c(te);ae<b.length;ae++)$e=I(te,N,ae,b[ae],B),$e!==null&&(t&&$e.alternate!==null&&te.delete($e.key===null?ae:$e.key),w=p($e,w,ae),he===null?Z=$e:he.sibling=$e,he=$e);return t&&te.forEach(function(Nn){return o(N,Nn)}),Ee&&Gn(N,ae),Z}function le(N,w,b,B){if(b==null)throw Error(l(151));for(var Z=null,he=null,te=w,ae=w=0,$e=null,xe=b.next();te!==null&&!xe.done;ae++,xe=b.next()){te.index>ae?($e=te,te=null):$e=te.sibling;var Nn=U(N,te,xe.value,B);if(Nn===null){te===null&&(te=$e);break}t&&te&&Nn.alternate===null&&o(N,te),w=p(Nn,w,ae),he===null?Z=Nn:he.sibling=Nn,he=Nn,te=$e}if(xe.done)return a(N,te),Ee&&Gn(N,ae),Z;if(te===null){for(;!xe.done;ae++,xe=b.next())xe=z(N,xe.value,B),xe!==null&&(w=p(xe,w,ae),he===null?Z=xe:he.sibling=xe,he=xe);return Ee&&Gn(N,ae),Z}for(te=c(te);!xe.done;ae++,xe=b.next())xe=I(te,N,ae,xe.value,B),xe!==null&&(t&&xe.alternate!==null&&te.delete(xe.key===null?ae:xe.key),w=p(xe,w,ae),he===null?Z=xe:he.sibling=xe,he=xe);return t&&te.forEach(function(zy){return o(N,zy)}),Ee&&Gn(N,ae),Z}function Re(N,w,b,B){if(typeof b=="object"&&b!==null&&b.type===k&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case E:e:{for(var Z=b.key;w!==null;){if(w.key===Z){if(Z=b.type,Z===k){if(w.tag===7){a(N,w.sibling),B=f(w,b.props.children),B.return=N,N=B;break e}}else if(w.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===me&&gf(Z)===w.type){a(N,w.sibling),B=f(w,b.props),wi(B,b),B.return=N,N=B;break e}a(N,w);break}else o(N,w);w=w.sibling}b.type===k?(B=Ln(b.props.children,N.mode,B,b.key),B.return=N,N=B):(B=vl(b.type,b.key,b.props,null,N.mode,B),wi(B,b),B.return=N,N=B)}return S(N);case M:e:{for(Z=b.key;w!==null;){if(w.key===Z)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){a(N,w.sibling),B=f(w,b.children||[]),B.return=N,N=B;break e}else{a(N,w);break}else o(N,w);w=w.sibling}B=us(b,N.mode,B),B.return=N,N=B}return S(N);case me:return Z=b._init,b=Z(b._payload),Re(N,w,b,B)}if(Ce(b))return ue(N,w,b,B);if(Te(b)){if(Z=Te(b),typeof Z!="function")throw Error(l(150));return b=Z.call(b),le(N,w,b,B)}if(typeof b.then=="function")return Re(N,w,Vl(b),B);if(b.$$typeof===K)return Re(N,w,Cl(N,b),B);Ll(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,w!==null&&w.tag===6?(a(N,w.sibling),B=f(w,b),B.return=N,N=B):(a(N,w),B=rs(b,N.mode,B),B.return=N,N=B),S(N)):a(N,w)}return function(N,w,b,B){try{_i=0;var Z=Re(N,w,b,B);return Eo=null,Z}catch(te){if(te===gi||te===Al)throw te;var he=mt(29,te,null,N.mode);return he.lanes=B,he.return=N,he}finally{}}}var Ao=yf(!0),vf=yf(!1),_t=q(null),Lt=null;function mn(t){var o=t.alternate;F(Fe,Fe.current&1),F(_t,t),Lt===null&&(o===null||To.current!==null||o.memoizedState!==null)&&(Lt=t)}function Tf(t){if(t.tag===22){if(F(Fe,Fe.current),F(_t,t),Lt===null){var o=t.alternate;o!==null&&o.memoizedState!==null&&(Lt=t)}}else pn()}function pn(){F(Fe,Fe.current),F(_t,_t.current)}function Kt(t){H(_t),Lt===t&&(Lt=null),H(Fe)}var Fe=q(0);function Pl(t){for(var o=t;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dr(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function zs(t,o,a,c){o=t.memoizedState,a=a(c,o),a=a==null?o:v({},o,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Fs={enqueueSetState:function(t,o,a){t=t._reactInternals;var c=yt(),f=cn(c);f.payload=o,a!=null&&(f.callback=a),o=fn(t,f,c),o!==null&&(vt(o,t,c),vi(o,t,c))},enqueueReplaceState:function(t,o,a){t=t._reactInternals;var c=yt(),f=cn(c);f.tag=1,f.payload=o,a!=null&&(f.callback=a),o=fn(t,f,c),o!==null&&(vt(o,t,c),vi(o,t,c))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var a=yt(),c=cn(a);c.tag=2,o!=null&&(c.callback=o),o=fn(t,c,a),o!==null&&(vt(o,t,a),vi(o,t,a))}};function Sf(t,o,a,c,f,p,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,S):o.prototype&&o.prototype.isPureReactComponent?!ri(a,c)||!ri(f,p):!0}function xf(t,o,a,c){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,c),o.state!==t&&Fs.enqueueReplaceState(o,o.state,null)}function Yn(t,o){var a=o;if("ref"in o){a={};for(var c in o)c!=="ref"&&(a[c]=o[c])}if(t=t.defaultProps){a===o&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Gl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Cf(t){Gl(t)}function Ef(t){console.error(t)}function Af(t){Gl(t)}function ql(t,o){try{var a=t.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function _f(t,o,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Os(t,o,a){return a=cn(a),a.tag=3,a.payload={element:null},a.callback=function(){ql(t,o)},a}function wf(t){return t=cn(t),t.tag=3,t}function Mf(t,o,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;t.payload=function(){return f(p)},t.callback=function(){_f(o,a,c)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){_f(o,a,c),typeof f!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function zg(t,o,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=a.alternate,o!==null&&mi(o,a,f,!0),a=_t.current,a!==null){switch(a.tag){case 13:return Lt===null?pr():a.alternate===null&&Le===0&&(Le=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Ts?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([c]):o.add(c),gr(t,c,f)),!1;case 22:return a.flags|=65536,c===Ts?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([c]):a.add(c)),gr(t,c,f)),!1}throw Error(l(435,a.tag))}return gr(t,c,f),pr(),!1}if(Ee)return o=_t.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=f,c!==ds&&(t=Error(l(422),{cause:c}),di(xt(t,a)))):(c!==ds&&(o=Error(l(423),{cause:c}),di(xt(o,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=xt(c,a),f=Os(t.stateNode,c,f),Cs(t,f),Le!==4&&(Le=2)),!1;var p=Error(l(520),{cause:c});if(p=xt(p,a),Ii===null?Ii=[p]:Ii.push(p),Le!==4&&(Le=2),o===null)return!0;c=xt(c,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Os(a.stateNode,c,t),Cs(a,t),!1;case 1:if(o=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Sn===null||!Sn.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=wf(f),Mf(f,t,a,c),Cs(a,f),!1}a=a.return}while(a!==null);return!1}var Nf=Error(l(461)),Ye=!1;function Qe(t,o,a,c){o.child=t===null?vf(o,null,a,c):Ao(o,t.child,a,c)}function Rf(t,o,a,c,f){a=a.render;var p=o.ref;if("ref"in c){var S={};for(var C in c)C!=="ref"&&(S[C]=c[C])}else S=c;return zn(o),c=Ms(t,o,a,S,p,f),C=Ns(),t!==null&&!Ye?(Rs(t,o,f),Xt(t,o,f)):(Ee&&C&&cs(o),o.flags|=1,Qe(t,o,c,f),o.child)}function bf(t,o,a,c,f){if(t===null){var p=a.type;return typeof p=="function"&&!ss(p)&&p.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=p,Df(t,o,p,c,f)):(t=vl(a.type,null,c,o,o.mode,f),t.ref=o.ref,t.return=o,o.child=t)}if(p=t.child,!Ws(t,f)){var S=p.memoizedProps;if(a=a.compare,a=a!==null?a:ri,a(S,c)&&t.ref===o.ref)return Xt(t,o,f)}return o.flags|=1,t=zt(p,c),t.ref=o.ref,t.return=o,o.child=t}function Df(t,o,a,c,f){if(t!==null){var p=t.memoizedProps;if(ri(p,c)&&t.ref===o.ref)if(Ye=!1,o.pendingProps=c=p,Ws(t,f))(t.flags&131072)!==0&&(Ye=!0);else return o.lanes=t.lanes,Xt(t,o,f)}return Ys(t,o,a,c,f)}function Uf(t,o,a){var c=o.pendingProps,f=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=p!==null?p.baseLanes|a:a,t!==null){for(f=o.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;o.childLanes=p&~c}else o.childLanes=0,o.child=null;return If(t,o,c,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&El(o,p!==null?p.cachePool:null),p!==null?bc(o,p):As(),Tf(o);else return o.lanes=o.childLanes=536870912,If(t,o,p!==null?p.baseLanes|a:a,a)}else p!==null?(El(o,p.cachePool),bc(o,p),pn(),o.memoizedState=null):(t!==null&&El(o,null),As(),pn());return Qe(t,o,f,a),o.child}function If(t,o,a,c){var f=vs();return f=f===null?null:{parent:ze._currentValue,pool:f},o.memoizedState={baseLanes:a,cachePool:f},t!==null&&El(o,null),As(),Tf(o),t!==null&&mi(t,o,c,!0),null}function Bl(t,o){var a=o.ref;if(a===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(o.flags|=4194816)}}function Ys(t,o,a,c,f){return zn(o),a=Ms(t,o,a,c,void 0,f),c=Ns(),t!==null&&!Ye?(Rs(t,o,f),Xt(t,o,f)):(Ee&&c&&cs(o),o.flags|=1,Qe(t,o,a,f),o.child)}function kf(t,o,a,c,f,p){return zn(o),o.updateQueue=null,a=Uc(o,c,a,f),Dc(t),c=Ns(),t!==null&&!Ye?(Rs(t,o,p),Xt(t,o,p)):(Ee&&c&&cs(o),o.flags|=1,Qe(t,o,a,p),o.child)}function Vf(t,o,a,c,f){if(zn(o),o.stateNode===null){var p=po,S=a.contextType;typeof S=="object"&&S!==null&&(p=et(S)),p=new a(c,p),o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fs,o.stateNode=p,p._reactInternals=o,p=o.stateNode,p.props=c,p.state=o.memoizedState,p.refs={},Ss(o),S=a.contextType,p.context=typeof S=="object"&&S!==null?et(S):po,p.state=o.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(zs(o,a,S,c),p.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Fs.enqueueReplaceState(p,p.state,null),Si(o,c,p,f),Ti(),p.state=o.memoizedState),typeof p.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(t===null){p=o.stateNode;var C=o.memoizedProps,_=Yn(a,C);p.props=_;var D=p.context,L=a.contextType;S=po,typeof L=="object"&&L!==null&&(S=et(L));var z=a.getDerivedStateFromProps;L=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||D!==S)&&xf(o,p,c,S),un=!1;var U=o.memoizedState;p.state=U,Si(o,c,p,f),Ti(),D=o.memoizedState,C||U!==D||un?(typeof z=="function"&&(zs(o,a,z,c),D=o.memoizedState),(_=un||Sf(o,a,_,c,U,D,S))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(o.flags|=4194308)):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=D),p.props=c,p.state=D,p.context=S,c=_):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{p=o.stateNode,xs(t,o),S=o.memoizedProps,L=Yn(a,S),p.props=L,z=o.pendingProps,U=p.context,D=a.contextType,_=po,typeof D=="object"&&D!==null&&(_=et(D)),C=a.getDerivedStateFromProps,(D=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==z||U!==_)&&xf(o,p,c,_),un=!1,U=o.memoizedState,p.state=U,Si(o,c,p,f),Ti();var I=o.memoizedState;S!==z||U!==I||un||t!==null&&t.dependencies!==null&&xl(t.dependencies)?(typeof C=="function"&&(zs(o,a,C,c),I=o.memoizedState),(L=un||Sf(o,a,L,c,U,I,_)||t!==null&&t.dependencies!==null&&xl(t.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,I,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,I,_)),typeof p.componentDidUpdate=="function"&&(o.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=I),p.props=c,p.state=I,p.context=_,c=L):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(o.flags|=1024),c=!1)}return p=c,Bl(t,o),c=(o.flags&128)!==0,p||c?(p=o.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),o.flags|=1,t!==null&&c?(o.child=Ao(o,t.child,null,f),o.child=Ao(o,null,a,f)):Qe(t,o,a,f),o.memoizedState=p.state,t=o.child):t=Xt(t,o,f),t}function Lf(t,o,a,c){return fi(),o.flags|=256,Qe(t,o,a,c),o.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(t){return{baseLanes:t,cachePool:Cc()}}function Ks(t,o,a){return t=t!==null?t.childLanes&~a:0,o&&(t|=wt),t}function Pf(t,o,a){var c=o.pendingProps,f=!1,p=(o.flags&128)!==0,S;if((S=p)||(S=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),S&&(f=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,t===null){if(Ee){if(f?mn(o):pn(),Ee){var C=Ve,_;if(_=C){e:{for(_=C,C=Vt;_.nodeType!==8;){if(!C){C=null;break e}if(_=Dt(_.nextSibling),_===null){C=null;break e}}C=_}C!==null?(o.memoizedState={dehydrated:C,treeContext:Pn!==null?{id:Ft,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},_=mt(18,null,null,0),_.stateNode=C,_.return=o,o.child=_,ot=o,Ve=null,_=!0):_=!1}_||Bn(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Dr(C)?o.lanes=32:o.lanes=536870912,null;Kt(o)}return C=c.children,c=c.fallback,f?(pn(),f=o.mode,C=Hl({mode:"hidden",children:C},f),c=Ln(c,f,a,null),C.return=o,c.return=o,C.sibling=c,o.child=C,f=o.child,f.memoizedState=$s(a),f.childLanes=Ks(t,S,a),o.memoizedState=Js,c):(mn(o),Xs(o,C))}if(_=t.memoizedState,_!==null&&(C=_.dehydrated,C!==null)){if(p)o.flags&256?(mn(o),o.flags&=-257,o=Qs(t,o,a)):o.memoizedState!==null?(pn(),o.child=t.child,o.flags|=128,o=null):(pn(),f=c.fallback,C=o.mode,c=Hl({mode:"visible",children:c.children},C),f=Ln(f,C,a,null),f.flags|=2,c.return=o,f.return=o,c.sibling=f,o.child=c,Ao(o,t.child,null,a),c=o.child,c.memoizedState=$s(a),c.childLanes=Ks(t,S,a),o.memoizedState=Js,o=f);else if(mn(o),Dr(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var D=S.dgst;S=D,c=Error(l(419)),c.stack="",c.digest=S,di({value:c,source:null,stack:null}),o=Qs(t,o,a)}else if(Ye||mi(t,o,a,!1),S=(a&t.childLanes)!==0,Ye||S){if(S=De,S!==null&&(c=a&-a,c=(c&42)!==0?1:Ua(c),c=(c&(S.suspendedLanes|a))!==0?0:c,c!==0&&c!==_.retryLane))throw _.retryLane=c,mo(t,c),vt(S,t,c),Nf;C.data==="$?"||pr(),o=Qs(t,o,a)}else C.data==="$?"?(o.flags|=192,o.child=t.child,o=null):(t=_.treeContext,Ve=Dt(C.nextSibling),ot=o,Ee=!0,qn=null,Vt=!1,t!==null&&(Et[At++]=Ft,Et[At++]=Ot,Et[At++]=Pn,Ft=t.id,Ot=t.overflow,Pn=o),o=Xs(o,c.children),o.flags|=4096);return o}return f?(pn(),f=c.fallback,C=o.mode,_=t.child,D=_.sibling,c=zt(_,{mode:"hidden",children:c.children}),c.subtreeFlags=_.subtreeFlags&65011712,D!==null?f=zt(D,f):(f=Ln(f,C,a,null),f.flags|=2),f.return=o,c.return=o,c.sibling=f,o.child=c,c=f,f=o.child,C=t.child.memoizedState,C===null?C=$s(a):(_=C.cachePool,_!==null?(D=ze._currentValue,_=_.parent!==D?{parent:D,pool:D}:_):_=Cc(),C={baseLanes:C.baseLanes|a,cachePool:_}),f.memoizedState=C,f.childLanes=Ks(t,S,a),o.memoizedState=Js,c):(mn(o),a=t.child,t=a.sibling,a=zt(a,{mode:"visible",children:c.children}),a.return=o,a.sibling=null,t!==null&&(S=o.deletions,S===null?(o.deletions=[t],o.flags|=16):S.push(t)),o.child=a,o.memoizedState=null,a)}function Xs(t,o){return o=Hl({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Hl(t,o){return t=mt(22,t,null,o),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qs(t,o,a){return Ao(o,t.child,null,a),t=Xs(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function Gf(t,o,a){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o),ps(t.return,o,a)}function Zs(t,o,a,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(p.isBackwards=o,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=f)}function qf(t,o,a){var c=o.pendingProps,f=c.revealOrder,p=c.tail;if(Qe(t,o,c.children,a),c=Fe.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gf(t,a,o);else if(t.tag===19)Gf(t,a,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(F(Fe,c),f){case"forwards":for(a=o.child,f=null;a!==null;)t=a.alternate,t!==null&&Pl(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=o.child,o.child=null):(f=a.sibling,a.sibling=null),Zs(o,!1,f,a,p);break;case"backwards":for(a=null,f=o.child,o.child=null;f!==null;){if(t=f.alternate,t!==null&&Pl(t)===null){o.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Zs(o,!0,a,null,p);break;case"together":Zs(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xt(t,o,a){if(t!==null&&(o.dependencies=t.dependencies),Tn|=o.lanes,(a&o.childLanes)===0)if(t!==null){if(mi(t,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(l(153));if(o.child!==null){for(t=o.child,a=zt(t,t.pendingProps),o.child=a,a.return=o;t.sibling!==null;)t=t.sibling,a=a.sibling=zt(t,t.pendingProps),a.return=o;a.sibling=null}return o.child}function Ws(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&xl(t)))}function Fg(t,o,a){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),rn(o,ze,t.memoizedState.cache),fi();break;case 27:case 5:Xo(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:rn(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(mn(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Pf(t,o,a):(mn(o),t=Xt(t,o,a),t!==null?t.sibling:null);mn(o);break;case 19:var f=(t.flags&128)!==0;if(c=(a&o.childLanes)!==0,c||(mi(t,o,a,!1),c=(a&o.childLanes)!==0),f){if(c)return qf(t,o,a);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(Fe,Fe.current),c)break;return null;case 22:case 23:return o.lanes=0,Uf(t,o,a);case 24:rn(o,ze,t.memoizedState.cache)}return Xt(t,o,a)}function Bf(t,o,a){if(t!==null)if(t.memoizedProps!==o.pendingProps)Ye=!0;else{if(!Ws(t,a)&&(o.flags&128)===0)return Ye=!1,Fg(t,o,a);Ye=(t.flags&131072)!==0}else Ye=!1,Ee&&(o.flags&1048576)!==0&&hc(o,Sl,o.index);switch(o.lanes=0,o.tag){case 16:e:{t=o.pendingProps;var c=o.elementType,f=c._init;if(c=f(c._payload),o.type=c,typeof c=="function")ss(c)?(t=Yn(c,t),o.tag=1,o=Vf(null,o,c,t,a)):(o.tag=0,o=Ys(null,o,c,t,a));else{if(c!=null){if(f=c.$$typeof,f===W){o.tag=11,o=Rf(null,o,c,t,a);break e}else if(f===ie){o.tag=14,o=bf(null,o,c,t,a);break e}}throw o=Xe(c)||c,Error(l(306,o,""))}}return o;case 0:return Ys(t,o,o.type,o.pendingProps,a);case 1:return c=o.type,f=Yn(c,o.pendingProps),Vf(t,o,c,f,a);case 3:e:{if(Se(o,o.stateNode.containerInfo),t===null)throw Error(l(387));c=o.pendingProps;var p=o.memoizedState;f=p.element,xs(t,o),Si(o,c,null,a);var S=o.memoizedState;if(c=S.cache,rn(o,ze,c),c!==p.cache&&hs(o,[ze],a,!0),Ti(),c=S.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=Lf(t,o,c,a);break e}else if(c!==f){f=xt(Error(l(424)),o),di(f),o=Lf(t,o,c,a);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Dt(t.firstChild),ot=o,Ee=!0,qn=null,Vt=!0,a=vf(o,null,c,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fi(),c===f){o=Xt(t,o,a);break e}Qe(t,o,c,a)}o=o.child}return o;case 26:return Bl(t,o),t===null?(a=Od(o.type,null,o.pendingProps,null))?o.memoizedState=a:Ee||(a=o.type,t=o.pendingProps,c=ta(oe.current).createElement(a),c[je]=o,c[lt]=t,We(c,a,t),Oe(c),o.stateNode=c):o.memoizedState=Od(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return Xo(o),t===null&&Ee&&(c=o.stateNode=Hd(o.type,o.pendingProps,oe.current),ot=o,Vt=!0,f=Ve,En(o.type)?(Ur=f,Ve=Dt(c.firstChild)):Ve=f),Qe(t,o,o.pendingProps.children,a),Bl(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Ee&&((f=c=Ve)&&(c=yy(c,o.type,o.pendingProps,Vt),c!==null?(o.stateNode=c,ot=o,Ve=Dt(c.firstChild),Vt=!1,f=!0):f=!1),f||Bn(o)),Xo(o),f=o.type,p=o.pendingProps,S=t!==null?t.memoizedProps:null,c=p.children,Nr(f,p)?c=null:S!==null&&Nr(f,S)&&(o.flags|=32),o.memoizedState!==null&&(f=Ms(t,o,Vg,null,null,a),zi._currentValue=f),Bl(t,o),Qe(t,o,c,a),o.child;case 6:return t===null&&Ee&&((t=a=Ve)&&(a=vy(a,o.pendingProps,Vt),a!==null?(o.stateNode=a,ot=o,Ve=null,t=!0):t=!1),t||Bn(o)),null;case 13:return Pf(t,o,a);case 4:return Se(o,o.stateNode.containerInfo),c=o.pendingProps,t===null?o.child=Ao(o,null,c,a):Qe(t,o,c,a),o.child;case 11:return Rf(t,o,o.type,o.pendingProps,a);case 7:return Qe(t,o,o.pendingProps,a),o.child;case 8:return Qe(t,o,o.pendingProps.children,a),o.child;case 12:return Qe(t,o,o.pendingProps.children,a),o.child;case 10:return c=o.pendingProps,rn(o,o.type,c.value),Qe(t,o,c.children,a),o.child;case 9:return f=o.type._context,c=o.pendingProps.children,zn(o),f=et(f),c=c(f),o.flags|=1,Qe(t,o,c,a),o.child;case 14:return bf(t,o,o.type,o.pendingProps,a);case 15:return Df(t,o,o.type,o.pendingProps,a);case 19:return qf(t,o,a);case 31:return c=o.pendingProps,a=o.mode,c={mode:c.mode,children:c.children},t===null?(a=Hl(c,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=zt(t.child,c),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return Uf(t,o,a);case 24:return zn(o),c=et(ze),t===null?(f=vs(),f===null&&(f=De,p=gs(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),o.memoizedState={parent:c,cache:f},Ss(o),rn(o,ze,f)):((t.lanes&a)!==0&&(xs(t,o),Si(o,null,null,a),Ti()),f=t.memoizedState,p=o.memoizedState,f.parent!==c?(f={parent:c,cache:c},o.memoizedState=f,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=f),rn(o,ze,c)):(c=p.cache,rn(o,ze,c),c!==f.cache&&hs(o,[ze],a,!0))),Qe(t,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(l(156,o.tag))}function Qt(t){t.flags|=4}function Hf(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xd(o)){if(o=_t.current,o!==null&&((ve&4194048)===ve?Lt!==null:(ve&62914560)!==ve&&(ve&536870912)===0||o!==Lt))throw yi=Ts,Ec;t.flags|=8192}}function zl(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?vu():536870912,t.lanes|=o,No|=o)}function Mi(t,o){if(!Ee)switch(t.tailMode){case"hidden":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ke(t){var o=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(o)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,o}function Og(t,o,a){var c=o.pendingProps;switch(fs(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(o),null;case 1:return ke(o),null;case 3:return a=o.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Jt(ze),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ci(o)?Qt(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vc())),ke(o),null;case 26:return a=o.memoizedState,t===null?(Qt(o),a!==null?(ke(o),Hf(o,a)):(ke(o),o.flags&=-16777217)):a?a!==t.memoizedState?(Qt(o),ke(o),Hf(o,a)):(ke(o),o.flags&=-16777217):(t.memoizedProps!==c&&Qt(o),ke(o),o.flags&=-16777217),null;case 27:bn(o),a=oe.current;var f=o.type;if(t!==null&&o.stateNode!=null)t.memoizedProps!==c&&Qt(o);else{if(!c){if(o.stateNode===null)throw Error(l(166));return ke(o),null}t=Q.current,ci(o)?gc(o):(t=Hd(f,c,a),o.stateNode=t,Qt(o))}return ke(o),null;case 5:if(bn(o),a=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==c&&Qt(o);else{if(!c){if(o.stateNode===null)throw Error(l(166));return ke(o),null}if(t=Q.current,ci(o))gc(o);else{switch(f=ta(oe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?f.createElement(a,{is:c.is}):f.createElement(a)}}t[je]=o,t[lt]=c;e:for(f=o.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break e;for(;f.sibling===null;){if(f.return===null||f.return===o)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o.stateNode=t;e:switch(We(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Qt(o)}}return ke(o),o.flags&=-16777217,null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==c&&Qt(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(l(166));if(t=oe.current,ci(o)){if(t=o.stateNode,a=o.memoizedProps,c=null,f=ot,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[je]=o,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||kd(t.nodeValue,a)),t||Bn(o)}else t=ta(t).createTextNode(c),t[je]=o,o.stateNode=t}return ke(o),null;case 13:if(c=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ci(o),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(l(318));if(f=o.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[je]=o}else fi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ke(o),f=!1}else f=vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return o.flags&256?(Kt(o),o):(Kt(o),null)}if(Kt(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=o.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return a!==t&&a&&(o.child.flags|=8192),zl(o,o.updateQueue),ke(o),null;case 4:return It(),t===null&&Er(o.stateNode.containerInfo),ke(o),null;case 10:return Jt(o.type),ke(o),null;case 19:if(H(Fe),f=o.memoizedState,f===null)return ke(o),null;if(c=(o.flags&128)!==0,p=f.rendering,p===null)if(c)Mi(f,!1);else{if(Le!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(p=Pl(t),p!==null){for(o.flags|=128,Mi(f,!1),t=p.updateQueue,o.updateQueue=t,zl(o,t),o.subtreeFlags=0,t=a,a=o.child;a!==null;)pc(a,t),a=a.sibling;return F(Fe,Fe.current&1|2),o.child}t=t.sibling}f.tail!==null&&kt()>Yl&&(o.flags|=128,c=!0,Mi(f,!1),o.lanes=4194304)}else{if(!c)if(t=Pl(p),t!==null){if(o.flags|=128,c=!0,t=t.updateQueue,o.updateQueue=t,zl(o,t),Mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ee)return ke(o),null}else 2*kt()-f.renderingStartTime>Yl&&a!==536870912&&(o.flags|=128,c=!0,Mi(f,!1),o.lanes=4194304);f.isBackwards?(p.sibling=o.child,o.child=p):(t=f.last,t!==null?t.sibling=p:o.child=p,f.last=p)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=kt(),o.sibling=null,t=Fe.current,F(Fe,c?t&1|2:t&1),o):(ke(o),null);case 22:case 23:return Kt(o),_s(),c=o.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(a&536870912)!==0&&(o.flags&128)===0&&(ke(o),o.subtreeFlags&6&&(o.flags|=8192)):ke(o),a=o.updateQueue,a!==null&&zl(o,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==a&&(o.flags|=2048),t!==null&&H(Fn),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Jt(ze),ke(o),null;case 25:return null;case 30:return null}throw Error(l(156,o.tag))}function Yg(t,o){switch(fs(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Jt(ze),It(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return bn(o),null;case 13:if(Kt(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(l(340));fi()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return H(Fe),null;case 4:return It(),null;case 10:return Jt(o.type),null;case 22:case 23:return Kt(o),_s(),t!==null&&H(Fn),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return Jt(ze),null;case 25:return null;default:return null}}function zf(t,o){switch(fs(o),o.tag){case 3:Jt(ze),It();break;case 26:case 27:case 5:bn(o);break;case 4:It();break;case 13:Kt(o);break;case 19:H(Fe);break;case 10:Jt(o.type);break;case 22:case 23:Kt(o),_s(),t!==null&&H(Fn);break;case 24:Jt(ze)}}function Ni(t,o){try{var a=o.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var p=a.create,S=a.inst;c=p(),S.destroy=c}a=a.next}while(a!==f)}}catch(C){be(o,o.return,C)}}function hn(t,o,a){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&t)===t){var S=c.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,f=o;var _=a,D=C;try{D()}catch(L){be(f,_,L)}}}c=c.next}while(c!==p)}}catch(L){be(o,o.return,L)}}function Ff(t){var o=t.updateQueue;if(o!==null){var a=t.stateNode;try{Rc(o,a)}catch(c){be(t,t.return,c)}}}function Of(t,o,a){a.props=Yn(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){be(t,o,c)}}function Ri(t,o){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){be(t,o,f)}}function Pt(t,o){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){be(t,o,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){be(t,o,f)}else a.current=null}function Yf(t){var o=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){be(t,t.return,f)}}function js(t,o,a){try{var c=t.stateNode;dy(c,t.type,a,o),c[lt]=o}catch(f){be(t,t.return,f)}}function Jf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&En(t.type)||t.tag===4}function er(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&En(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tr(t,o,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(t),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=ea));else if(c!==4&&(c===27&&En(t.type)&&(a=t.stateNode,o=null),t=t.child,t!==null))for(tr(t,o,a),t=t.sibling;t!==null;)tr(t,o,a),t=t.sibling}function Fl(t,o,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,o?a.insertBefore(t,o):a.appendChild(t);else if(c!==4&&(c===27&&En(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fl(t,o,a),t=t.sibling;t!==null;)Fl(t,o,a),t=t.sibling}function $f(t){var o=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=o.attributes;f.length;)o.removeAttributeNode(f[0]);We(o,c,a),o[je]=t,o[lt]=a}catch(p){be(t,t.return,p)}}var Zt=!1,Ge=!1,nr=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Jg(t,o){if(t=t.containerInfo,wr=sa,t=ic(t),es(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var S=0,C=-1,_=-1,D=0,L=0,z=t,U=null;t:for(;;){for(var I;z!==a||f!==0&&z.nodeType!==3||(C=S+f),z!==p||c!==0&&z.nodeType!==3||(_=S+c),z.nodeType===3&&(S+=z.nodeValue.length),(I=z.firstChild)!==null;)U=z,z=I;for(;;){if(z===t)break t;if(U===a&&++D===f&&(C=S),U===p&&++L===c&&(_=S),(I=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=I}a=C===-1||_===-1?null:{start:C,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mr={focusedElem:t,selectionRange:a},sa=!1,Je=o;Je!==null;)if(o=Je,t=o.child,(o.subtreeFlags&1024)!==0&&t!==null)t.return=o,Je=t;else for(;Je!==null;){switch(o=Je,p=o.alternate,t=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=o,f=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var ue=Yn(a.type,f,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(ue,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(le){be(a,a.return,le)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,a=t.nodeType,a===9)br(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":br(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=o.sibling,t!==null){t.return=o.return,Je=t;break}Je=o.return}}function Xf(t,o,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:gn(t,a),c&4&&Ni(5,a);break;case 1:if(gn(t,a),c&4)if(t=a.stateNode,o===null)try{t.componentDidMount()}catch(S){be(a,a.return,S)}else{var f=Yn(a.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(f,o,t.__reactInternalSnapshotBeforeUpdate)}catch(S){be(a,a.return,S)}}c&64&&Ff(a),c&512&&Ri(a,a.return);break;case 3:if(gn(t,a),c&64&&(t=a.updateQueue,t!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Rc(t,o)}catch(S){be(a,a.return,S)}}break;case 27:o===null&&c&4&&$f(a);case 26:case 5:gn(t,a),o===null&&c&4&&Yf(a),c&512&&Ri(a,a.return);break;case 12:gn(t,a);break;case 13:gn(t,a),c&4&&Wf(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ty.bind(null,a),Ty(t,a))));break;case 22:if(c=a.memoizedState!==null||Zt,!c){o=o!==null&&o.memoizedState!==null||Ge,f=Zt;var p=Ge;Zt=c,(Ge=o)&&!p?yn(t,a,(a.subtreeFlags&8772)!==0):gn(t,a),Zt=f,Ge=p}break;case 30:break;default:gn(t,a)}}function Qf(t){var o=t.alternate;o!==null&&(t.alternate=null,Qf(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&Va(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ie=null,rt=!1;function Wt(t,o,a){for(a=a.child;a!==null;)Zf(t,o,a),a=a.sibling}function Zf(t,o,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Qo,a)}catch{}switch(a.tag){case 26:Ge||Pt(a,o),Wt(t,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Pt(a,o);var c=Ie,f=rt;En(a.type)&&(Ie=a.stateNode,rt=!1),Wt(t,o,a),Gi(a.stateNode),Ie=c,rt=f;break;case 5:Ge||Pt(a,o);case 6:if(c=Ie,f=rt,Ie=null,Wt(t,o,a),Ie=c,rt=f,Ie!==null)if(rt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(p){be(a,o,p)}else try{Ie.removeChild(a.stateNode)}catch(p){be(a,o,p)}break;case 18:Ie!==null&&(rt?(t=Ie,qd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ji(t)):qd(Ie,a.stateNode));break;case 4:c=Ie,f=rt,Ie=a.stateNode.containerInfo,rt=!0,Wt(t,o,a),Ie=c,rt=f;break;case 0:case 11:case 14:case 15:Ge||hn(2,a,o),Ge||hn(4,a,o),Wt(t,o,a);break;case 1:Ge||(Pt(a,o),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Of(a,o,c)),Wt(t,o,a);break;case 21:Wt(t,o,a);break;case 22:Ge=(c=Ge)||a.memoizedState!==null,Wt(t,o,a),Ge=c;break;default:Wt(t,o,a)}}function Wf(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ji(t)}catch(a){be(o,o.return,a)}}function $g(t){switch(t.tag){case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new Kf),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new Kf),o;default:throw Error(l(435,t.tag))}}function or(t,o){var a=$g(t);o.forEach(function(c){var f=ny.bind(null,t,c);a.has(c)||(a.add(c),c.then(f,f))})}function pt(t,o){var a=o.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],p=t,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(En(C.type)){Ie=C.stateNode,rt=!1;break e}break;case 5:Ie=C.stateNode,rt=!1;break e;case 3:case 4:Ie=C.stateNode.containerInfo,rt=!0;break e}C=C.return}if(Ie===null)throw Error(l(160));Zf(p,S,f),Ie=null,rt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)jf(o,t),o=o.sibling}var bt=null;function jf(t,o){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pt(o,t),ht(t),c&4&&(hn(3,t,t.return),Ni(3,t),hn(5,t,t.return));break;case 1:pt(o,t),ht(t),c&512&&(Ge||a===null||Pt(a,a.return)),c&64&&Zt&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=bt;if(pt(o,t),ht(t),c&512&&(Ge||a===null||Pt(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[jo]||p[je]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),We(p,c,a),p[je]=t,Oe(p),c=p;break e;case"link":var S=$d("link","href",f).get(c+(a.href||""));if(S){for(var C=0;C<S.length;C++)if(p=S[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(C,1);break t}}p=f.createElement(c),We(p,c,a),f.head.appendChild(p);break;case"meta":if(S=$d("meta","content",f).get(c+(a.content||""))){for(C=0;C<S.length;C++)if(p=S[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(C,1);break t}}p=f.createElement(c),We(p,c,a),f.head.appendChild(p);break;default:throw Error(l(468,c))}p[je]=t,Oe(p),c=p}t.stateNode=c}else Kd(f,t.type,t.stateNode);else t.stateNode=Jd(f,c,t.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?Kd(f,t.type,t.stateNode):Jd(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&js(t,t.memoizedProps,a.memoizedProps)}break;case 27:pt(o,t),ht(t),c&512&&(Ge||a===null||Pt(a,a.return)),a!==null&&c&4&&js(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pt(o,t),ht(t),c&512&&(Ge||a===null||Pt(a,a.return)),t.flags&32){f=t.stateNode;try{lo(f,"")}catch(I){be(t,t.return,I)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,js(t,f,a!==null?a.memoizedProps:f)),c&1024&&(nr=!0);break;case 6:if(pt(o,t),ht(t),c&4){if(t.stateNode===null)throw Error(l(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(I){be(t,t.return,I)}}break;case 3:if(ia=null,f=bt,bt=na(o.containerInfo),pt(o,t),bt=f,ht(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ji(o.containerInfo)}catch(I){be(t,t.return,I)}nr&&(nr=!1,ed(t));break;case 4:c=bt,bt=na(t.stateNode.containerInfo),pt(o,t),ht(t),bt=c;break;case 12:pt(o,t),ht(t);break;case 13:pt(o,t),ht(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ur=kt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,or(t,c)));break;case 22:f=t.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,D=Zt,L=Ge;if(Zt=D||f,Ge=L||_,pt(o,t),Ge=L,Zt=D,ht(t),c&8192)e:for(o=t.stateNode,o._visibility=f?o._visibility&-2:o._visibility|1,f&&(a===null||_||Zt||Ge||Jn(t)),a=null,o=t;;){if(o.tag===5||o.tag===26){if(a===null){_=a=o;try{if(p=_.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=_.stateNode;var z=_.memoizedProps.style,U=z!=null&&z.hasOwnProperty("display")?z.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(I){be(_,_.return,I)}}}else if(o.tag===6){if(a===null){_=o;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(I){be(_,_.return,I)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,or(t,a))));break;case 19:pt(o,t),ht(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,or(t,c)));break;case 30:break;case 21:break;default:pt(o,t),ht(t)}}function ht(t){var o=t.flags;if(o&2){try{for(var a,c=t.return;c!==null;){if(Jf(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var f=a.stateNode,p=er(t);Fl(t,p,f);break;case 5:var S=a.stateNode;a.flags&32&&(lo(S,""),a.flags&=-33);var C=er(t);Fl(t,C,S);break;case 3:case 4:var _=a.stateNode.containerInfo,D=er(t);tr(t,D,_);break;default:throw Error(l(161))}}catch(L){be(t,t.return,L)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function ed(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;ed(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function gn(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xf(t,o.alternate,o),o=o.sibling}function Jn(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:hn(4,o,o.return),Jn(o);break;case 1:Pt(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Of(o,o.return,a),Jn(o);break;case 27:Gi(o.stateNode);case 26:case 5:Pt(o,o.return),Jn(o);break;case 22:o.memoizedState===null&&Jn(o);break;case 30:Jn(o);break;default:Jn(o)}t=t.sibling}}function yn(t,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,f=t,p=o,S=p.flags;switch(p.tag){case 0:case 11:case 15:yn(f,p,a),Ni(4,p);break;case 1:if(yn(f,p,a),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){be(c,c.return,D)}if(c=p,f=c.updateQueue,f!==null){var C=c.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)Nc(_[f],C)}catch(D){be(c,c.return,D)}}a&&S&64&&Ff(p),Ri(p,p.return);break;case 27:$f(p);case 26:case 5:yn(f,p,a),a&&c===null&&S&4&&Yf(p),Ri(p,p.return);break;case 12:yn(f,p,a);break;case 13:yn(f,p,a),a&&S&4&&Wf(f,p);break;case 22:p.memoizedState===null&&yn(f,p,a),Ri(p,p.return);break;case 30:break;default:yn(f,p,a)}o=o.sibling}}function ir(t,o){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pi(a))}function lr(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&pi(t))}function Gt(t,o,a,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)td(t,o,a,c),o=o.sibling}function td(t,o,a,c){var f=o.flags;switch(o.tag){case 0:case 11:case 15:Gt(t,o,a,c),f&2048&&Ni(9,o);break;case 1:Gt(t,o,a,c);break;case 3:Gt(t,o,a,c),f&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&pi(t)));break;case 12:if(f&2048){Gt(t,o,a,c),t=o.stateNode;try{var p=o.memoizedProps,S=p.id,C=p.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){be(o,o.return,_)}}else Gt(t,o,a,c);break;case 13:Gt(t,o,a,c);break;case 23:break;case 22:p=o.stateNode,S=o.alternate,o.memoizedState!==null?p._visibility&2?Gt(t,o,a,c):bi(t,o):p._visibility&2?Gt(t,o,a,c):(p._visibility|=2,_o(t,o,a,c,(o.subtreeFlags&10256)!==0)),f&2048&&ir(S,o);break;case 24:Gt(t,o,a,c),f&2048&&lr(o.alternate,o);break;default:Gt(t,o,a,c)}}function _o(t,o,a,c,f){for(f=f&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var p=t,S=o,C=a,_=c,D=S.flags;switch(S.tag){case 0:case 11:case 15:_o(p,S,C,_,f),Ni(8,S);break;case 23:break;case 22:var L=S.stateNode;S.memoizedState!==null?L._visibility&2?_o(p,S,C,_,f):bi(p,S):(L._visibility|=2,_o(p,S,C,_,f)),f&&D&2048&&ir(S.alternate,S);break;case 24:_o(p,S,C,_,f),f&&D&2048&&lr(S.alternate,S);break;default:_o(p,S,C,_,f)}o=o.sibling}}function bi(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=t,c=o,f=c.flags;switch(c.tag){case 22:bi(a,c),f&2048&&ir(c.alternate,c);break;case 24:bi(a,c),f&2048&&lr(c.alternate,c);break;default:bi(a,c)}o=o.sibling}}var Di=8192;function wo(t){if(t.subtreeFlags&Di)for(t=t.child;t!==null;)nd(t),t=t.sibling}function nd(t){switch(t.tag){case 26:wo(t),t.flags&Di&&t.memoizedState!==null&&Uy(bt,t.memoizedState,t.memoizedProps);break;case 5:wo(t);break;case 3:case 4:var o=bt;bt=na(t.stateNode.containerInfo),wo(t),bt=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Di,Di=16777216,wo(t),Di=o):wo(t));break;default:wo(t)}}function od(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function Ui(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];Je=c,ld(c,t)}od(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)id(t),t=t.sibling}function id(t){switch(t.tag){case 0:case 11:case 15:Ui(t),t.flags&2048&&hn(9,t,t.return);break;case 3:Ui(t);break;case 12:Ui(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,Ol(t)):Ui(t);break;default:Ui(t)}}function Ol(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];Je=c,ld(c,t)}od(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:hn(8,o,o.return),Ol(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Ol(o));break;default:Ol(o)}t=t.sibling}}function ld(t,o){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:hn(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pi(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Je=c;else e:for(a=t;Je!==null;){c=Je;var f=c.sibling,p=c.return;if(Qf(c),c===a){Je=null;break e}if(f!==null){f.return=p,Je=f;break e}Je=p}}}var Kg={getCacheForType:function(t){var o=et(ze),a=o.data.get(t);return a===void 0&&(a=t(),o.data.set(t,a)),a}},Xg=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,ge=null,ve=0,we=0,gt=null,vn=!1,Mo=!1,ar=!1,jt=0,Le=0,Tn=0,$n=0,sr=0,wt=0,No=0,Ii=null,ut=null,rr=!1,ur=0,Yl=1/0,Jl=null,Sn=null,Ze=0,xn=null,Ro=null,bo=0,cr=0,fr=null,ad=null,ki=0,dr=null;function yt(){if((_e&2)!==0&&ve!==0)return ve&-ve;if(R.T!==null){var t=yo;return t!==0?t:Tr()}return xu()}function sd(){wt===0&&(wt=(ve&536870912)===0||Ee?yu():536870912);var t=_t.current;return t!==null&&(t.flags|=32),wt}function vt(t,o,a){(t===De&&(we===2||we===9)||t.cancelPendingCommit!==null)&&(Do(t,0),Cn(t,ve,wt,!1)),Wo(t,a),((_e&2)===0||t!==De)&&(t===De&&((_e&2)===0&&($n|=a),Le===4&&Cn(t,ve,wt,!1)),qt(t))}function rd(t,o,a){if((_e&6)!==0)throw Error(l(327));var c=!a&&(o&124)===0&&(o&t.expiredLanes)===0||Zo(t,o),f=c?Wg(t,o):hr(t,o,!0),p=c;do{if(f===0){Mo&&!c&&Cn(t,o,0,!1);break}else{if(a=t.current.alternate,p&&!Qg(a)){f=hr(t,o,!1),p=!1;continue}if(f===2){if(p=o,t.errorRecoveryDisabledLanes&p)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=t;f=Ii;var _=C.current.memoizedState.isDehydrated;if(_&&(Do(C,S).flags|=256),S=hr(C,S,!1),S!==2){if(ar&&!_){C.errorRecoveryDisabledLanes|=p,$n|=p,f=4;break e}p=ut,ut=f,p!==null&&(ut===null?ut=p:ut.push.apply(ut,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){Do(t,0),Cn(t,o,0,!0);break}e:{switch(c=t,p=f,p){case 0:case 1:throw Error(l(345));case 4:if((o&4194048)!==o)break;case 6:Cn(c,o,wt,!vn);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(l(329))}if((o&62914560)===o&&(f=ur+300-kt(),10<f)){if(Cn(c,o,wt,!vn),ol(c,0,!0)!==0)break e;c.timeoutHandle=Pd(ud.bind(null,c,a,ut,Jl,rr,o,wt,$n,No,vn,p,2,-0,0),f);break e}ud(c,a,ut,Jl,rr,o,wt,$n,No,vn,p,0,-0,0)}}break}while(!0);qt(t)}function ud(t,o,a,c,f,p,S,C,_,D,L,z,U,I){if(t.timeoutHandle=-1,z=o.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Hi={stylesheets:null,count:0,unsuspend:Dy},nd(o),z=Iy(),z!==null)){t.cancelPendingCommit=z(gd.bind(null,t,o,p,a,c,f,S,C,_,L,1,U,I)),Cn(t,p,S,!D);return}gd(t,o,p,a,c,f,S,C,_)}function Qg(t){for(var o=t;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],p=f.getSnapshot;f=f.value;try{if(!dt(p(),f))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cn(t,o,a,c){o&=~sr,o&=~$n,t.suspendedLanes|=o,t.pingedLanes&=~o,c&&(t.warmLanes|=o),c=t.expirationTimes;for(var f=o;0<f;){var p=31-ft(f),S=1<<p;c[p]=-1,f&=~S}a!==0&&Tu(t,a,o)}function $l(){return(_e&6)===0?(Vi(0),!1):!0}function mr(){if(ge!==null){if(we===0)var t=ge.return;else t=ge,Yt=Hn=null,bs(t),Eo=null,_i=0,t=ge;for(;t!==null;)zf(t.alternate,t),t=t.return;ge=null}}function Do(t,o){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,py(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mr(),De=t,ge=a=zt(t.current,null),ve=o,we=0,gt=null,vn=!1,Mo=Zo(t,o),ar=!1,No=wt=sr=$n=Tn=Le=0,ut=Ii=null,rr=!1,(o&8)!==0&&(o|=o&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=o;0<c;){var f=31-ft(c),p=1<<f;o|=t[f],c&=~p}return jt=o,hl(),a}function cd(t,o){pe=null,R.H=kl,o===gi||o===Al?(o=wc(),we=3):o===Ec?(o=wc(),we=4):we=o===Nf?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gt=o,ge===null&&(Le=1,ql(t,xt(o,t.current)))}function fd(){var t=R.H;return R.H=kl,t===null?kl:t}function dd(){var t=R.A;return R.A=Kg,t}function pr(){Le=4,vn||(ve&4194048)!==ve&&_t.current!==null||(Mo=!0),(Tn&134217727)===0&&($n&134217727)===0||De===null||Cn(De,ve,wt,!1)}function hr(t,o,a){var c=_e;_e|=2;var f=fd(),p=dd();(De!==t||ve!==o)&&(Jl=null,Do(t,o)),o=!1;var S=Le;e:do try{if(we!==0&&ge!==null){var C=ge,_=gt;switch(we){case 8:mr(),S=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(o=!0);var D=we;if(we=0,gt=null,Uo(t,C,_,D),a&&Mo){S=0;break e}break;default:D=we,we=0,gt=null,Uo(t,C,_,D)}}Zg(),S=Le;break}catch(L){cd(t,L)}while(!0);return o&&t.shellSuspendCounter++,Yt=Hn=null,_e=c,R.H=f,R.A=p,ge===null&&(De=null,ve=0,hl()),S}function Zg(){for(;ge!==null;)md(ge)}function Wg(t,o){var a=_e;_e|=2;var c=fd(),f=dd();De!==t||ve!==o?(Jl=null,Yl=kt()+500,Do(t,o)):Mo=Zo(t,o);e:do try{if(we!==0&&ge!==null){o=ge;var p=gt;t:switch(we){case 1:we=0,gt=null,Uo(t,o,p,1);break;case 2:case 9:if(Ac(p)){we=0,gt=null,pd(o);break}o=function(){we!==2&&we!==9||De!==t||(we=7),qt(t)},p.then(o,o);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Ac(p)?(we=0,gt=null,pd(o)):(we=0,gt=null,Uo(t,o,p,7));break;case 5:var S=null;switch(ge.tag){case 26:S=ge.memoizedState;case 5:case 27:var C=ge;if(!S||Xd(S)){we=0,gt=null;var _=C.sibling;if(_!==null)ge=_;else{var D=C.return;D!==null?(ge=D,Kl(D)):ge=null}break t}}we=0,gt=null,Uo(t,o,p,5);break;case 6:we=0,gt=null,Uo(t,o,p,6);break;case 8:mr(),Le=6;break e;default:throw Error(l(462))}}jg();break}catch(L){cd(t,L)}while(!0);return Yt=Hn=null,R.H=c,R.A=f,_e=a,ge!==null?0:(De=null,ve=0,hl(),Le)}function jg(){for(;ge!==null&&!xh();)md(ge)}function md(t){var o=Bf(t.alternate,t,jt);t.memoizedProps=t.pendingProps,o===null?Kl(t):ge=o}function pd(t){var o=t,a=o.alternate;switch(o.tag){case 15:case 0:o=kf(a,o,o.pendingProps,o.type,void 0,ve);break;case 11:o=kf(a,o,o.pendingProps,o.type.render,o.ref,ve);break;case 5:bs(o);default:zf(a,o),o=ge=pc(o,jt),o=Bf(a,o,jt)}t.memoizedProps=t.pendingProps,o===null?Kl(t):ge=o}function Uo(t,o,a,c){Yt=Hn=null,bs(o),Eo=null,_i=0;var f=o.return;try{if(zg(t,f,o,a,ve)){Le=1,ql(t,xt(a,t.current)),ge=null;return}}catch(p){if(f!==null)throw ge=f,p;Le=1,ql(t,xt(a,t.current)),ge=null;return}o.flags&32768?(Ee||c===1?t=!0:Mo||(ve&536870912)!==0?t=!1:(vn=t=!0,(c===2||c===9||c===3||c===6)&&(c=_t.current,c!==null&&c.tag===13&&(c.flags|=16384))),hd(o,t)):Kl(o)}function Kl(t){var o=t;do{if((o.flags&32768)!==0){hd(o,vn);return}t=o.return;var a=Og(o.alternate,o,jt);if(a!==null){ge=a;return}if(o=o.sibling,o!==null){ge=o;return}ge=o=t}while(o!==null);Le===0&&(Le=5)}function hd(t,o){do{var a=Yg(t.alternate,t);if(a!==null){a.flags&=32767,ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(t=t.sibling,t!==null)){ge=t;return}ge=t=a}while(t!==null);Le=6,ge=null}function gd(t,o,a,c,f,p,S,C,_){t.cancelPendingCommit=null;do Xl();while(Ze!==0);if((_e&6)!==0)throw Error(l(327));if(o!==null){if(o===t.current)throw Error(l(177));if(p=o.lanes|o.childLanes,p|=ls,Dh(t,a,p,S,C,_),t===De&&(ge=De=null,ve=0),Ro=o,xn=t,bo=a,cr=p,fr=f,ad=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oy(el,function(){return xd(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=R.T,R.T=null,f=$.p,$.p=2,S=_e,_e|=4;try{Jg(t,o,a)}finally{_e=S,$.p=f,R.T=c}}Ze=1,yd(),vd(),Td()}}function yd(){if(Ze===1){Ze=0;var t=xn,o=Ro,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var c=$.p;$.p=2;var f=_e;_e|=4;try{jf(o,t);var p=Mr,S=ic(t.containerInfo),C=p.focusedElem,_=p.selectionRange;if(S!==C&&C&&C.ownerDocument&&oc(C.ownerDocument.documentElement,C)){if(_!==null&&es(C)){var D=_.start,L=_.end;if(L===void 0&&(L=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(L,C.value.length);else{var z=C.ownerDocument||document,U=z&&z.defaultView||window;if(U.getSelection){var I=U.getSelection(),ue=C.textContent.length,le=Math.min(_.start,ue),Re=_.end===void 0?le:Math.min(_.end,ue);!I.extend&&le>Re&&(S=Re,Re=le,le=S);var N=nc(C,le),w=nc(C,Re);if(N&&w&&(I.rangeCount!==1||I.anchorNode!==N.node||I.anchorOffset!==N.offset||I.focusNode!==w.node||I.focusOffset!==w.offset)){var b=z.createRange();b.setStart(N.node,N.offset),I.removeAllRanges(),le>Re?(I.addRange(b),I.extend(w.node,w.offset)):(b.setEnd(w.node,w.offset),I.addRange(b))}}}}for(z=[],I=C;I=I.parentNode;)I.nodeType===1&&z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<z.length;C++){var B=z[C];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}sa=!!wr,Mr=wr=null}finally{_e=f,$.p=c,R.T=a}}t.current=o,Ze=2}}function vd(){if(Ze===2){Ze=0;var t=xn,o=Ro,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var c=$.p;$.p=2;var f=_e;_e|=4;try{Xf(t,o.alternate,o)}finally{_e=f,$.p=c,R.T=a}}Ze=3}}function Td(){if(Ze===4||Ze===3){Ze=0,Ch();var t=xn,o=Ro,a=bo,c=ad;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ze=5:(Ze=0,Ro=xn=null,Sd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Sn=null),Ia(a),o=o.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Qo,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=R.T,f=$.p,$.p=2,R.T=null;try{for(var p=t.onRecoverableError,S=0;S<c.length;S++){var C=c[S];p(C.value,{componentStack:C.stack})}}finally{R.T=o,$.p=f}}(bo&3)!==0&&Xl(),qt(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===dr?ki++:(ki=0,dr=t):ki=0,Vi(0)}}function Sd(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,pi(o)))}function Xl(t){return yd(),vd(),Td(),xd()}function xd(){if(Ze!==5)return!1;var t=xn,o=cr;cr=0;var a=Ia(bo),c=R.T,f=$.p;try{$.p=32>a?32:a,R.T=null,a=fr,fr=null;var p=xn,S=bo;if(Ze=0,Ro=xn=null,bo=0,(_e&6)!==0)throw Error(l(331));var C=_e;if(_e|=4,id(p.current),td(p,p.current,S,a),_e=C,Vi(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Qo,p)}catch{}return!0}finally{$.p=f,R.T=c,Sd(t,o)}}function Cd(t,o,a){o=xt(a,o),o=Os(t.stateNode,o,2),t=fn(t,o,2),t!==null&&(Wo(t,2),qt(t))}function be(t,o,a){if(t.tag===3)Cd(t,t,a);else for(;o!==null;){if(o.tag===3){Cd(o,t,a);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sn===null||!Sn.has(c))){t=xt(a,t),a=wf(2),c=fn(o,a,2),c!==null&&(Mf(a,c,o,t),Wo(c,2),qt(c));break}}o=o.return}}function gr(t,o,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Xg;var f=new Set;c.set(o,f)}else f=c.get(o),f===void 0&&(f=new Set,c.set(o,f));f.has(a)||(ar=!0,f.add(a),t=ey.bind(null,t,o,a),o.then(t,t))}function ey(t,o,a){var c=t.pingCache;c!==null&&c.delete(o),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,De===t&&(ve&a)===a&&(Le===4||Le===3&&(ve&62914560)===ve&&300>kt()-ur?(_e&2)===0&&Do(t,0):sr|=a,No===ve&&(No=0)),qt(t)}function Ed(t,o){o===0&&(o=vu()),t=mo(t,o),t!==null&&(Wo(t,o),qt(t))}function ty(t){var o=t.memoizedState,a=0;o!==null&&(a=o.retryLane),Ed(t,a)}function ny(t,o){var a=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(o),Ed(t,a)}function oy(t,o){return Ra(t,o)}var Ql=null,Io=null,yr=!1,Zl=!1,vr=!1,Kn=0;function qt(t){t!==Io&&t.next===null&&(Io===null?Ql=Io=t:Io=Io.next=t),Zl=!0,yr||(yr=!0,ly())}function Vi(t,o){if(!vr&&Zl){vr=!0;do for(var a=!1,c=Ql;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var S=c.suspendedLanes,C=c.pingedLanes;p=(1<<31-ft(42|t)+1)-1,p&=f&~(S&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Md(c,p))}else p=ve,p=ol(c,c===De?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Zo(c,p)||(a=!0,Md(c,p));c=c.next}while(a);vr=!1}}function iy(){Ad()}function Ad(){Zl=yr=!1;var t=0;Kn!==0&&(my()&&(t=Kn),Kn=0);for(var o=kt(),a=null,c=Ql;c!==null;){var f=c.next,p=_d(c,o);p===0?(c.next=null,a===null?Ql=f:a.next=f,f===null&&(Io=a)):(a=c,(t!==0||(p&3)!==0)&&(Zl=!0)),c=f}Vi(t)}function _d(t,o){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var S=31-ft(p),C=1<<S,_=f[S];_===-1?((C&a)===0||(C&c)!==0)&&(f[S]=bh(C,o)):_<=o&&(t.expiredLanes|=C),p&=~C}if(o=De,a=ve,a=ol(t,t===o?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===o&&(we===2||we===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ba(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zo(t,a)){if(o=a&-a,o===t.callbackPriority)return o;switch(c!==null&&ba(c),Ia(a)){case 2:case 8:a=hu;break;case 32:a=el;break;case 268435456:a=gu;break;default:a=el}return c=wd.bind(null,t),a=Ra(a,c),t.callbackPriority=o,t.callbackNode=a,o}return c!==null&&c!==null&&ba(c),t.callbackPriority=2,t.callbackNode=null,2}function wd(t,o){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xl()&&t.callbackNode!==a)return null;var c=ve;return c=ol(t,t===De?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(rd(t,c,o),_d(t,kt()),t.callbackNode!=null&&t.callbackNode===a?wd.bind(null,t):null)}function Md(t,o){if(Xl())return null;rd(t,o,!0)}function ly(){hy(function(){(_e&6)!==0?Ra(pu,iy):Ad()})}function Tr(){return Kn===0&&(Kn=yu()),Kn}function Nd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rl(""+t)}function Rd(t,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,t.id&&a.setAttribute("form",t.id),o.parentNode.insertBefore(a,o),t=new FormData(t),a.parentNode.removeChild(a),t}function ay(t,o,a,c,f){if(o==="submit"&&a&&a.stateNode===f){var p=Nd((f[lt]||null).action),S=c.submitter;S&&(o=(o=S[lt]||null)?Nd(o.formAction):S.getAttribute("formAction"),o!==null&&(p=o,S=null));var C=new dl("action","action",null,c,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Kn!==0){var _=S?Rd(f,S):new FormData(f);qs(a,{pending:!0,data:_,method:f.method,action:p},null,_)}}else typeof p=="function"&&(C.preventDefault(),_=S?Rd(f,S):new FormData(f),qs(a,{pending:!0,data:_,method:f.method,action:p},p,_))},currentTarget:f}]})}}for(var Sr=0;Sr<is.length;Sr++){var xr=is[Sr],sy=xr.toLowerCase(),ry=xr[0].toUpperCase()+xr.slice(1);Rt(sy,"on"+ry)}Rt(sc,"onAnimationEnd"),Rt(rc,"onAnimationIteration"),Rt(uc,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(_g,"onTransitionRun"),Rt(wg,"onTransitionStart"),Rt(Mg,"onTransitionCancel"),Rt(cc,"onTransitionEnd"),no("onMouseEnter",["mouseout","mouseover"]),no("onMouseLeave",["mouseout","mouseover"]),no("onPointerEnter",["pointerout","pointerover"]),no("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Li));function bd(t,o){o=(o&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var p=void 0;if(o)for(var S=c.length-1;0<=S;S--){var C=c[S],_=C.instance,D=C.currentTarget;if(C=C.listener,_!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=D;try{p(f)}catch(L){Gl(L)}f.currentTarget=null,p=_}else for(S=0;S<c.length;S++){if(C=c[S],_=C.instance,D=C.currentTarget,C=C.listener,_!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=D;try{p(f)}catch(L){Gl(L)}f.currentTarget=null,p=_}}}}function ye(t,o){var a=o[ka];a===void 0&&(a=o[ka]=new Set);var c=t+"__bubble";a.has(c)||(Dd(o,t,2,!1),a.add(c))}function Cr(t,o,a){var c=0;o&&(c|=4),Dd(a,t,c,o)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[Wl]){t[Wl]=!0,Eu.forEach(function(a){a!=="selectionchange"&&(uy.has(a)||Cr(a,!1,t),Cr(a,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Wl]||(o[Wl]=!0,Cr("selectionchange",!1,o))}}function Dd(t,o,a,c){switch(tm(o)){case 2:var f=Ly;break;case 8:f=Py;break;default:f=Pr}a=f.bind(null,o,a,t),f=void 0,!Ya||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(o,a,{capture:!0,passive:f}):t.addEventListener(o,a,!0):f!==void 0?t.addEventListener(o,a,{passive:f}):t.addEventListener(o,a,!1)}function Ar(t,o,a,c,f){var p=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var C=c.stateNode.containerInfo;if(C===f)break;if(S===4)for(S=c.return;S!==null;){var _=S.tag;if((_===3||_===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;C!==null;){if(S=jn(C),S===null)return;if(_=S.tag,_===5||_===6||_===26||_===27){c=p=S;continue e}C=C.parentNode}}c=c.return}Pu(function(){var D=p,L=Fa(a),z=[];e:{var U=fc.get(t);if(U!==void 0){var I=dl,ue=t;switch(t){case"keypress":if(cl(a)===0)break e;case"keydown":case"keyup":I=og;break;case"focusin":ue="focus",I=Xa;break;case"focusout":ue="blur",I=Xa;break;case"beforeblur":case"afterblur":I=Xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=ag;break;case sc:case rc:case uc:I=Kh;break;case cc:I=rg;break;case"scroll":case"scrollend":I=Fh;break;case"wheel":I=cg;break;case"copy":case"cut":case"paste":I=Qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=zu;break;case"toggle":case"beforetoggle":I=dg}var le=(o&4)!==0,Re=!le&&(t==="scroll"||t==="scrollend"),N=le?U!==null?U+"Capture":null:U;le=[];for(var w=D,b;w!==null;){var B=w;if(b=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||b===null||N===null||(B=ti(w,N),B!=null&&le.push(Pi(w,B,b))),Re)break;w=w.return}0<le.length&&(U=new I(U,ue,null,a,L),z.push({event:U,listeners:le}))}}if((o&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",U&&a!==za&&(ue=a.relatedTarget||a.fromElement)&&(jn(ue)||ue[Wn]))break e;if((I||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,I?(ue=a.relatedTarget||a.toElement,I=D,ue=ue?jn(ue):null,ue!==null&&(Re=d(ue),le=ue.tag,ue!==Re||le!==5&&le!==27&&le!==6)&&(ue=null)):(I=null,ue=D),I!==ue)){if(le=Bu,B="onMouseLeave",N="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(le=zu,B="onPointerLeave",N="onPointerEnter",w="pointer"),Re=I==null?U:ei(I),b=ue==null?U:ei(ue),U=new le(B,w+"leave",I,a,L),U.target=Re,U.relatedTarget=b,B=null,jn(L)===D&&(le=new le(N,w+"enter",ue,a,L),le.target=b,le.relatedTarget=Re,B=le),Re=B,I&&ue)t:{for(le=I,N=ue,w=0,b=le;b;b=ko(b))w++;for(b=0,B=N;B;B=ko(B))b++;for(;0<w-b;)le=ko(le),w--;for(;0<b-w;)N=ko(N),b--;for(;w--;){if(le===N||N!==null&&le===N.alternate)break t;le=ko(le),N=ko(N)}le=null}else le=null;I!==null&&Ud(z,U,I,le,!1),ue!==null&&Re!==null&&Ud(z,Re,ue,le,!0)}}e:{if(U=D?ei(D):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var Z=Qu;else if(Ku(U))if(Zu)Z=Cg;else{Z=Sg;var he=Tg}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Ha(D.elementType)&&(Z=Qu):Z=xg;if(Z&&(Z=Z(t,D))){Xu(z,Z,a,L);break e}he&&he(t,U,D),t==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&Ba(U,"number",U.value)}switch(he=D?ei(D):window,t){case"focusin":(Ku(he)||he.contentEditable==="true")&&(uo=he,ts=D,ui=null);break;case"focusout":ui=ts=uo=null;break;case"mousedown":ns=!0;break;case"contextmenu":case"mouseup":case"dragend":ns=!1,lc(z,a,L);break;case"selectionchange":if(Ag)break;case"keydown":case"keyup":lc(z,a,L)}var te;if(Za)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ro?Ju(t,a)&&(ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(Fu&&a.locale!=="ko"&&(ro||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ro&&(te=Gu()):(sn=L,Ja="value"in sn?sn.value:sn.textContent,ro=!0)),he=jl(D,ae),0<he.length&&(ae=new Hu(ae,t,null,a,L),z.push({event:ae,listeners:he}),te?ae.data=te:(te=$u(a),te!==null&&(ae.data=te)))),(te=pg?hg(t,a):gg(t,a))&&(ae=jl(D,"onBeforeInput"),0<ae.length&&(he=new Hu("onBeforeInput","beforeinput",null,a,L),z.push({event:he,listeners:ae}),he.data=te)),ay(z,t,D,a,L)}bd(z,o)})}function Pi(t,o,a){return{instance:t,listener:o,currentTarget:a}}function jl(t,o){for(var a=o+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ti(t,a),f!=null&&c.unshift(Pi(t,f,p)),f=ti(t,o),f!=null&&c.push(Pi(t,f,p))),t.tag===3)return c;t=t.return}return[]}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ud(t,o,a,c,f){for(var p=o._reactName,S=[];a!==null&&a!==c;){var C=a,_=C.alternate,D=C.stateNode;if(C=C.tag,_!==null&&_===c)break;C!==5&&C!==26&&C!==27||D===null||(_=D,f?(D=ti(a,p),D!=null&&S.unshift(Pi(a,D,_))):f||(D=ti(a,p),D!=null&&S.push(Pi(a,D,_)))),a=a.return}S.length!==0&&t.push({event:o,listeners:S})}var cy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function Id(t){return(typeof t=="string"?t:""+t).replace(cy,`
`).replace(fy,"")}function kd(t,o){return o=Id(o),Id(t)===o}function ea(){}function Ne(t,o,a,c,f,p){switch(a){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||lo(t,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&lo(t,""+c);break;case"className":ll(t,"class",c);break;case"tabIndex":ll(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(t,a,c);break;case"style":Vu(t,c,p);break;case"data":if(o!=="object"){ll(t,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=rl(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(o!=="input"&&Ne(t,o,"name",f.name,f,null),Ne(t,o,"formEncType",f.formEncType,f,null),Ne(t,o,"formMethod",f.formMethod,f,null),Ne(t,o,"formTarget",f.formTarget,f,null)):(Ne(t,o,"encType",f.encType,f,null),Ne(t,o,"method",f.method,f,null),Ne(t,o,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=rl(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=ea);break;case"onScroll":c!=null&&ye("scroll",t);break;case"onScrollEnd":c!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=rl(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":ye("beforetoggle",t),ye("toggle",t),il(t,"popover",c);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":il(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hh.get(a)||a,il(t,a,c))}}function _r(t,o,a,c,f,p){switch(a){case"style":Vu(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof c=="string"?lo(t,c):(typeof c=="number"||typeof c=="bigint")&&lo(t,""+c);break;case"onScroll":c!=null&&ye("scroll",t);break;case"onScrollEnd":c!=null&&ye("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Au.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),o=a.slice(2,f?a.length-7:void 0),p=t[lt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(o,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(o,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):il(t,a,c)}}}function We(t,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var c=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];if(S!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:Ne(t,o,p,S,a,null)}}f&&Ne(t,o,"srcSet",a.srcSet,a,null),c&&Ne(t,o,"src",a.src,a,null);return;case"input":ye("invalid",t);var C=p=S=f=null,_=null,D=null;for(c in a)if(a.hasOwnProperty(c)){var L=a[c];if(L!=null)switch(c){case"name":f=L;break;case"type":S=L;break;case"checked":_=L;break;case"defaultChecked":D=L;break;case"value":p=L;break;case"defaultValue":C=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,o));break;default:Ne(t,o,c,L,a,null)}}Du(t,p,C,_,D,S,f,!1),al(t);return;case"select":ye("invalid",t),c=S=p=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":p=C;break;case"defaultValue":S=C;break;case"multiple":c=C;default:Ne(t,o,f,C,a,null)}o=p,a=S,t.multiple=!!c,o!=null?io(t,!!c,o,!1):a!=null&&io(t,!!c,a,!0);return;case"textarea":ye("invalid",t),p=f=c=null;for(S in a)if(a.hasOwnProperty(S)&&(C=a[S],C!=null))switch(S){case"value":c=C;break;case"defaultValue":f=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Ne(t,o,S,C,a,null)}Iu(t,c,f,p),al(t);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(c=a[_],c!=null))switch(_){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ne(t,o,_,c,a,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(c=0;c<Li.length;c++)ye(Li[c],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(c=a[D],c!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,o));default:Ne(t,o,D,c,a,null)}return;default:if(Ha(o)){for(L in a)a.hasOwnProperty(L)&&(c=a[L],c!==void 0&&_r(t,o,L,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&Ne(t,o,C,c,a,null))}function dy(t,o,a,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,C=null,_=null,D=null,L=null;for(I in a){var z=a[I];if(a.hasOwnProperty(I)&&z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":_=z;default:c.hasOwnProperty(I)||Ne(t,o,I,null,c,z)}}for(var U in c){var I=c[U];if(z=a[U],c.hasOwnProperty(U)&&(I!=null||z!=null))switch(U){case"type":p=I;break;case"name":f=I;break;case"checked":D=I;break;case"defaultChecked":L=I;break;case"value":S=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,o));break;default:I!==z&&Ne(t,o,U,I,c,z)}}qa(t,S,C,_,D,L,p,f);return;case"select":I=S=C=U=null;for(p in a)if(_=a[p],a.hasOwnProperty(p)&&_!=null)switch(p){case"value":break;case"multiple":I=_;default:c.hasOwnProperty(p)||Ne(t,o,p,null,c,_)}for(f in c)if(p=c[f],_=a[f],c.hasOwnProperty(f)&&(p!=null||_!=null))switch(f){case"value":U=p;break;case"defaultValue":C=p;break;case"multiple":S=p;default:p!==_&&Ne(t,o,f,p,c,_)}o=C,a=S,c=I,U!=null?io(t,!!a,U,!1):!!c!=!!a&&(o!=null?io(t,!!a,o,!0):io(t,!!a,a?[]:"",!1));return;case"textarea":I=U=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ne(t,o,C,null,c,f)}for(S in c)if(f=c[S],p=a[S],c.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":U=f;break;case"defaultValue":I=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==p&&Ne(t,o,S,f,c,p)}Uu(t,U,I);return;case"option":for(var ue in a)if(U=a[ue],a.hasOwnProperty(ue)&&U!=null&&!c.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ne(t,o,ue,null,c,U)}for(_ in c)if(U=c[_],I=a[_],c.hasOwnProperty(_)&&U!==I&&(U!=null||I!=null))switch(_){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ne(t,o,_,U,c,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)U=a[le],a.hasOwnProperty(le)&&U!=null&&!c.hasOwnProperty(le)&&Ne(t,o,le,null,c,U);for(D in c)if(U=c[D],I=a[D],c.hasOwnProperty(D)&&U!==I&&(U!=null||I!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,o));break;default:Ne(t,o,D,U,c,I)}return;default:if(Ha(o)){for(var Re in a)U=a[Re],a.hasOwnProperty(Re)&&U!==void 0&&!c.hasOwnProperty(Re)&&_r(t,o,Re,void 0,c,U);for(L in c)U=c[L],I=a[L],!c.hasOwnProperty(L)||U===I||U===void 0&&I===void 0||_r(t,o,L,U,c,I);return}}for(var N in a)U=a[N],a.hasOwnProperty(N)&&U!=null&&!c.hasOwnProperty(N)&&Ne(t,o,N,null,c,U);for(z in c)U=c[z],I=a[z],!c.hasOwnProperty(z)||U===I||U==null&&I==null||Ne(t,o,z,U,c,I)}var wr=null,Mr=null;function ta(t){return t.nodeType===9?t:t.ownerDocument}function Vd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ld(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function Nr(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Rr=null;function my(){var t=window.event;return t&&t.type==="popstate"?t===Rr?!1:(Rr=t,!0):(Rr=null,!1)}var Pd=typeof setTimeout=="function"?setTimeout:void 0,py=typeof clearTimeout=="function"?clearTimeout:void 0,Gd=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Gd<"u"?function(t){return Gd.resolve(null).then(t).catch(gy)}:Pd;function gy(t){setTimeout(function(){throw t})}function En(t){return t==="head"}function qd(t,o){var a=o,c=0,f=0;do{var p=a.nextSibling;if(t.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<c&&8>c){a=c;var S=t.ownerDocument;if(a&1&&Gi(S.documentElement),a&2&&Gi(S.body),a&4)for(a=S.head,Gi(a),S=a.firstChild;S;){var C=S.nextSibling,_=S.nodeName;S[jo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=C}}if(f===0){t.removeChild(p),Ji(o);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:c=a.charCodeAt(0)-48;else c=0;a=p}while(a);Ji(o)}function br(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":br(a),Va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yy(t,o,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[jo])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Dt(t.nextSibling),t===null)break}return null}function vy(t,o,a){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dt(t.nextSibling),t===null))return null;return t}function Dr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ty(t,o){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")o();else{var c=function(){o(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Dt(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return t}var Ur=null;function Bd(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return t;o--}else a==="/$"&&o++}t=t.previousSibling}return null}function Hd(t,o,a){switch(o=ta(a),t){case"html":if(t=o.documentElement,!t)throw Error(l(452));return t;case"head":if(t=o.head,!t)throw Error(l(453));return t;case"body":if(t=o.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Gi(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Va(t)}var Mt=new Map,zd=new Set;function na(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var en=$.d;$.d={f:Sy,r:xy,D:Cy,C:Ey,L:Ay,m:_y,X:My,S:wy,M:Ny};function Sy(){var t=en.f(),o=$l();return t||o}function xy(t){var o=eo(t);o!==null&&o.tag===5&&o.type==="form"?rf(o):en.r(t)}var Vo=typeof document>"u"?null:document;function Fd(t,o,a){var c=Vo;if(c&&typeof o=="string"&&o){var f=St(o);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),zd.has(f)||(zd.add(f),t={rel:t,crossOrigin:a,href:o},c.querySelector(f)===null&&(o=c.createElement("link"),We(o,"link",t),Oe(o),c.head.appendChild(o)))}}function Cy(t){en.D(t),Fd("dns-prefetch",t,null)}function Ey(t,o){en.C(t,o),Fd("preconnect",t,o)}function Ay(t,o,a){en.L(t,o,a);var c=Vo;if(c&&t&&o){var f='link[rel="preload"][as="'+St(o)+'"]';o==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+St(a.imageSizes)+'"]')):f+='[href="'+St(t)+'"]';var p=f;switch(o){case"style":p=Lo(t);break;case"script":p=Po(t)}Mt.has(p)||(t=v({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:t,as:o},a),Mt.set(p,t),c.querySelector(f)!==null||o==="style"&&c.querySelector(qi(p))||o==="script"&&c.querySelector(Bi(p))||(o=c.createElement("link"),We(o,"link",t),Oe(o),c.head.appendChild(o)))}}function _y(t,o){en.m(t,o);var a=Vo;if(a&&t){var c=o&&typeof o.as=="string"?o.as:"script",f='link[rel="modulepreload"][as="'+St(c)+'"][href="'+St(t)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Po(t)}if(!Mt.has(p)&&(t=v({rel:"modulepreload",href:t},o),Mt.set(p,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bi(p)))return}c=a.createElement("link"),We(c,"link",t),Oe(c),a.head.appendChild(c)}}}function wy(t,o,a){en.S(t,o,a);var c=Vo;if(c&&t){var f=to(c).hoistableStyles,p=Lo(t);o=o||"default";var S=f.get(p);if(!S){var C={loading:0,preload:null};if(S=c.querySelector(qi(p)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":o},a),(a=Mt.get(p))&&Ir(t,a);var _=S=c.createElement("link");Oe(_),We(_,"link",t),_._p=new Promise(function(D,L){_.onload=D,_.onerror=L}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,oa(S,o,c)}S={type:"stylesheet",instance:S,count:1,state:C},f.set(p,S)}}}function My(t,o){en.X(t,o);var a=Vo;if(a&&t){var c=to(a).hoistableScripts,f=Po(t),p=c.get(f);p||(p=a.querySelector(Bi(f)),p||(t=v({src:t,async:!0},o),(o=Mt.get(f))&&kr(t,o),p=a.createElement("script"),Oe(p),We(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function Ny(t,o){en.M(t,o);var a=Vo;if(a&&t){var c=to(a).hoistableScripts,f=Po(t),p=c.get(f);p||(p=a.querySelector(Bi(f)),p||(t=v({src:t,async:!0,type:"module"},o),(o=Mt.get(f))&&kr(t,o),p=a.createElement("script"),Oe(p),We(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function Od(t,o,a,c){var f=(f=oe.current)?na(f):null;if(!f)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Lo(a.href),a=to(f).hoistableStyles,c=a.get(o),c||(c={type:"style",instance:null,count:0,state:null},a.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Lo(a.href);var p=to(f).hoistableStyles,S=p.get(t);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,S),(p=f.querySelector(qi(t)))&&!p._p&&(S.instance=p,S.state.loading=5),Mt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mt.set(t,a),p||Ry(f,t,a,S.state))),o&&c===null)throw Error(l(528,""));return S}if(o&&c!==null)throw Error(l(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Po(a),a=to(f).hoistableScripts,c=a.get(o),c||(c={type:"script",instance:null,count:0,state:null},a.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Lo(t){return'href="'+St(t)+'"'}function qi(t){return'link[rel="stylesheet"]['+t+"]"}function Yd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Ry(t,o,a,c){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=t.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),We(o,"link",a),Oe(o),t.head.appendChild(o))}function Po(t){return'[src="'+St(t)+'"]'}function Bi(t){return"script[async]"+t}function Jd(t,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var c=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(c)return o.instance=c,Oe(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Oe(c),We(c,"style",f),oa(c,a.precedence,t),o.instance=c;case"stylesheet":f=Lo(a.href);var p=t.querySelector(qi(f));if(p)return o.state.loading|=4,o.instance=p,Oe(p),p;c=Yd(a),(f=Mt.get(f))&&Ir(c,f),p=(t.ownerDocument||t).createElement("link"),Oe(p);var S=p;return S._p=new Promise(function(C,_){S.onload=C,S.onerror=_}),We(p,"link",c),o.state.loading|=4,oa(p,a.precedence,t),o.instance=p;case"script":return p=Po(a.src),(f=t.querySelector(Bi(p)))?(o.instance=f,Oe(f),f):(c=a,(f=Mt.get(p))&&(c=v({},a),kr(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),Oe(f),We(f,"link",c),t.head.appendChild(f),o.instance=f);case"void":return null;default:throw Error(l(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,oa(c,a.precedence,t));return o.instance}function oa(t,o,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,S=0;S<c.length;S++){var C=c[S];if(C.dataset.precedence===o)p=C;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(t,o.firstChild))}function Ir(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function kr(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var ia=null;function $d(t,o,a){if(ia===null){var c=new Map,f=ia=new Map;f.set(a,c)}else f=ia,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var p=a[f];if(!(p[jo]||p[je]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(o)||"";S=t+S;var C=c.get(S);C?C.push(p):c.set(S,[p])}}return c}function Kd(t,o,a){t=t.ownerDocument||t,t.head.insertBefore(a,o==="title"?t.querySelector("head > title"):null)}function by(t,o,a){if(a===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Xd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hi=null;function Dy(){}function Uy(t,o,a){if(Hi===null)throw Error(l(475));var c=Hi;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Lo(a.href),p=t.querySelector(qi(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=la.bind(c),t.then(c,c)),o.state.loading|=4,o.instance=p,Oe(p);return}p=t.ownerDocument||t,a=Yd(a),(f=Mt.get(f))&&Ir(a,f),p=p.createElement("link"),Oe(p);var S=p;S._p=new Promise(function(C,_){S.onload=C,S.onerror=_}),We(p,"link",a),o.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,t),(t=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=la.bind(c),t.addEventListener("load",o),t.addEventListener("error",o))}}function Iy(){if(Hi===null)throw Error(l(475));var t=Hi;return t.stylesheets&&t.count===0&&Vr(t,t.stylesheets),0<t.count?function(o){var a=setTimeout(function(){if(t.stylesheets&&Vr(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(a)}}:null}function la(){if(this.count--,this.count===0){if(this.stylesheets)Vr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var aa=null;function Vr(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,aa=new Map,o.forEach(ky,t),aa=null,la.call(t))}function ky(t,o){if(!(o.state.loading&4)){var a=aa.get(t);if(a)var c=a.get(null);else{a=new Map,aa.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),c=S)}c&&a.set(null,c)}f=o.instance,S=f.getAttribute("data-precedence"),p=a.get(S)||c,p===c&&a.set(null,f),a.set(S,f),this.count++,c=la.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),o.state.loading|=4}}var zi={$$typeof:K,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Vy(t,o,a,c,f,p,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Qd(t,o,a,c,f,p,S,C,_,D,L,z){return t=new Vy(t,o,a,S,C,_,D,z),o=1,p===!0&&(o|=24),p=mt(3,null,null,o),t.current=p,p.stateNode=t,o=gs(),o.refCount++,t.pooledCache=o,o.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:o},Ss(p),t}function Zd(t){return t?(t=po,t):po}function Wd(t,o,a,c,f,p){f=Zd(f),c.context===null?c.context=f:c.pendingContext=f,c=cn(o),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=fn(t,c,o),a!==null&&(vt(a,t,o),vi(a,t,o))}function jd(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<o?a:o}}function Lr(t,o){jd(t,o),(t=t.alternate)&&jd(t,o)}function em(t){if(t.tag===13){var o=mo(t,67108864);o!==null&&vt(o,t,67108864),Lr(t,67108864)}}var sa=!0;function Ly(t,o,a,c){var f=R.T;R.T=null;var p=$.p;try{$.p=2,Pr(t,o,a,c)}finally{$.p=p,R.T=f}}function Py(t,o,a,c){var f=R.T;R.T=null;var p=$.p;try{$.p=8,Pr(t,o,a,c)}finally{$.p=p,R.T=f}}function Pr(t,o,a,c){if(sa){var f=Gr(c);if(f===null)Ar(t,o,c,ra,a),nm(t,c);else if(qy(f,t,o,a,c))c.stopPropagation();else if(nm(t,c),o&4&&-1<Gy.indexOf(t)){for(;f!==null;){var p=eo(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Dn(p.pendingLanes);if(S!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var _=1<<31-ft(S);C.entanglements[1]|=_,S&=~_}qt(p),(_e&6)===0&&(Yl=kt()+500,Vi(0))}}break;case 13:C=mo(p,2),C!==null&&vt(C,p,2),$l(),Lr(p,2)}if(p=Gr(c),p===null&&Ar(t,o,c,ra,a),p===f)break;f=p}f!==null&&c.stopPropagation()}else Ar(t,o,c,null,a)}}function Gr(t){return t=Fa(t),qr(t)}var ra=null;function qr(t){if(ra=null,t=jn(t),t!==null){var o=d(t);if(o===null)t=null;else{var a=o.tag;if(a===13){if(t=m(o),t!==null)return t;t=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return ra=t,null}function tm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eh()){case pu:return 2;case hu:return 8;case el:case Ah:return 32;case gu:return 268435456;default:return 32}default:return 32}}var Br=!1,An=null,_n=null,wn=null,Fi=new Map,Oi=new Map,Mn=[],Gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(t,o){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(o.pointerId)}}function Yi(t,o,a,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:o,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},o!==null&&(o=eo(o),o!==null&&em(o)),t):(t.eventSystemFlags|=c,o=t.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),t)}function qy(t,o,a,c,f){switch(o){case"focusin":return An=Yi(An,t,o,a,c,f),!0;case"dragenter":return _n=Yi(_n,t,o,a,c,f),!0;case"mouseover":return wn=Yi(wn,t,o,a,c,f),!0;case"pointerover":var p=f.pointerId;return Fi.set(p,Yi(Fi.get(p)||null,t,o,a,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Oi.set(p,Yi(Oi.get(p)||null,t,o,a,c,f)),!0}return!1}function om(t){var o=jn(t.target);if(o!==null){var a=d(o);if(a!==null){if(o=a.tag,o===13){if(o=m(a),o!==null){t.blockedOn=o,Uh(t.priority,function(){if(a.tag===13){var c=yt();c=Ua(c);var f=mo(a,c);f!==null&&vt(f,a,c),Lr(a,c)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ua(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var a=Gr(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);za=c,a.target.dispatchEvent(c),za=null}else return o=eo(a),o!==null&&em(o),t.blockedOn=a,!1;o.shift()}return!0}function im(t,o,a){ua(t)&&a.delete(o)}function By(){Br=!1,An!==null&&ua(An)&&(An=null),_n!==null&&ua(_n)&&(_n=null),wn!==null&&ua(wn)&&(wn=null),Fi.forEach(im),Oi.forEach(im)}function ca(t,o){t.blockedOn===o&&(t.blockedOn=null,Br||(Br=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,By)))}var fa=null;function lm(t){fa!==t&&(fa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fa===t&&(fa=null);for(var o=0;o<t.length;o+=3){var a=t[o],c=t[o+1],f=t[o+2];if(typeof c!="function"){if(qr(c||a)===null)continue;break}var p=eo(a);p!==null&&(t.splice(o,3),o-=3,qs(p,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Ji(t){function o(_){return ca(_,t)}An!==null&&ca(An,t),_n!==null&&ca(_n,t),wn!==null&&ca(wn,t),Fi.forEach(o),Oi.forEach(o);for(var a=0;a<Mn.length;a++){var c=Mn[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Mn.length&&(a=Mn[0],a.blockedOn===null);)om(a),a.blockedOn===null&&Mn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],p=a[c+1],S=f[lt]||null;if(typeof p=="function")S||lm(a);else if(S){var C=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[lt]||null)C=S.formAction;else if(qr(f)!==null)continue}else C=S.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),lm(a)}}}function Hr(t){this._internalRoot=t}da.prototype.render=Hr.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(l(409));var a=o.current,c=yt();Wd(a,c,t,o,null,null)},da.prototype.unmount=Hr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Wd(t.current,2,null,t,null,null),$l(),o[Wn]=null}};function da(t){this._internalRoot=t}da.prototype.unstable_scheduleHydration=function(t){if(t){var o=xu();t={blockedOn:null,target:t,priority:o};for(var a=0;a<Mn.length&&o!==0&&o<Mn[a].priority;a++);Mn.splice(a,0,t),a===0&&om(t)}};var am=e.version;if(am!=="19.1.0")throw Error(l(527,am,"19.1.0"));$.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(o),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var Hy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Qo=ma.inject(Hy),ct=ma}catch{}}return Ki.createRoot=function(t,o){if(!u(t))throw Error(l(299));var a=!1,c="",f=Cf,p=Ef,S=Af,C=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(f=o.onUncaughtError),o.onCaughtError!==void 0&&(p=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=Qd(t,1,!1,null,null,a,c,f,p,S,C,null),t[Wn]=o.current,Er(t),new Hr(o)},Ki.hydrateRoot=function(t,o,a){if(!u(t))throw Error(l(299));var c=!1,f="",p=Cf,S=Ef,C=Af,_=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),o=Qd(t,1,!0,o,a??null,c,f,p,S,C,_,D),o.context=Zd(null),a=o.current,c=yt(),c=Ua(c),f=cn(c),f.callback=null,fn(a,f,c),a=c,o.current.lanes=a,Wo(o,a),qt(o),t[Wn]=o.current,Er(t),new da(o)},Ki.version="19.1.0",Ki}var gm;function Zy(){if(gm)return Or.exports;gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Or.exports=Qy(),Or.exports}var Wy=Zy();const jy=qp(Wy);class Oo{constructor(){this.status={authenticated:!1,user:null}}async fetchStatus(){try{const e=await fetch("http://localhost:3001/auth/status",{credentials:"include"});e.ok&&(this.status=await e.json())}catch{}return this.status}get isAuthenticated(){return!!this.status.authenticated}signIn(){window.location.href="http://localhost:3001/auth/google"}async signOut(){await fetch("http://localhost:3001/auth/logout",{method:"POST",credentials:"include"}),this.status={authenticated:!1,user:null},window.location.reload()}}const it=class it{constructor(){this.auth=new Oo}static async runNext(){if(it.active>=it.maxConcurrent)return;const e=it.queue.shift();if(e){it.active++;try{await e()}finally{it.active--,setTimeout(()=>{it.runNext()},200)}}}static enqueue(e){return new Promise((i,l)=>{it.queue.push(async()=>{try{i(await e())}catch(u){l(u)}}),it.runNext()})}async ensureAuth(){return!!(await this.auth.fetchStatus()).authenticated}async uploadBlob(e,i,l,u){return await this.ensureAuth()?it.enqueue(async()=>{const m=await new Promise(y=>{const h=new FileReader;h.onloadend=()=>y(h.result),h.readAsDataURL(u)}),g=await fetch("http://localhost:3001/drive/upload",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,mimeType:i,folder:l,dataUrl:m})});return g.ok?await g.json():Promise.reject(await g.text().catch(()=>"Upload failed"))}):null}async uploadFromUrl(e,i,l,u){return await this.ensureAuth()?it.enqueue(async()=>{const m=await fetch("http://localhost:3001/drive/upload",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,mimeType:i,folder:l,url:u})});return m.ok?await m.json():Promise.reject(await m.text().catch(()=>"Upload failed"))}):null}async saveStory(e,i){await this.ensureAuth()&&await fetch("http://localhost:3001/drive/save-story",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyId:e,storedStory:i})})}async listStories(){if(!await this.ensureAuth())return[];const i=await fetch("http://localhost:3001/drive/stories",{credentials:"include"});return i.ok?await i.json():[]}async deleteStory(e){await this.ensureAuth()&&await fetch(`http://localhost:3001/drive/story/${e}`,{method:"DELETE",credentials:"include"})}async saveKV(e,i,l="stories"){await this.ensureAuth()&&await fetch("http://localhost:3001/drive/kv/set",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,data:i,folder:l})})}async getKV(e,i="stories"){if(!await this.ensureAuth())return null;const u=await fetch(`http://localhost:3001/drive/kv/get?name=${encodeURIComponent(e)}&folder=${encodeURIComponent(i)}`,{credentials:"include"});return u.ok?await u.json():null}};it.queue=[],it.active=0,it.maxConcurrent=2;let zo=it;const ev=({stationBranding:n})=>{const[e,i]=ne.useState(""),[l,u]=ne.useState(""),d=new Oo,[m,g]=ne.useState(""),y=new zo,h=n||{name:"WTFX News Now",acronym:"WTFX",tagline:"Next-Gen News Production",primaryColor:"#ef4444",secondaryColor:"#dc2626"};return ne.useEffect(()=>{d.fetchStatus().then(E=>{var M;return g(((M=E.user)==null?void 0:M.email)||"")});const v=async()=>{try{const E=await y.getKV("station-assets","stories");E!=null&&E.logoUrl&&i(E.logoUrl),E!=null&&E.teamPhotoNoBgUrl&&u(E.teamPhotoNoBgUrl),!(E!=null&&E.teamPhotoNoBgUrl)&&(E!=null&&E.groupPhotoUrl)&&u(E.groupPhotoUrl)}catch{}};v();const x=()=>v();return window.addEventListener("station-assets-updated",x),()=>{window.removeEventListener("station-assets-updated",x)}},[]),T.jsxs("header",{className:"relative bg-gradient-to-r from-slate-100 via-blue-50 to-slate-100 shadow-2xl",children:[T.jsx("nav",{className:"bg-gradient-to-r from-slate-800 via-blue-900 to-slate-800 px-4 py-2",children:T.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center space-x-8",children:[T.jsx("span",{className:"text-white font-medium text-sm hover:text-blue-300 cursor-pointer transition-colors",children:h.acronym}),T.jsx("span",{className:"text-white font-medium text-sm hover:text-blue-300 cursor-pointer transition-colors",children:"2024"}),T.jsx("span",{className:"text-white font-medium text-sm hover:text-blue-300 cursor-pointer transition-colors",children:"100W"}),T.jsx("span",{className:"text-white font-medium text-sm hover:text-blue-300 cursor-pointer transition-colors",children:"NEAW15"}),T.jsx("span",{className:"text-white font-medium text-sm hover:text-blue-300 cursor-pointer transition-colors",children:"NEW NOW"}),T.jsx("span",{className:"text-white font-medium text-sm hover:text-blue-300 cursor-pointer transition-colors",children:"NOW"})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("span",{className:"bg-white text-slate-800 px-3 py-1 rounded-full text-sm font-medium hover:bg-slate-100 cursor-pointer transition-colors",children:"Today"}),m&&T.jsx("button",{onClick:()=>d.signOut(),className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium hover:bg-blue-700 cursor-pointer transition-colors",children:"Sign out"})]})]})}),T.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-slate-200 via-blue-100 to-slate-200",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/10 via-slate-700/10 to-blue-900/10"}),T.jsxs("div",{className:"container mx-auto px-4 h-full flex items-center justify-between relative",children:[T.jsx("div",{className:"flex items-center space-x-6 animate-slide-in-left",children:e?T.jsx("img",{src:e,alt:`${h.name} Logo`,className:"h-20 w-auto object-contain animate-float"}):T.jsx("div",{className:"flex items-center space-x-4",children:T.jsxs("div",{className:"relative",children:[T.jsx("h1",{className:"text-5xl md:text-6xl font-black tracking-tighter text-slate-800",children:T.jsx("span",{className:"bg-clip-text text-transparent animate-glow-pulse",style:{backgroundImage:`linear-gradient(to right, ${h.primaryColor}, ${h.secondaryColor})`},children:h.acronym})}),T.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full animate-ping",style:{backgroundColor:h.primaryColor}})]})})}),T.jsxs("div",{className:"text-center flex-1 px-8 animate-fade-in-up",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 mb-2 animate-typewriter",children:h.name.toUpperCase()}),T.jsx("p",{className:"text-lg text-slate-600 font-medium animate-pulse",children:h.tagline})]}),T.jsx("div",{className:"flex items-center animate-slide-in-right",children:l?T.jsxs("div",{className:"relative group",children:[T.jsx("img",{src:l,alt:"News Team",className:"h-48 w-auto object-contain drop-shadow-2xl transition-transform duration-300 group-hover:scale-105"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-500/10 to-transparent rounded-lg"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):T.jsx("div",{className:"h-48 w-64 bg-gradient-to-r from-slate-300 to-blue-300 rounded-lg flex items-center justify-center animate-pulse",children:T.jsx("span",{className:"text-slate-600 font-medium",children:"News Team"})})})]}),T.jsxs("div",{className:"absolute bottom-0 right-0 bg-slate-800 text-white px-4 py-1 text-sm font-mono",children:["WEC ",new Date().toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"2-digit"})]})]}),T.jsx("div",{className:"bg-gradient-to-r from-red-600/20 to-blue-600/20 border-t border-red-500/30",children:T.jsx("div",{className:"overflow-hidden whitespace-nowrap py-2",children:T.jsxs("div",{className:"animate-marquee inline-block",children:[T.jsx("span",{className:"text-white text-sm font-medium mx-8",children:" AI-Generated Videos   Voice Cloning   Dynamic Graphics   B-Roll Generation   Professional News Production"}),T.jsx("span",{className:"text-white text-sm font-medium mx-8",children:" AI-Generated Videos   Voice Cloning   Dynamic Graphics   B-Roll Generation   Professional News Production"})]})})})]})},tn=({size:n=20,className:e="text-white"})=>T.jsxs("svg",{className:`animate-spin ${e}`,width:n,height:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),tv=({onGenerate:n,isLoading:e,characterService:i,charactersReady:l,onCharactersGenerated:u})=>{const[d,m]=ne.useState(!1),g=async()=>{m(!0);try{await i.generateAllCharacterImages(),u()}catch(y){console.error("Failed to generate characters:",y)}finally{m(!1)}};return T.jsxs("div",{className:"w-full max-w-2xl text-center my-8",children:[T.jsx("p",{className:"text-slate-300 mb-4 text-lg",children:"Our award-winning AI production team is ready. Give them the signal."}),!l&&T.jsxs("div",{className:"mb-6 p-4 border border-yellow-500/30 rounded-lg bg-yellow-500/10",children:[T.jsx("p",{className:"text-yellow-300 mb-3 text-sm",children:" Character reference images not found. Generate them once for consistent video quality."}),T.jsx("button",{onClick:g,disabled:d,className:"relative inline-flex items-center justify-center px-6 py-2 text-sm font-bold text-black transition-all duration-200 bg-yellow-500 rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-400 disabled:bg-slate-600 disabled:cursor-not-allowed disabled:text-white",children:d?T.jsxs(T.Fragment,{children:[T.jsx(tn,{}),T.jsx("span",{children:"Generating Characters..."})]}):"Generate Character Images"})]}),T.jsx("button",{onClick:n,disabled:e,className:"relative inline-flex items-center justify-center px-10 py-4 text-lg font-bold text-white transition-all duration-200 bg-red-600 rounded-md shadow-lg shadow-red-600/30 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-red-500 disabled:bg-slate-600 disabled:cursor-not-allowed disabled:shadow-none",children:e?T.jsxs(T.Fragment,{children:[T.jsx(tn,{}),T.jsx("span",{children:"Generating..."})]}):"GENERATE NEWS"})]})},nv="wtfx-db",ov=1;function Ea(){return new Promise((n,e)=>{const i=indexedDB.open(nv,ov);i.onupgradeneeded=()=>{const l=i.result;l.objectStoreNames.contains("blobs")||l.createObjectStore("blobs",{keyPath:"key"}),l.objectStoreNames.contains("kv")||l.createObjectStore("kv",{keyPath:"key"})},i.onsuccess=()=>n(i.result),i.onerror=()=>e(i.error)})}async function iv(n,e){const i=await Ea();return new Promise((l,u)=>{const d=i.transaction("kv","readwrite");d.objectStore("kv").put({key:n,value:e}),d.oncomplete=()=>l(),d.onerror=()=>u(d.error)})}async function lv(n){const e=await Ea();return new Promise((i,l)=>{const d=e.transaction("kv","readonly").objectStore("kv").get(n);d.onsuccess=()=>i(d.result?d.result.value:null),d.onerror=()=>l(d.error)})}async function av(n,e){const i=await Ea();return new Promise((l,u)=>{const d=i.transaction("blobs","readwrite");d.objectStore("blobs").put({key:n,value:e}),d.oncomplete=()=>l(),d.onerror=()=>u(d.error)})}async function sv(n){const e=await Ea();return new Promise((i,l)=>{const u=e.transaction("blobs","readwrite");u.objectStore("blobs").delete(n),u.oncomplete=()=>i(),u.onerror=()=>l(u.error)})}class Wi{constructor(){this.STORIES_KEY="wtfx_stories",this.CURRENT_STORY_KEY="wtfx_current_story",this.auth=new Oo,this.drive=new zo}saveStory(e){try{(async()=>{try{await this.drive.saveStory(e.id,e)}catch{}})();const i=this.getAllStories(),l=i.findIndex(u=>u.id===e.id);l>=0?i[l]={...e,updatedAt:Date.now()}:i.push({...e,createdAt:Date.now(),updatedAt:Date.now()}),localStorage.setItem(this.STORIES_KEY,JSON.stringify(i))}catch(i){console.error("Failed to save story:",i)}}getAllStories(){try{const e=localStorage.getItem(this.STORIES_KEY),i=e?JSON.parse(e):[];return(async()=>{try{const l=await this.drive.listStories();if(Array.isArray(l)&&l.length){localStorage.setItem(this.STORIES_KEY,JSON.stringify(l));try{window.dispatchEvent(new CustomEvent("stories-updated"))}catch{}}}catch{}})(),i}catch(e){return console.error("Failed to load stories:",e),[]}}getStory(e){return this.getAllStories().find(l=>l.id===e)||null}updateStoryProgress(e,i){const l=this.getStory(e);l&&(l.generatedVideo={story_id:l.story.story_id,title:l.story.title,segments:[],status:"generating",progress:0,...l.generatedVideo,...i},l.updatedAt=Date.now(),this.saveStory(l))}deleteStory(e){const l=this.getAllStories().filter(u=>u.id!==e);localStorage.setItem(this.STORIES_KEY,JSON.stringify(l)),(async()=>{try{await this.drive.deleteStory(e)}catch{}})()}saveCurrentStory(e){try{localStorage.setItem(this.CURRENT_STORY_KEY,JSON.stringify(e))}catch(i){console.error("Failed to save current story:",i)}}getCurrentStory(){try{const e=localStorage.getItem(this.CURRENT_STORY_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load current story:",e),null}}clearCurrentStory(){localStorage.removeItem(this.CURRENT_STORY_KEY)}async saveVideoSegment(e,i,l){try{const u=`video_segment_${e}_${i}`;try{localStorage.setItem(u,JSON.stringify(l))}catch{await iv(u,l)}try{window.dispatchEvent(new CustomEvent("segment-updated",{detail:{storyId:e,segmentId:i,data:l}}))}catch{}}catch(u){console.error("Failed to save video segment:",u)}}getVideoSegment(e,i){try{const l=`video_segment_${e}_${i}`,u=localStorage.getItem(l);return u?JSON.parse(u):((async()=>{try{const d=await lv(l);if(d)try{window.dispatchEvent(new CustomEvent("segment-updated",{detail:{storyId:e,segmentId:i,data:d}}))}catch{}}catch{}})(),null)}catch(l){return console.error("Failed to load video segment:",l),null}}async downloadFile(e,i){try{const u=await(await fetch(e)).blob(),d=window.URL.createObjectURL(u),m=document.createElement("a");m.href=d,m.download=i,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(d)}catch(l){throw console.error("Failed to download file:",l),new Error("Download failed")}}getStorageInfo(){try{const e=new Blob([localStorage.getItem(this.STORIES_KEY)||""]).size,i=5*1024*1024;return{used:e,total:i,percentage:e/i*100}}catch{return{used:0,total:0,percentage:0}}}cleanupOldStories(){const e=this.getAllStories();if(e.length>10){const l=e.sort((u,d)=>d.updatedAt-u.updatedAt).slice(0,10);localStorage.setItem(this.STORIES_KEY,JSON.stringify(l))}}}const uu=({className:n="h-6 w-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M8 5v14l11-7z"})}),Bp=({className:n="h-6 w-6"})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),T.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),T.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),T.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),rv=({className:n="h-5 w-5"})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),T.jsx("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),T.jsx("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),T.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),T.jsx("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),T.jsx("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),T.jsx("line",{x1:"17",y1:"17",x2:"22",y2:"17"}),T.jsx("line",{x1:"17",y1:"7",x2:"22",y2:"7"})]}),ym=({type:n})=>{const e={veo3:{icon:T.jsx(uu,{}),text:"On-Camera",className:"bg-red-500/20 text-red-300 border-red-500/30"},runway:{icon:T.jsx(rv,{}),text:"B-Roll",className:"bg-purple-500/20 text-purple-300 border-purple-500/30"},tts_voiceover:{icon:T.jsx(Bp,{}),text:"Voiceover",className:"bg-green-500/20 text-green-300 border-green-500/30"}},{icon:i,text:l,className:u}=e[n]||{};return T.jsxs("div",{className:`absolute top-3 right-3 flex items-center space-x-2 px-2 py-1 text-xs font-semibold rounded-full border ${u} backdrop-blur-sm`,children:[i,T.jsx("span",{children:l})]})},uv=({segment:n})=>n.lower_third?T.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:T.jsxs("div",{className:"bg-blue-900/80 border-l-4 border-blue-400 px-3 py-2 text-white shadow-lg backdrop-blur-sm",children:[T.jsx("h4",{className:"font-bold text-base",children:n.lower_third.header}),T.jsx("p",{className:"text-sm text-slate-300",children:n.lower_third.subheader})]})}):null,cv=({segment:n,index:e,storyId:i})=>{const l=n.type==="veo3"||n.type==="runway",u=`${e*75}ms`,d=new Wi,[m,g]=ne.useState(void 0),y=ne.useMemo(()=>`/generated/thumbnails/${i}_${n.id}.png`,[i,n.id]);return ne.useEffect(()=>{try{const x=d.getVideoSegment(i,n.id);x!=null&&x.firstFrameImageUrl?g(`${x.firstFrameImageUrl}?t=${Date.now()}`):x!=null&&x.previewImageUrl?g(`${x.previewImageUrl}?t=${Date.now()}`):fetch(y,{method:"HEAD"}).then(E=>{E.ok&&g(`${y}?t=${Date.now()}`)}).catch(()=>{})}catch{}const h=x=>{const{storyId:E,segmentId:M,data:k}=x.detail||{};E===i&&M===n.id&&(k!=null&&k.firstFrameImageUrl?g(`${k.firstFrameImageUrl}?t=${Date.now()}`):k!=null&&k.previewImageUrl&&g(`${k.previewImageUrl}?t=${Date.now()}`))};window.addEventListener("segment-updated",h);const v=()=>{const x=d.getVideoSegment(i,n.id);x!=null&&x.firstFrameImageUrl?g(`${x.firstFrameImageUrl}?t=${Date.now()}`):x!=null&&x.previewImageUrl&&g(`${x.previewImageUrl}?t=${Date.now()}`)};return window.addEventListener("storage",v),()=>{window.removeEventListener("segment-updated",h),window.removeEventListener("storage",v)}},[i,n.id]),T.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl shadow-lg overflow-hidden flex flex-col animate-slide-in-up",style:{animationDelay:u},children:[l?T.jsxs("div",{className:"relative aspect-video bg-slate-700",children:[m?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:m,alt:n.visual_description||"Video segment",className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:T.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:T.jsx(uu,{className:"h-8 w-8 text-white"})})})]}):T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx(tn,{className:"w-10 h-10 text-white"})}),T.jsx(ym,{type:n.type}),T.jsx(uv,{segment:n})]}):T.jsxs("div",{className:"relative p-5 bg-slate-900/50",children:[T.jsx(ym,{type:n.type}),T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"text-green-400",children:T.jsx(Bp,{className:"w-8 h-8"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-slate-200",children:n.character}),T.jsx("p",{className:"text-sm text-slate-400",children:n.role})]})]})]}),T.jsxs("div",{className:"p-5 flex-grow",children:[n.dialog&&T.jsxs("p",{className:"italic text-slate-200",children:['"',n.dialog,'"']}),n.visual_description&&T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-slate-400 text-sm mt-2",children:"VISUAL"}),T.jsx("p",{className:"text-slate-300",children:n.visual_description})]}),n.voiceover_script&&T.jsxs("p",{className:"italic text-slate-200",children:['"',n.voiceover_script,'"']}),n.camera_description&&T.jsxs("p",{className:"text-xs text-slate-500 mt-4 font-mono",children:[" ",n.camera_description]})]}),T.jsx("div",{className:"bg-slate-900/50 text-right px-4 py-2 border-t border-slate-700",children:T.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["ID: ",n.id," | Dur: ",n.duration,"s"]})})]})},fv=({story:n})=>T.jsxs("div",{className:"w-full max-w-7xl mx-auto animate-fade-in-up",children:[T.jsx("div",{className:"breaking-banner text-center py-2 mb-6 rounded-lg",children:T.jsx("span",{className:"text-white font-bold text-lg",children:" BREAKING NEWS "})}),T.jsxs("div",{className:"text-center mb-10 border-b-2 border-slate-700 pb-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[T.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold tracking-tight text-blue-300 animate-typewriter",children:n.title}),T.jsxs("p",{className:"mt-2 text-slate-400 animate-pulse",children:["Total Story Duration: ",n.duration_seconds,"s"]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.segments.map((e,i)=>T.jsx("div",{className:"animate-fade-in-up news-card",style:{animationDelay:`${.1*(i+1)}s`},children:T.jsx(cv,{segment:e,index:i,storyId:n.story_id})},e.id))})]}),Zi=class Zi{constructor(){this.downloadedAssets=new Map,this.downloadQueue=new Set,this.drive=new zo,this.auth=new Oo,this.loadDownloadedAssets(),Zi.directoriesInitialized||(this.createDownloadsDirectory(),Zi.directoriesInitialized=!0)}createDownloadsDirectory(){console.log(" Download directories ready:",["downloads/characters","downloads/videos","downloads/audio","downloads/images","downloads/stories"])}loadDownloadedAssets(){const e=localStorage.getItem("downloaded-assets");if(e)try{const i=JSON.parse(e);this.downloadedAssets=new Map(i)}catch(i){console.error("Failed to load downloaded assets:",i)}}saveDownloadedAssets(){const e=Array.from(this.downloadedAssets.entries()).sort((i,l)=>(l[1].downloadedAt||0)-(i[1].downloadedAt||0)).slice(0,150);try{localStorage.setItem("downloaded-assets",JSON.stringify(e))}catch{const l=e.slice(0,50);try{localStorage.setItem("downloaded-assets",JSON.stringify(l))}catch{}}}async downloadAndSaveAsset(e,i,l){if(this.downloadedAssets.has(e)){const u=this.downloadedAssets.get(e);return console.log(" Asset already downloaded:",u.localPath),u.localPath}if(this.downloadQueue.has(e))return console.log(" Asset already in download queue:",e),e;this.downloadQueue.add(e);try{const u=e.startsWith("/generated/")?`${location.protocol}//${location.hostname}:3001${e}`:e;console.log(` Downloading ${i}:`,u);const d=await fetch(u);if(!d.ok)throw new Error(`Download failed: ${d.status} ${d.statusText}`);const m=await d.blob(),g=this.generateFileName(i,l),y=i==="video"?e:await this.saveToIndexedDB(m,g,i),h={originalUrl:e,localPath:y,fileName:g,type:i,storyId:l==null?void 0:l.storyId,characterId:l==null?void 0:l.characterId,segmentId:l==null?void 0:l.segmentId,downloadedAt:Date.now(),fileSize:m.size};this.downloadedAssets.set(e,h),this.saveDownloadedAssets();try{const v=i==="image"?"images":i==="audio"?"audio":"videos";i==="video"?await this.drive.uploadFromUrl(g,"video/mp4","videos",u):i==="image"?u.startsWith("http")?await this.drive.uploadFromUrl(g,"image/jpeg","images",u):await this.drive.uploadBlob(g,"image/jpeg","images",m):i==="audio"&&await this.drive.uploadBlob(g,"audio/wav","audio",m)}catch{}return console.log(` ${i} saved:`,y),y}catch(u){throw console.error(` Failed to download ${i}:`,u),u}finally{this.downloadQueue.delete(e)}}generateFileName(e,i){const l=new Date().toISOString().replace(/[:.]/g,"-"),u=this.getFileExtension(e);return i!=null&&i.customFileName?`${i.customFileName}.${u}`:i!=null&&i.characterId?`character-${i.characterId}-${l}.${u}`:i!=null&&i.storyId&&(i!=null&&i.segmentId)?`story-${i.storyId}-segment-${i.segmentId}-${l}.${u}`:i!=null&&i.storyId?`story-${i.storyId}-${e}-${l}.${u}`:`${e}-${l}.${u}`}getFileExtension(e){switch(e){case"image":return"jpg";case"video":return"mp4";case"audio":return"wav";default:return"bin"}}async saveToIndexedDB(e,i,l){const u=`download-${l}-${i}`;try{await av(u,e)}catch(m){console.warn(` IndexedDB save error for ${u}:`,(m==null?void 0:m.message)||m)}return`downloads/${l}s/${i}`}getLocalFileUrl(e){const i=e.split("/").pop();if(!i)return null;const u=`download-${e.includes("/images/")?"image":e.includes("/videos/")?"video":e.includes("/audio/")?"audio":"image"}-${i}`,d=localStorage.getItem(u);return d||null}async downloadStoryAssets(e,i){console.log(` Downloading all assets for story: ${e}`);const l=[];i.finalVideoUrl&&l.push(this.downloadAndSaveAsset(i.finalVideoUrl,"video",{storyId:e,customFileName:`final-video-${e}`}).then(()=>{}));for(const u of i.segments)u.videoUrl&&l.push(this.downloadAndSaveAsset(u.videoUrl,"video",{storyId:e,segmentId:u.id}).then(()=>{})),u.lipSyncVideoUrl&&l.push(this.downloadAndSaveAsset(u.lipSyncVideoUrl,"video",{storyId:e,segmentId:u.id,customFileName:`${u.id}-lipsync`}).then(()=>{})),u.audioUrl&&l.push(this.downloadAndSaveAsset(u.audioUrl,"audio",{storyId:e,segmentId:u.id}).then(()=>{})),u.lowerThirdUrl&&l.push(this.downloadAndSaveAsset(u.lowerThirdUrl,"image",{storyId:e,segmentId:u.id,customFileName:`${u.id}-lower-third`}).then(()=>{}));try{await Promise.allSettled(l),console.log(` All assets downloaded for story: ${e}`)}catch(u){console.error(" Error downloading story assets:",u)}}async downloadCharacterAssets(e,i){console.log(` Downloading character asset for ${e} from ${i}`);const l=await this.downloadAndSaveAsset(i,"image",{characterId:e,customFileName:`character-${e}`});return console.log(` Character asset downloaded to: ${l}`),l}getDownloadStats(){const e=Array.from(this.downloadedAssets.values());return{totalAssets:e.length,totalSize:e.reduce((i,l)=>i+(l.fileSize||0),0),byType:e.reduce((i,l)=>(i[l.type]=(i[l.type]||0)+1,i),{}),oldestDownload:e.length>0?Math.min(...e.map(i=>i.downloadedAt)):null,newestDownload:e.length>0?Math.max(...e.map(i=>i.downloadedAt)):null}}cleanupOldDownloads(e=30){const i=Date.now()-e*24*60*60*1e3,l=[];for(const[u,d]of this.downloadedAssets.entries())if(d.downloadedAt<i){const m=d.localPath.split("/").pop(),y=`download-${d.type}-${m}`;localStorage.removeItem(y);try{sv(y)}catch{}l.push(u)}l.forEach(u=>this.downloadedAssets.delete(u)),this.saveDownloadedAssets(),console.log(` Cleaned up ${l.length} old downloads`)}exportDownloadList(){const e=Array.from(this.downloadedAssets.values());return JSON.stringify(e,null,2)}async downloadWithProgress(e,i,l){var E;const u=await fetch(e);if(!u.ok)throw new Error(`Download failed: ${u.status}`);const d=u.headers.get("content-length"),m=d?parseInt(d,10):0;let g=0;const y=(E=u.body)==null?void 0:E.getReader();if(!y)throw new Error("Response body is not readable");const h=[];for(;;){const{done:M,value:k}=await y.read();if(M)break;h.push(k),g+=k.length,l&&m>0&&l(g,m)}const v=new Blob(h),x=this.generateFileName(i);return await this.saveToIndexedDB(v,x,i)}};Zi.directoriesInitialized=!1;let Fo=Zi;const Kr="http://localhost:3001";class Hp{async generateStationLogo(e,i,l){console.log(` Generating logo for ${e} (${i}) - ${l}`);const u=`Professional TV news station logo for "${e}" with large bold "${i}" letters, satirical and exagerated *local news* style design, red and blue color scheme, broadcast television style, corporate branding, high quality vector-style or 3D rendering style logo, suitable for website header and station video branding, news channel branding, white/transparent background`;try{const d=await fetch(`${Kr}/api/segmind/nano-banana`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u,aspect_ratio:"16:9"})});if(!d.ok){const g=await d.json();throw new Error(`Segmind API error: ${g.error||d.statusText}`)}const m=await d.json();if(m.imageUrl)return console.log(` Segmind logo generation successful for ${e}`),m.imageUrl;throw new Error("No image URL found in Segmind response")}catch(d){return console.log(` Segmind logo generation failed, using placeholder: ${d}`),this.generatePlaceholderLogo(e,i)}}async generateStationGraphic(e,i){console.log(` Generating station graphic for ${e} in ${i}`);const l=`Professional TV news station building exterior for "${e}", exagerated and satirical *local news style* modern broadcast facility, glass facade with large station logo, news van parked outside, satellite dishes on roof, corporate headquarters style, daytime lighting, high quality architectural photography, ${i} cityscape background, make sure station branding is consistent throughout`;try{const u=await fetch(`${Kr}/api/segmind/nano-banana`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:l,aspect_ratio:"16:9"})});if(!u.ok){const m=await u.json();throw new Error(`Segmind API error: ${m.error||u.statusText}`)}const d=await u.json();if(d.imageUrl)return console.log(` Segmind station graphic generation successful for ${e}`),d.imageUrl;throw new Error("No image URL found in Segmind response")}catch(u){return console.log(` Segmind station graphic generation failed, using placeholder: ${u}`),this.generatePlaceholderStation(e,i)}}generatePlaceholderLogo(e,i){console.log(` Generating placeholder logo for ${e} (${i})`);const l=`
      <svg width="400" height="225" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#1e40af;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="400" height="225" fill="url(#grad1)" rx="15"/>
        <text x="200" y="120" font-family="Arial, sans-serif" font-size="48" font-weight="bold" 
              text-anchor="middle" fill="white" stroke="black" stroke-width="1">
          ${i}
        </text>
        <text x="200" y="160" font-family="Arial, sans-serif" font-size="16" font-weight="normal" 
              text-anchor="middle" fill="white">
          ${e}
        </text>
        <rect x="10" y="10" width="380" height="205" fill="none" stroke="white" stroke-width="2" rx="10"/>
      </svg>
    `;return`data:image/svg+xml;base64,${btoa(l)}`}generatePlaceholderStation(e,i){console.log(` Generating placeholder station graphic for ${e} in ${i}`);const l=`
      <svg width="400" height="225" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="stationGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#2563eb;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#1e40af;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="400" height="225" fill="url(#stationGrad)" rx="10"/>
        <rect x="50" y="80" width="300" height="100" fill="rgba(255,255,255,0.9)" rx="5"/>
        <text x="200" y="120" font-family="Arial, sans-serif" font-size="24" font-weight="bold" 
              text-anchor="middle" fill="#1e40af">
          ${e}
        </text>
        <text x="200" y="145" font-family="Arial, sans-serif" font-size="14" font-weight="normal" 
              text-anchor="middle" fill="#374151">
          Broadcasting from ${i}
        </text>
        <circle cx="80" cy="40" r="15" fill="#dc2626"/>
        <circle cx="120" cy="40" r="15" fill="#dc2626"/>
        <circle cx="160" cy="40" r="15" fill="#dc2626"/>
        <rect x="10" y="10" width="380" height="205" fill="none" stroke="white" stroke-width="2" rx="8"/>
      </svg>
    `;return`data:image/svg+xml;base64,${btoa(l)}`}async removeBackground(e){console.log(` Removing background from image: ${e.substring(0,50)}...`);try{let i;if(e.startsWith("data:image/"))i=e.split(",")[1];else{const m=await(await fetch(e)).arrayBuffer();i=Buffer.from(m).toString("base64")}const l=await fetch(`${Kr}/api/segmind/bg-removal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:i,method:"object"})});if(!l.ok){const d=await l.json();throw new Error(`Segmind background removal error: ${d.error||l.statusText}`)}const u=await l.json();if(u.imageUrl)return console.log(" Background removal successful"),u.imageUrl;throw new Error("No image URL found in Segmind background removal response")}catch(i){throw console.error("Failed to remove background:",i),i}}}const dv="http://localhost:3001";class Aa{constructor(){this.downloadService=new Fo,this.logoService=new Hp,this.drive=new zo,this.characters=[{id:"dana-kingsley",name:"Dana Kingsley",tag:"@anchor1",role:"Lead News Anchor",prompt:"Professional female news anchor, 35-40 years old, shoulder-length brown hair, wearing navy blue blazer, white background, studio lighting, headshot, realistic, high definition, professional photography"},{id:"ron-tate",name:"Ron Tate",tag:"@anchor2",role:"Co-Anchor",prompt:"Professional male news anchor, 45-50 years old, salt-and-pepper hair, wearing dark suit with red tie, white background, studio lighting, headshot, realistic, high definition, professional photography"},{id:"max-fields",name:"Max Fields",tag:"@reporter",role:"Field Reporter",prompt:"Young male field reporter, 28-32 years old, blonde hair, wearing casual button-down shirt, white background, studio lighting, headshot, realistic, high definition, professional photography"}]}async generateAllCharacterImages(){console.log(" Generating character reference images...");for(const e of this.characters)try{console.log(`Generating image for ${e.name} (${e.tag})...`);const i=await this.generateCharacterImage(e.prompt);e.imageUrl=i;const l=await this.downloadService.downloadCharacterAssets(e.id,i);e.localPath=l,console.log(` Generated ${e.name}: ${l}`),await new Promise(u=>setTimeout(u,2e3))}catch(i){console.error(` Failed to generate image for ${e.name}:`,i)}console.log(" Generating group publicity photo...");try{await this.generateGroupPublicityPhoto(),console.log(" Group publicity photo generated!")}catch(e){console.error(" Failed to generate group photo:",e)}this.saveCharacterData(),console.log(" All character images generated and saved!")}async generateGroupPublicityPhoto(){const e=this.characters.map(l=>l.imageUrl).filter(l=>l);if(e.length<3)throw new Error("Not enough character images to generate group photo");const i="Professional TV news team publicity photo, three journalists standing together in a modern news studio, clean white background, professional studio lighting, confident poses, business professional attire, high definition photography, suitable for website header, broadcast quality team photo, corporate style";try{const l=await this.generateCharacterImage(i,e);await this.downloadService.downloadAndSaveAsset(l,"image",{customFileName:"group-publicity-photo"});try{await this.drive.saveKV("station-assets",{groupPhotoUrl:l},"stories")}catch{}try{window.dispatchEvent(new CustomEvent("station-assets-updated",{detail:{groupPhotoUrl:l}}))}catch{}console.log(" Group publicity photo saved")}catch(l){console.error("Failed to generate group photo:",l)}}async generateSingleCharacterImage(e,i,l){console.log(` Generating image for ${i} (${e})...`);try{this.loadCharacterData();const u=this.getCharacterByTag(e);if(u&&(u.localPath||u.imageUrl)){const v=this.getCharacterImageUrlByTag(e);if(v)return console.log(` Character image already exists for ${i}; skipping regeneration`),v}const d=this.createProfessionalHeadshotPrompt(l,i);console.log(` Using processed prompt: ${d}`);const m=await this.generateCharacterImage(d),g=this.characters.find(v=>v.tag===e);g?(g.imageUrl=m,g.name=i,g.prompt=l):this.characters.push({id:i.toLowerCase().replace(/\s+/g,"-"),name:i,tag:e,role:e==="@anchor1"?"Lead News Anchor":e==="@anchor2"?"Co-Anchor":"Field Reporter",prompt:l,imageUrl:m});const y=i.toLowerCase().replace(/\s+/g,"-");console.log(` Downloading character image for ${y}...`);const h=await this.downloadService.downloadCharacterAssets(y,m);if(console.log(` Character image saved to: ${h}`),g)g.localPath=h;else{const v=this.characters.find(x=>x.tag===e);v&&(v.localPath=h)}return this.saveCharacterData(),console.log(` Generated ${i}: ${h}`),m}catch(u){throw console.error(` Failed to generate image for ${i}:`,u),u}}async generateGroupPhoto(){console.log(" Generating group publicity photo...");try{await this.generateGroupPublicityPhoto(),console.log(" Group publicity photo generated!")}catch(e){throw console.error(" Failed to generate group photo:",e),e}}async generateStationAssets(e,i,l,u){console.log(" Generating station assets (logo + team photo)...");try{let d=null;try{d=await this.drive.getKV("station-assets","stories")}catch{}let m=u||(d==null?void 0:d.logoUrl)||"";m?console.log(" Using existing station logo"):(console.log(" Step 1: Generating station logo..."),m=await this.logoService.generateStationLogo(e,i,l));const g=(d==null?void 0:d.groupPhotoUrl)||null;if(!g)throw new Error("No team photo available to process");console.log(" Step 2: Removing background from team photo...");const y=await this.logoService.removeBackground(g);try{await this.downloadService.downloadAndSaveAsset(m,"image",{customFileName:"station-logo"})}catch{}await this.downloadService.downloadAndSaveAsset(y,"image",{customFileName:"team-photo-no-bg"});try{await this.drive.saveKV("station-assets",{...d||{},logoUrl:m,teamPhotoNoBgUrl:y},"stories")}catch{}try{window.dispatchEvent(new CustomEvent("station-assets-updated",{detail:{logoUrl:m,teamPhotoNoBgUrl:y}}))}catch{}return console.log(" Station assets generated and saved!"),{logoUrl:m,teamPhotoNoBgUrl:y}}catch(d){throw console.error(" Failed to generate station assets:",d),d}}createProfessionalHeadshotPrompt(e,i){const l=/^(Dana|Sarah|Casey|Maria|Jennifer|Lisa|Michelle|Jessica|Amanda|Emily|Ashley|Rachel|Samantha|Nicole|Elizabeth|Catherine|Susan|Helen|Karen|Nancy|Betty|Dorothy|Sandra|Donna|Carol|Ruth|Sharon|Michelle|Laura|Kimberly|Deborah|Dorothy|Nancy|Karen|Betty|Helen|Sandra|Donna|Carol|Ruth|Sharon)/.test(i),u=/^(Ron|Max|Jack|Michael|Christopher|Matthew|Joshua|David|Daniel|Andrew|James|Joseph|John|Robert|Mark|Paul|Steven|Kenneth|Kevin|Brian|George|Edward|Ronald|Timothy|Jason|Jeffrey|Ryan|Jacob|Gary|Nicholas|Eric|Jonathan|Stephen|Larry|Justin|Scott|Brandon|Benjamin|Samuel|Gregory|Frank|Raymond|Alexander|Patrick|Jack|Dennis|Jerry|Tyler|Aaron|Jose|Henry|Adam|Douglas|Nathan|Peter|Zachary|Kyle|Noah|Alan|Ethan|Jeremy|Lionel|Mason|Luke|Arthur|Sean|Austin|Russell|Lawrence|Carl|Donald|Jordan|Billy|Bruce|Joe|Juan|Wayne|Roy|Ralph|Eugene|Louis|Philip|Bobby)/.test(i),d=l?"female":u?"male":"person",m=e.match(/(\d+)[-\s]*(\d+)?\s*years?\s*old/i),g=m?m[2]?`${m[1]}-${m[2]}`:m[1]:"35-45",y=e.match(/(brown|blonde|black|red|gray|grey|salt[- ]and[- ]pepper|dark|light|curly|straight|wavy|shoulder[- ]length|short|long)\s*(hair|haired)/i),h=y?y[0]:"brown hair";return`Reference headshot, ${d}, ${g} years old, ${h}, neutral expression, looking at camera, white background, even lighting, head and shoulders, square format, clear facial features for reference`}async generateCharacterImage(e,i){const l={prompt:e,aspect_ratio:"1:1"};i&&i.length>0&&(l.image_urls=i);const u=await fetch(`${dv}/api/segmind/nano-banana`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!u.ok){const m=await u.text().catch(()=>"");throw new Error(`Image generation error: ${u.status} ${m}`)}const d=await u.json();if(!d.imageUrl)throw new Error("No imageUrl in Segmind response");return d.imageUrl}saveCharacterData(){localStorage.setItem("character-data",JSON.stringify(this.characters))}loadCharacterData(){const e=localStorage.getItem("character-data");return e&&(this.characters=JSON.parse(e)),this.characters}getCharacterByTag(e){return this.characters.find(i=>i.tag===e)}getCharacterByName(e){return this.characters.find(i=>i.name===e)}getCharacterImageUrl(e){const i=this.getCharacterByName(e);if(i!=null&&i.localPath){const l=this.downloadService.getLocalFileUrl(i.localPath);if(l)return l}return i==null?void 0:i.imageUrl}getCharacterImageUrlByTag(e){const i=this.getCharacterByTag(e);if(i!=null&&i.localPath){const l=this.downloadService.getLocalFileUrl(i.localPath);if(l)return l}return i==null?void 0:i.imageUrl}getAllCharacters(){return this.characters}areCharacterImagesReady(){return this.characters.every(e=>e.imageUrl||e.localPath)}processPromptWithTags(e){const i=/@(\w+)/g,l=e.match(i)||[],u=[];let d=e;return l.forEach(m=>{const g=this.getCharacterByTag(m);if(g){d=d.replace(m,`${m} (${g.name})`);const y=this.getCharacterImageUrl(g.name);y&&!u.includes(y)?(u.push(y),console.log(` Added reference image for ${g.name}: ${y.substring(0,50)}...`)):g.imageUrl&&!u.includes(g.imageUrl)?(u.push(g.imageUrl),console.log(` Added fallback reference image for ${g.name}: ${g.imageUrl}`)):console.warn(` No reference image available for ${g.name} (${m})`)}else console.warn(` Character not found for tag: ${m}`)}),console.log(` Processed prompt: "${d}"`),console.log(` Reference images (${u.length}):`,u.map(m=>m.substring(0,50)+"...")),{prompt:d,referenceImages:u}}}const Ut="http://localhost:3001";class mv{constructor(){this.storageService=new Wi,this.characterService=new Aa,this.downloadService=new Fo;try{this.characterService.loadCharacterData()}catch{}}setProgressCallback(e){this.progressCallback=e}updateProgress(e){this.progressCallback&&this.progressCallback(e)}async generateVideo(e){const i=e.segments.map(u=>({...u,status:"pending"})),l={story_id:e.story_id,title:e.title,segments:i,status:"generating",progress:0};this.storageService.saveCurrentStory({id:e.story_id,story:e,generatedVideo:l,status:"generating",createdAt:Date.now(),updatedAt:Date.now()});try{return await this.generateAllSoraVideos(l),await this.generateLowerThirdGraphics(l),await this.generateVoiceoverAudio(l),await this.composeFinalVideo(l),l.status="completed",l.progress=100,await this.downloadService.downloadStoryAssets(e.story_id,l),this.storageService.updateStoryProgress(e.story_id,l),l}catch(u){throw l.status="error",l.error=u instanceof Error?u.message:"Unknown error",this.storageService.updateStoryProgress(e.story_id,l),u}}async generateAllSoraVideos(e){this.updateProgress({currentStep:"Generating videos with Sora",progress:15,totalSteps:4});const i=e.segments.filter(u=>u.id.includes("studio")||u.id.includes("field_reporter")||u.id.includes("witness")),l=e.segments.filter(u=>u.type==="runway"&&u.visual_description&&!u.dialog);for(const u of i){u.status="generating";try{console.log(` Generating on-camera video for ${u.id}`);const{videoPrompt:d}=this.createOnCameraVideoPrompt(u),m=(u.dialog||"").trim(),g=m?` Include clearly spoken anchor audio reading this script verbatim with natural pacing and broadcast delivery: "${m.replace(/"/g,'"')}".`:"",y=`${d}.${g}`,h=u.character&&this.characterService.getCharacterImageUrl(u.character)||void 0,v=await this.callSoraVideoAPI(y,Math.max(6,Math.min(12,u.duration||10)),h);u.videoUrl=v,u.status="completed",await this.downloadService.downloadAndSaveAsset(v,"video",{storyId:e.story_id,segmentId:u.id});try{const x=await fetch(`${Ut}/api/compose/snapshot`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoUrl:v,outName:`${e.story_id}_${u.id}`})});if(x.ok){const{imageUrl:E}=await x.json();u.firstFrameImageUrl=E,await this.downloadService.downloadAndSaveAsset(E,"image",{storyId:e.story_id,segmentId:u.id,customFileName:`${u.id}-first-frame`})}}catch{}await this.storageService.saveVideoSegment(e.story_id,u.id,{videoUrl:v,firstFrameImageUrl:u.firstFrameImageUrl,status:"completed"}),this.storageService.updateStoryProgress(e.story_id,e)}catch(d){u.status="error",u.error=d instanceof Error?d.message:"Sora generation failed",console.error(` Sora generation failed for ${u.id}:`,d)}}for(const u of l){u.status="generating";try{console.log(` Generating b-roll video for ${u.id}`);const d=await this.callSoraVideoAPI(u.visual_description,Math.max(5,Math.min(10,u.duration||5)));u.videoUrl=d,u.status="completed",await this.downloadService.downloadAndSaveAsset(d,"video",{storyId:e.story_id,segmentId:u.id});try{const m=await fetch(`${Ut}/api/compose/snapshot`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoUrl:d,outName:`${e.story_id}_${u.id}`})});if(m.ok){const{imageUrl:g}=await m.json();u.firstFrameImageUrl=g,await this.downloadService.downloadAndSaveAsset(g,"image",{storyId:e.story_id,segmentId:u.id,customFileName:`${u.id}-first-frame`})}}catch{}await this.storageService.saveVideoSegment(e.story_id,u.id,{videoUrl:d,firstFrameImageUrl:u.firstFrameImageUrl,status:"completed"})}catch(d){u.status="error",u.error=d instanceof Error?d.message:"Sora generation failed",console.error(` Sora b-roll generation failed for ${u.id}:`,d)}}}createOnCameraImagePrompt(e){const i=e.camera_description||"medium shot";let l="";const u=e.character||"",d=u?this.characterService.getCharacterByName(u):void 0,m=d?d.tag:u;e.id.includes("studio")?l=`${m} welcomes viewers to tonight's broadcast. He sits at an over the top local TV news studio desk, with extravagant city skyline miniature model in a cyclorama background behind him. There are blue and red lights lighting the background from different angles creating an interesting background effect. ${m} is well lit with studio lights and has minimal shadows on his face. He occasionally makes gestures with his hands while telling the top headline. He looks directly into the camera, addressing the viewer. The camera is static, with a slight zoom in.`:e.id.includes("field_reporter")?l=`${m} is on the scene of a breaking news story. Outdoor location with natural lighting, ${i}, speaking confidently to camera with professional demeanor, holding microphone, professional field reporter setup, high definition`:e.id.includes("witness")?l=`${m} is being interviewed about the incident. Indoor interview setting with soft lighting, ${i}, speaking earnestly to off-camera interviewer, high definition`:l=`${m} appears in frame, ${i}, professional video quality`;const{prompt:g,referenceImages:y}=this.characterService.processPromptWithTags(l);return console.log(` Generated image prompt for ${e.id}: ${g}`),console.log(` Reference images for ${e.id}: ${y.length} images`),{imagePrompt:g,referenceImages:y}}createOnCameraVideoPrompt(e){let i="";return e.id.includes("studio")?i="The news anchor speaks to camera, making subtle hand gestures, slight head movements, professional broadcast delivery, static camera with slight zoom in, 10 seconds":e.id.includes("field_reporter")?i="Field reporter speaks confidently to camera, slight body movement, professional reporting stance, outdoor lighting, 10 seconds":e.id.includes("witness")?i="Person speaks earnestly during interview, natural conversational movements, soft indoor lighting, 10 seconds":i="Person speaks to camera, natural movements, professional video quality, 10 seconds",console.log(` Generated video prompt for ${e.id}: ${i}`),{videoPrompt:i}}async callSoraVideoAPI(e,i=8,l){const u={prompt:e,model:"sora-2",seconds:i,size:"1280x720"};l&&(u.input_reference=l);const d=await fetch(`${Ut}/api/sora/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!d.ok){const x=await d.text();throw new Error(`Sora create failed: ${x}`)}const m=await d.json(),g=m.id;if(!g)throw new Error("No Sora job id");let y=m.status||"queued";for(;y==="queued"||y==="in_progress";){await new Promise(M=>setTimeout(M,4e3));const x=await fetch(`${Ut}/api/sora/status/${g}`),E=await x.json();if(!x.ok)throw new Error(`Sora status failed: ${JSON.stringify(E)}`);y=E.status}if(y!=="completed")throw new Error(`Sora job failed (status=${y})`);const h=await fetch(`${Ut}/api/sora/download/${g}`);if(!h.ok)throw new Error(`Sora download failed: ${await h.text()}`);const{videoUrl:v}=await h.json();return v}async generateTTSFromText(e,i){try{console.log(` Generating TTS for character: ${i}`);const l={"Dana Kingsley":"female-anchor.wav","Ron Tate":"male-anchor.wav","Max Fields":"male-reporter.wav",default_female:"female-reporter.wav"},u=l[i]||l.default_female,d=await fetch(`${Ut}/api/segmind/chatterbox-tts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,reference_audio:`http://localhost:3001/audio/${u}`,exaggeration:.5,temperature:.8,seed:Math.floor(Math.random()*1e6),cfg_weight:.5,min_p:.05,top_p:1,repetition_penalty:1.2})});if(!d.ok)throw new Error(`Failed to generate TTS: ${d.status}`);const m=await d.json();if(m.error)throw new Error(m.error);return m.audioUrl}catch(l){throw console.error(" TTS generation failed:",l),l}}async callLipSyncAPI(e,i){try{console.log(" Applying lip sync with SadTalker");const l=await fetch(`${Ut}/api/segmind/sadtalker`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_image:e,input_audio:i,pose_style:4,expression_scale:1.4,preprocess:"full",image_size:"256",enhancer:!0,base64:!0})});if(!l.ok)throw new Error(`Failed to apply lip sync: ${l.status}`);const u=await l.json();if(u.error)throw new Error(u.error);return u.videoUrl}catch(l){throw console.error(" Lip sync failed:",l),l}}async generateLowerThirdGraphics(e){var l;this.updateProgress({currentStep:"Generating lower third graphics",progress:60,totalSteps:7});const i=e.segments.filter(u=>u.lower_third);for(const u of i)try{const d=await fetch(`${Ut}/api/ideogram/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lowerThird:u.lower_third})});if(d.ok){const m=await d.json();u.lowerThirdUrl="https://via.placeholder.com/400x100/ef4444/ffffff?text="+encodeURIComponent(((l=u.lower_third)==null?void 0:l.header)||"")}}catch(d){console.error(`Failed to generate lower third for ${u.id}:`,d)}}async removeLowerThirdBackgrounds(e){this.updateProgress({currentStep:"Removing lower third backgrounds",progress:75,totalSteps:7});const i=e.segments.filter(l=>l.lowerThirdUrl);for(const l of i)try{(await fetch(`${Ut}/api/background-remover/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:l.lowerThirdUrl})})).ok}catch(u){console.error(`Failed to remove background from ${l.id}:`,u)}}async generateVoiceoverAudio(e){this.updateProgress({currentStep:"Generating TTS voiceover audio",progress:85,totalSteps:7});const i=e.segments.filter(l=>l.type==="tts_voiceover");for(const l of i){l.status="generating";try{const u=await this.generateTTSFromText(l.voiceover_script,l.character);l.audioUrl=u,l.status="completed",await this.storageService.saveVideoSegment(e.story_id,l.id,{audioUrl:u,status:"completed"})}catch(u){l.status="error",l.error=u instanceof Error?u.message:"TTS generation failed",console.error(`Failed to generate TTS for ${l.id}:`,u)}}}async composeFinalVideo(e){this.updateProgress({currentStep:"Composing final video",progress:95,totalSteps:4});for(const l of e.segments)if(l.videoUrl&&l.audioUrl)try{const u=await fetch(`${Ut}/api/compose/mux`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoUrl:l.videoUrl,audioUrl:l.audioUrl,outName:`${e.story_id}_${l.id}`})});if(u.ok){const{muxedUrl:d}=await u.json();l.videoUrl=d}}catch(u){console.warn("Mux failed for segment",l.id,u)}const i=e.segments.map(l=>l.videoUrl).filter(l=>typeof l=="string"&&l.length>0);if(i.length>0)try{const l=await fetch(`${Ut}/api/compose/concat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videos:i,outName:`final_${e.story_id}`})});if(l.ok){const{finalUrl:u}=await l.json();e.finalVideoUrl=u}else{const u=[...e.segments].reverse().find(d=>d.videoUrl);u!=null&&u.videoUrl&&(e.finalVideoUrl=u.videoUrl)}}catch(l){console.warn("Concat failed; using last segment as final",l);const u=[...e.segments].reverse().find(d=>d.videoUrl);u!=null&&u.videoUrl&&(e.finalVideoUrl=u.videoUrl)}}}const pv=({story:n,onVideoGenerated:e})=>{const[i,l]=ne.useState(!1),[u,d]=ne.useState(null),[m,g]=ne.useState(null),[y,h]=ne.useState(null),v=new mv,x=new Wi,E=ne.useCallback(async()=>{l(!0),h(null),d(null),g(null),v.setProgressCallback(V=>{d(V)});try{const V=await v.generateVideo(n);g(V),e(V)}catch(V){console.error("Video generation failed:",V),h(V instanceof Error?V.message:"Video generation failed")}finally{l(!1)}},[n,e]),M=ne.useCallback(async(V,O)=>{try{await x.downloadFile(V,O)}catch(K){console.error("Download failed:",K),alert("Download failed. Please try again.")}},[]),k=V=>V<30?"bg-red-500":V<70?"bg-yellow-500":"bg-green-500",G=V=>V.includes("Veo3")?"":V.includes("audio")?"":V.includes("voice")?"":V.includes("B-roll")?"":V.includes("graphics")?"":V.includes("background")?"":V.includes("TTS")?"":V.includes("final")?"":"",Y=(V,O)=>O==="video"?".mp4":O==="audio"?".wav":O==="image"?".png":"";return T.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[!i&&!m&&T.jsxs("div",{className:"text-center mb-8",children:[T.jsxs("button",{onClick:E,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 text-white font-bold text-xl rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[T.jsx(uu,{className:"w-6 h-6 mr-3"}),"Generate News Video"]}),T.jsx("p",{className:"mt-4 text-slate-400 text-sm",children:"Create a complete news broadcast with AI-generated videos, graphics, and voice cloning"})]}),i&&u&&T.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 mb-8",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[T.jsx(tn,{className:"w-5 h-5 mr-3"}),u.currentStep]}),T.jsx("span",{className:"text-2xl",children:G(u.currentStep)})]}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[T.jsx("span",{children:"Progress"}),T.jsxs("span",{children:[u.progress,"%"]})]}),T.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3",children:T.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${k(u.progress)}`,style:{width:`${u.progress}%`}})})]}),T.jsxs("div",{className:"text-sm text-slate-400",children:["Step ",Math.ceil(u.progress/12.5)," of ",u.totalSteps,u.currentSegment&&T.jsxs("span",{className:"ml-2",children:[" ",u.currentSegment]})]})]}),y&&T.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-200 p-6 rounded-xl mb-8",children:[T.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Generation Failed"}),T.jsx("p",{className:"text-sm",children:y}),T.jsx("button",{onClick:E,className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors",children:"Try Again"})]}),m&&m.status==="completed"&&T.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-white",children:" News Video Generated!"}),T.jsx("span",{className:"text-green-400 text-sm",children:" Complete"})]}),T.jsx("div",{className:"aspect-video bg-slate-900 rounded-lg mb-6 flex items-center justify-center",children:m.finalVideoUrl?T.jsxs("div",{className:"relative w-full h-full",children:[T.jsx("video",{controls:!0,className:"w-full h-full rounded-lg",src:m.finalVideoUrl,preload:"metadata",children:"Your browser does not support the video tag."}),T.jsx("div",{className:"absolute top-4 right-4",children:T.jsx("button",{onClick:()=>M(m.finalVideoUrl,`${m.title}_final_video.mp4`),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg shadow-lg transition-colors",children:" Download Final Video"})})]}):T.jsxs("div",{className:"text-slate-500 text-center",children:[T.jsx("div",{className:"text-4xl mb-2",children:""}),T.jsx("p",{children:"Final video composition in progress..."}),T.jsx("p",{className:"text-sm",children:"Check the generated segments below"})]})}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:" Individual Segments"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.segments.map(V=>T.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("span",{className:"text-sm font-medium text-slate-300",children:V.id.replace(/_/g," ")}),T.jsx("span",{className:`text-xs px-2 py-1 rounded ${V.status==="completed"?"bg-green-600 text-green-100":V.status==="error"?"bg-red-600 text-red-100":"bg-yellow-600 text-yellow-100"}`,children:V.status})]}),T.jsxs("div",{className:"text-xs text-slate-400 mb-3",children:[V.type,"  ",V.duration,"s"]}),T.jsxs("div",{className:"space-y-2",children:[V.videoUrl&&T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-xs text-blue-400",children:" Video"}),T.jsx("button",{onClick:()=>M(V.videoUrl,`${V.id}_video${Y(V.videoUrl,"video")}`),className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",children:"Download"})]}),V.audioUrl&&T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-xs text-green-400",children:" Audio"}),T.jsx("button",{onClick:()=>M(V.audioUrl,`${V.id}_audio${Y(V.audioUrl,"audio")}`),className:"px-2 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors",children:"Download"})]}),V.lowerThirdUrl&&T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-xs text-purple-400",children:" Graphics"}),T.jsx("button",{onClick:()=>M(V.lowerThirdUrl,`${V.id}_graphic${Y(V.lowerThirdUrl,"image")}`),className:"px-2 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded transition-colors",children:"Download"})]}),V.error&&T.jsxs("div",{className:"text-xs text-red-400 mt-1",children:["Error: ",V.error]})]})]},V.id))})]}),T.jsxs("div",{className:"border-t border-slate-600 pt-6",children:[T.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:" Bulk Downloads"}),T.jsxs("div",{className:"flex flex-wrap gap-3",children:[T.jsx("button",{onClick:()=>{m.segments.forEach(V=>{V.videoUrl&&M(V.videoUrl,`${V.id}_video.mp4`)})},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Download All Videos"}),T.jsx("button",{onClick:()=>{m.segments.forEach(V=>{V.audioUrl&&M(V.audioUrl,`${V.id}_audio.wav`)})},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:" Download All Audio"}),T.jsx("button",{onClick:()=>{m.segments.forEach(V=>{V.lowerThirdUrl&&M(V.lowerThirdUrl,`${V.id}_graphic.png`)})},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:" Download All Graphics"})]})]}),T.jsx("div",{className:"mt-6 flex justify-center",children:T.jsx("button",{onClick:E,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Generate New Video"})})]})]})},hv=({downloadService:n})=>{const[e,i]=ne.useState(n.getDownloadStats()),[l,u]=ne.useState(!1);ne.useEffect(()=>{const y=setInterval(()=>{i(n.getDownloadStats())},2e3);return()=>clearInterval(y)},[n]);const d=y=>{if(y===0)return"0 B";const h=1024,v=["B","KB","MB","GB"],x=Math.floor(Math.log(y)/Math.log(h));return parseFloat((y/Math.pow(h,x)).toFixed(2))+" "+v[x]},m=()=>{n.cleanupOldDownloads(30),i(n.getDownloadStats())},g=()=>{const y=n.exportDownloadList(),h=new Blob([y],{type:"application/json"}),v=URL.createObjectURL(h),x=document.createElement("a");x.href=v,x.download=`wtfx-downloads-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v)};return e.totalAssets===0?null:T.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:T.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg shadow-lg overflow-hidden",children:[T.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-700 transition-colors",onClick:()=>u(!l),children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),T.jsxs("span",{className:"text-white text-sm font-medium",children:[" ",e.totalAssets," assets saved"]})]}),T.jsx("div",{className:"text-slate-400 text-xs",children:d(e.totalSize)})]}),l&&T.jsxs("div",{className:"border-t border-slate-600 p-4 bg-slate-900",children:[T.jsx("h3",{className:"text-white font-bold mb-3",children:"Download Status"}),T.jsx("div",{className:"space-y-2 mb-4",children:Object.entries(e.byType).map(([y,h])=>T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsxs("span",{className:"text-slate-300 capitalize",children:[y==="image"?"":y==="video"?"":""," ",y,"s:"]}),T.jsx("span",{className:"text-white",children:h})]},y))}),T.jsxs("div",{className:"text-xs text-slate-400 space-y-1 mb-4",children:[T.jsxs("div",{children:["Total Size: ",d(e.totalSize)]}),e.newestDownload&&T.jsxs("div",{children:["Latest: ",new Date(e.newestDownload).toLocaleTimeString()]})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:m,className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs rounded transition-colors",title:"Remove downloads older than 30 days",children:" Cleanup"}),T.jsx("button",{onClick:g,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",title:"Export download list as JSON",children:" Export"})]}),T.jsxs("div",{className:"mt-3 p-2 bg-amber-900/50 border border-amber-600/30 rounded text-xs text-amber-200",children:[T.jsx("div",{className:"font-medium mb-1",children:" Auto-Download Active"}),T.jsx("div",{children:"All generated assets are automatically saved locally to prevent loss after 1-hour server expiration."})]})]})]})})},gv="http://localhost:3001",yv={id:"wtfx-news-now",name:"WTFX News Now",acronym:"WTFX",tagline:"Bringing you the most absurd stories",description:"Award-winning journalists delivering viral absurdist news with an extravagant $5M website budget",theme:{primaryColor:"#ef4444",secondaryColor:"#dc2626",style:"extravagant"},anchors:[{id:"dana-kingsley",name:"Dana Kingsley",tag:"@anchor1",role:"Lead News Anchor",age:37,backstory:"Emmy Award-winning journalist with 15 years of experience covering bizarre local stories",personality:"Professional, deadpan delivery with subtle wit",specialties:["Breaking News","Investigative Reporting","Community Events"],imagePrompt:"Reference headshot, female, 35-40 years old, shoulder-length brown hair, neutral expression, white background, head and shoulders, square format"},{id:"ron-tate",name:"Ron Tate",tag:"@anchor2",role:"Co-Anchor",age:48,backstory:"Veteran journalist and former war correspondent who found his calling in absurdist local news",personality:"Authoritative voice with hidden humor, master of the dramatic pause",specialties:["Political Coverage","Weather","Sports"],imagePrompt:"Reference headshot, male, 45-50 years old, salt-and-pepper hair, neutral expression, white background, head and shoulders, square format"}],reporter:{id:"max-fields",name:"Max Fields",tag:"@reporter",role:"Field Reporter",age:29,backstory:"Rising star from Columbia Journalism School who specializes in finding the strangest stories in ordinary places",personality:"Enthusiastic, curious, slightly bewildered by the stories he covers",specialties:["Field Reporting","Human Interest","Local Events"],imagePrompt:"Reference headshot, male, 28-32 years old, blonde hair, neutral expression, white background, head and shoulders, square format"}};class zp{constructor(){this.currentStation=null,this.isOnboarded=!1,this.loadStationData()}loadStationData(){const e=localStorage.getItem("tv-station-data"),i=localStorage.getItem("station-onboarded");if(e)try{this.currentStation=JSON.parse(e)}catch(l){console.error("Failed to load station data:",l)}this.isOnboarded=i==="true"}saveStationData(){this.currentStation&&localStorage.setItem("tv-station-data",JSON.stringify(this.currentStation)),localStorage.setItem("station-onboarded","true"),this.isOnboarded=!0}isUserOnboarded(){return this.isOnboarded&&this.currentStation!==null}getCurrentStation(){return this.currentStation}async generateStationOptions(e=!1){var l;if(e)return console.log(" Using WTFX backdoor station"),[yv];console.log(" Generating dynamic TV station options...");const i=`Generate 4 unique, creative local TV news station concepts for a satirical news generator app. Each station should have:

1. A unique 3-4 letter acronym (NOT WTFX)
2. A full station name
3. A catchy tagline
4. Brief description of their style/personality
5. Theme colors (primary and secondary hex codes)
6. Two news anchors (one male, one female) with:
   - Realistic names
   - Ages (30-55)
   - Detailed backstories
   - Personality descriptions
   - Professional specialties
7. One field reporter (any gender) with same details

Make them diverse, creative, and perfect for covering absurdist local news stories. Include realistic backstories that explain why they'd be good at deadpan delivery of ridiculous stories.

IMPORTANT: For imagePrompt fields, use this EXACT format for simple reference headshots:
"Reference headshot, [male/female], [age] years old, [hair description], neutral expression, white background, head and shoulders, square format"

Return as valid JSON array with this structure:
[
  {
    "id": "station-slug",
    "name": "Full Station Name",
    "acronym": "ABCD",
    "tagline": "Catchy tagline",
    "description": "Brief description",
    "theme": {
      "primaryColor": "#hex",
      "secondaryColor": "#hex", 
      "style": "modern/classic/bold/etc"
    },
    "anchors": [
      {
        "id": "anchor-slug",
        "name": "Full Name",
        "tag": "@anchor1",
        "role": "Lead News Anchor",
        "age": 35,
        "backstory": "Detailed background",
        "personality": "Personality description",
        "specialties": ["specialty1", "specialty2"],
        "imagePrompt": "Reference headshot, [gender], [age] years old, [hair description], neutral expression, white background, head and shoulders, square format"
      },
      {
        "id": "anchor2-slug", 
        "name": "Full Name",
        "tag": "@anchor2",
        "role": "Co-Anchor",
        "age": 42,
        "backstory": "Detailed background",
        "personality": "Personality description", 
        "specialties": ["specialty1", "specialty2"],
        "imagePrompt": "Reference headshot, [gender], [age] years old, [hair description], neutral expression, white background, head and shoulders, square format"
      }
    ],
    "reporter": {
      "id": "reporter-slug",
      "name": "Full Name", 
      "tag": "@reporter",
      "role": "Field Reporter",
      "age": 28,
      "backstory": "Detailed background",
      "personality": "Personality description",
      "specialties": ["specialty1", "specialty2"],
      "imagePrompt": "Reference headshot, [gender], [age] years old, [hair description], neutral expression, white background, head and shoulders, square format"
    }
  }
]

Focus on creativity, diversity, and personalities that would excel at delivering absurd news with straight faces.`;try{const u=await fetch(`${gv}/api/gemini/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:i})});if(!u.ok)throw new Error(`Failed to generate stations: ${u.statusText}`);let m=((l=(await u.json()).text)==null?void 0:l.trim())||"";const g=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,y=m.match(g);return y&&y[1]&&(m=y[1].trim()),JSON.parse(m).map((v,x)=>({...v,id:v.id||`station-${x}`,anchors:v.anchors.map((E,M)=>({...E,id:E.id||`anchor-${x}-${M}`,tag:M===0?"@anchor1":"@anchor2"})),reporter:{...v.reporter,id:v.reporter.id||`reporter-${x}`,tag:"@reporter"}}))}catch(u){return console.error("Failed to generate station options:",u),this.getFallbackStations()}}getFallbackStations(){return[{id:"kzap-news",name:"KZAP Action News",acronym:"KZAP",tagline:"News That Strikes Like Lightning",description:"High-energy local news with dramatic flair",theme:{primaryColor:"#f59e0b",secondaryColor:"#d97706",style:"bold"},anchors:[{id:"sarah-storm",name:"Sarah Storm",tag:"@anchor1",role:"Lead News Anchor",age:34,backstory:"Former meteorologist who brings dramatic weather reporting energy to all stories",personality:"Intense, passionate, treats every story like breaking news",specialties:["Breaking News","Weather","Emergency Coverage"],imagePrompt:"Reference headshot, female, 30-35 years old, curly red hair, neutral expression, white background, head and shoulders, square format"},{id:"jack-thunder",name:"Jack Thunder",tag:"@anchor2",role:"Co-Anchor",age:41,backstory:"Ex-sports broadcaster who brings play-by-play energy to news",personality:"Energetic, booming voice, makes everything sound exciting",specialties:["Sports","Community Events","Live Coverage"],imagePrompt:"Reference headshot, male, 40-45 years old, dark hair, neutral expression, white background, head and shoulders, square format"}],reporter:{id:"casey-flash",name:"Casey Flash",tag:"@reporter",role:"Field Reporter",age:26,backstory:"Social media journalist who brings millennial energy to traditional reporting",personality:"Fast-talking, social media savvy, always ready with quick wit",specialties:["Social Media","Youth Stories","Technology"],imagePrompt:"Reference headshot, person, 25-30 years old, trendy styled hair, neutral expression, white background, head and shoulders, square format"}}]}selectStation(e,i){const l=i.find(u=>u.id===e);return l?(this.currentStation=l,this.saveStationData(),console.log(` Selected station: ${l.name}`),!0):!1}getCharactersForGeneration(){if(!this.currentStation)throw new Error("No station selected");return[...this.currentStation.anchors,this.currentStation.reporter]}getStationBranding(){return this.currentStation?{name:this.currentStation.name,acronym:this.currentStation.acronym,tagline:this.currentStation.tagline,primaryColor:this.currentStation.theme.primaryColor,secondaryColor:this.currentStation.theme.secondaryColor}:null}resetStation(){localStorage.removeItem("tv-station-data"),localStorage.removeItem("station-onboarded"),localStorage.removeItem("character-data"),localStorage.removeItem("group-publicity-photo"),Object.keys(localStorage).forEach(i=>{(i.startsWith("character-image-")||i.startsWith("download-"))&&localStorage.removeItem(i)}),this.currentStation=null,this.isOnboarded=!1,console.log(" Station data reset for new onboarding")}exportStationData(){if(!this.currentStation)throw new Error("No station data to export");return JSON.stringify(this.currentStation,null,2)}}const vv=({onOnboardingComplete:n})=>{const[e]=ne.useState(()=>new zp),[i]=ne.useState(()=>new Aa),[l]=ne.useState(()=>new Hp),[u,d]=ne.useState("welcome"),[m,g]=ne.useState(!1),[y,h]=ne.useState([]),[v,x]=ne.useState(""),[E,M]=ne.useState(!1),[k,G]=ne.useState(!1),[Y,V]=ne.useState({current:0,total:0}),[O,K]=ne.useState(!1),[W,J]=ne.useState([]),[se,ie]=ne.useState(""),[me,ee]=ne.useState({isGenerating:!1,isComplete:!1}),[de,re]=ne.useState({cmd:!1,leftShift:!1,key1:!1}),Te=ne.useCallback(P=>{P.metaKey&&re(X=>({...X,cmd:!0})),P.shiftKey&&P.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT&&re(X=>({...X,leftShift:!0})),P.key==="1"&&re(X=>({...X,key1:!0}))},[]),Ke=ne.useCallback(P=>{P.metaKey||re(X=>({...X,cmd:!1})),P.shiftKey||re(X=>({...X,leftShift:!1})),P.key==="1"&&re(X=>({...X,key1:!1}))},[]);ne.useEffect(()=>(window.addEventListener("keydown",Te),window.addEventListener("keyup",Ke),()=>{window.removeEventListener("keydown",Te),window.removeEventListener("keyup",Ke)}),[Te,Ke]),ne.useEffect(()=>{const P=de.cmd&&de.leftShift&&de.key1;K(P),P&&console.log(" WTFX Backdoor Activated!")},[de]);const Xe=P=>{g(!0),setTimeout(()=>{d(P),setTimeout(()=>{g(!1)},50)},300)};ne.useEffect(()=>{const P=A=>{if(window.matchMedia("(pointer: coarse)").matches)return;const{clientX:q,clientY:H}=A,{innerWidth:F,innerHeight:Q}=window,ce=(q/F-.5)*2,oe=(H/Q-.5)*2,He=5,It=ce*8,Xo=-oe*He,bn=document.querySelector(".main-container");bn&&(bn.style.transform=`rotateX(${Xo}deg) rotateY(${It}deg)`)},X=()=>{const A=document.querySelector(".main-container");A&&(A.style.transform="rotateX(0deg) rotateY(0deg)")};return document.body.addEventListener("mousemove",P),document.body.addEventListener("mouseleave",X),()=>{document.body.removeEventListener("mousemove",P),document.body.removeEventListener("mouseleave",X)}},[]);const Ce=async()=>{M(!0),Xe("generating");try{const P=await e.generateStationOptions(O),X=await Promise.all(P.map(async A=>{try{const q=await l.generateStationLogo(A.name,A.acronym,A.tagline);return{...A,logoUrl:q}}catch(q){return console.error(`Failed to generate logo for ${A.name}:`,q),A}}));h(X),Xe("selecting"),O&&X.length>0&&x(X[0].id)}catch(P){console.error("Failed to generate stations:",P),alert("Failed to generate TV station options. Please try again.")}finally{M(!1)}},R=async()=>{if(!v)return;if(!e.selectStation(v,y)){alert("Failed to select station. Please try again.");return}Xe("generating-characters"),G(!0);try{const X=e.getCharactersForGeneration(),A=y.find(H=>H.id===v);console.log(" Characters to generate:",X),V({current:0,total:X.length+3});const q=X.map(H=>({name:H.name,role:H.role,tag:H.tag,personality:H.personality,backstory:H.backstory,isGenerating:!1,isComplete:!1}));J(q),A&&(A.logoUrl?console.log(" Using existing station logo; will generate remaining assets..."):console.log(" Will generate station logo with other assets..."),ee({isGenerating:!1,isComplete:!1}));for(let H=0;H<X.length;H++){const F=X[H];console.log(` Generating character ${H+1}/${X.length}: ${F.name} (${F.tag})`),ie(F.name),J(Q=>Q.map(ce=>ce.tag===F.tag?{...ce,isGenerating:!0}:ce)),V(Q=>({...Q,current:H+1}));try{const Q=i.generateSingleCharacterImage(F.tag,F.name,F.imagePrompt),ce=new Promise((He,Se)=>setTimeout(()=>Se(new Error("Character generation timed out after 5 minutes")),3e5));await Promise.race([Q,ce]);const oe=i.getCharacterImageUrlByTag(F.tag);J(He=>He.map(Se=>Se.tag===F.tag?{...Se,imageUrl:oe,isGenerating:!1,isComplete:!0}:Se)),console.log(` Successfully generated character: ${F.name}`)}catch(Q){console.error(` Failed to generate character ${F.name}:`,Q),J(ce=>ce.map(oe=>oe.tag===F.tag?{...oe,isGenerating:!1,isComplete:!1}:oe))}}ie(""),console.log(" Generating group publicity photo..."),V(H=>({...H,current:X.length+1}));try{const H=i.generateGroupPhoto(),F=new Promise((Q,ce)=>setTimeout(()=>ce(new Error("Group photo generation timed out after 5 minutes")),3e5));if(await Promise.race([H,F]),console.log(" Successfully generated group photo"),A){console.log(" Generating station assets..."),ee({isGenerating:!0,isComplete:!1}),ie("Station Logo & Assets"),V(Q=>({...Q,current:X.length+2}));try{const Q=i.generateStationAssets(A.name,A.acronym,A.tagline,A.logoUrl),ce=new Promise((He,Se)=>setTimeout(()=>Se(new Error("Station assets generation timed out after 5 minutes")),3e5)),oe=await Promise.race([Q,ce]);ee({url:oe.logoUrl,isGenerating:!1,isComplete:!0}),ie(""),console.log(" Successfully generated station assets")}catch(Q){console.error(" Failed to generate station assets:",Q),ee({isGenerating:!1,isComplete:!1}),ie("")}}}catch(H){console.error(" Failed to generate group photo:",H)}console.log(" All character generation attempts complete, transitioning to completion screen..."),d("complete"),console.log(" Character generation complete, setting up auto-redirect..."),setTimeout(()=>{console.log(" Auto-redirecting to main UI..."),n()},3e3)}catch(X){console.error(" Critical error in character generation:",X),alert(`Failed to generate character images: ${X instanceof Error?X.message:"Unknown error"}. You can retry this later from the main app.`),n()}finally{G(!1)}},$=()=>{e.resetStation(),d("welcome"),h([]),x(""),V({current:0,total:0}),J([]),ie(""),ee({isGenerating:!1,isComplete:!1})};if(u==="welcome")return T.jsxs("div",{style:{margin:0,fontFamily:"'Poppins', sans-serif",color:"#fff",backgroundSize:"cover",backgroundPosition:"center center",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",perspective:"1000px",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,opacity:m?0:1,transform:m?"translateX(-100vw)":"translateX(0)",transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)"},children:[T.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1},onError:P=>{console.log("Video failed to load, using fallback"),P.currentTarget.style.display="none"},children:T.jsx("source",{src:"/assets/newsroom-background.webm",type:"video/webm"})}),T.jsxs("div",{className:"main-container",style:{position:"relative",transition:"transform 0.1s ease-out",zIndex:2,display:"flex",alignItems:"center",gap:"2rem"},children:[T.jsxs("div",{style:{width:"500px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"28px",position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",border:"1.5px solid rgba(255, 255, 255, 0.15)"},children:[T.jsxs("div",{style:{background:"rgba(30, 27, 48, 0.7)",padding:"30px 40px",paddingBottom:"90px"},children:[T.jsx("p",{style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"rgba(255, 255, 255, 0.9)"},children:"Welcome to your"}),T.jsxs("h1",{style:{margin:0,fontSize:"4.5rem",lineHeight:1,fontWeight:800,letterSpacing:"-2px"},children:[T.jsx("span",{style:{fontSize:"2rem",color:"#90ee90",marginRight:"5px",verticalAlign:"middle"},children:""})," Absurd",T.jsx("br",{}),T.jsx("span",{style:{background:"linear-gradient(90deg, #fff, #6EB1F7)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"News Empire"})]})]}),T.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",color:"#1E1B30",padding:"20px 40px 30px",borderTop:"1.5px solid rgba(255, 255, 255, 0.15)"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",color:"#6a7185",marginBottom:"20px"},children:[T.jsx("div",{style:{width:"24px",height:"24px",background:"#f36aa4",borderRadius:"4px"}}),T.jsx("span",{children:"Eliretiyo F- Oetotini "})]}),T.jsxs("ul",{style:{listStyle:"none",padding:0,margin:"0 0 25px 0",fontWeight:600,fontSize:"1.1rem"},children:[T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#f36aa4"}}),"Custom TV Station"]}),T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#4cd3c2"}}),"Unique name, logo, and branding"]}),T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#55b2f2"}}),"News Team"]}),T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#a4e07c"}}),"2 anchors + 1 field reporter"]})]}),E?T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"rgba(68, 162, 240, 0.2)",borderRadius:"4px",marginBottom:"1rem",overflow:"hidden"},children:T.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #44A2F0, #A46BFE)",borderRadius:"4px",animation:"pulse 2s ease-in-out infinite"}})}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#1E1B30",margin:0,fontWeight:600},children:"Generating TV Stations..."})]}):T.jsx("button",{onClick:Ce,style:{display:"block",width:"100%",padding:"16px",textAlign:"center",textDecoration:"none",color:"#fff",fontSize:"1.1rem",fontWeight:600,background:O?"linear-gradient(90deg, #9333ea, #ec4899)":"linear-gradient(90deg, #44A2F0, #A46BFE)",border:"none",borderRadius:"16px",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:P=>{P.currentTarget.style.transform="translateY(-3px)",P.currentTarget.style.boxShadow="0 10px 20px rgba(0, 0, 0, 0.2)"},onMouseLeave:P=>{P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="none"},children:O?" Generate WTFX Station":"Generate My TV Station Options"}),T.jsx("p",{style:{textAlign:"center",fontSize:"0.85rem",color:"#6a7185",margin:"15px 0 0 0"},children:"This is a one-time setup, you can always come back later."}),O&&T.jsx("div",{style:{textAlign:"center",fontSize:"0.8rem",color:"#9333ea",margin:"10px 0 0 0",fontWeight:600},children:" WTFX Backdoor Active!"})]})]}),T.jsx("img",{src:"/assets/anchor.png",alt:"News Anchor pointing towards the user",style:{width:"400px",height:"auto",pointerEvents:"none",zIndex:2,flexShrink:0,transform:m?"translateX(100px) scale(0.9)":"translateX(0) scale(1)",opacity:m?0:1,transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.1s"},onError:P=>{console.log("Anchor image failed to load"),P.currentTarget.style.display="none"}})]}),T.jsx("style",{children:`
            @keyframes pulse {
              0%, 100% {
                opacity: 0.6;
              }
              50% {
                opacity: 1;
              }
            }
            
                         @media (max-width: 1000px) {
               .main-container {
                 flex-direction: column !important;
                 gap: 1rem !important;
               }
               .main-container img {
                 width: 300px !important;
               }
             }

             @media (max-width: 600px) {
               .main-container {
                 transform: scale(0.9) !important;
               }
               .main-container img {
                 width: 250px !important;
               }
             }

             @media (max-width: 500px) {
               .main-container {
                 transform: scale(0.8) !important;
               }
               .main-container h1 {
                 font-size: 3.5rem !important;
               }
               .main-container img {
                 width: 200px !important;
               }
             }
          `})]});if(u==="generating")return T.jsxs("div",{style:{margin:0,fontFamily:"'Poppins', sans-serif",color:"#fff",backgroundSize:"cover",backgroundPosition:"center center",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",perspective:"1000px",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,opacity:m?0:1,transform:m?"translateX(100vw)":"translateX(0)",transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)"},children:[T.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1},onError:P=>{console.log("Video failed to load, using fallback"),P.currentTarget.style.display="none"},children:T.jsx("source",{src:"/assets/newsroom-background.webm",type:"video/webm"})}),T.jsxs("div",{className:"main-container",style:{position:"relative",transition:"transform 0.1s ease-out",zIndex:2,display:"flex",alignItems:"center",gap:"2rem"},children:[T.jsx("img",{src:"/assets/ANCHOR2.png",alt:"News Anchor 2",style:{width:"400px",height:"auto",pointerEvents:"none",zIndex:2,flexShrink:0,transform:m?"translateX(-100px) scale(0.9)":"translateX(0) scale(1)",opacity:m?0:1,transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.2s"},onError:P=>{console.log("Anchor2 image failed to load"),P.currentTarget.style.display="none"}}),T.jsxs("div",{style:{width:"500px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"28px",position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",border:"1.5px solid rgba(255, 255, 255, 0.15)"},children:[T.jsxs("div",{style:{background:"rgba(30, 27, 48, 0.7)",padding:"30px 40px",paddingBottom:"90px"},children:[T.jsx("p",{style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"rgba(255, 255, 255, 0.9)"},children:"Creating your"}),T.jsxs("h1",{style:{margin:0,fontSize:"4.5rem",lineHeight:1,fontWeight:800,letterSpacing:"-2px"},children:[T.jsx("span",{style:{fontSize:"2rem",color:"#90ee90",marginRight:"5px",verticalAlign:"middle"},children:""})," TV Station",T.jsx("br",{}),T.jsx("span",{style:{background:"linear-gradient(90deg, #fff, #6EB1F7)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Options"})]})]}),T.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",color:"#1E1B30",padding:"20px 40px 30px",borderTop:"1.5px solid rgba(255, 255, 255, 0.15)"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",color:"#6a7185",marginBottom:"20px"},children:[T.jsx("div",{style:{width:"24px",height:"24px",background:"#f36aa4",borderRadius:"4px"}}),T.jsx("span",{children:"AI Generation in Progress "})]}),T.jsxs("ul",{style:{listStyle:"none",padding:0,margin:"0 0 25px 0",fontWeight:600,fontSize:"1.1rem"},children:[T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#f36aa4"}}),"4 Unique TV Stations"]}),T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#4cd3c2"}}),"Custom logos and branding"]}),T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#55b2f2"}}),"Character personalities"]}),T.jsxs("li",{style:{paddingLeft:"25px",marginBottom:"12px",position:"relative"},children:[T.jsx("div",{style:{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"15px",height:"3px",borderRadius:"2px",backgroundColor:"#a4e07c"}}),"Detailed backstories"]})]}),T.jsxs("div",{style:{textAlign:"center",marginBottom:"25px"},children:[T.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"rgba(68, 162, 240, 0.2)",borderRadius:"4px",marginBottom:"1rem",overflow:"hidden"},children:T.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #44A2F0, #A46BFE)",borderRadius:"4px",animation:"pulse 2s ease-in-out infinite"}})}),T.jsx("p",{style:{fontSize:"0.9rem",color:"#1E1B30",margin:0,fontWeight:600},children:"Generating TV Station Options..."})]}),T.jsx("p",{style:{textAlign:"center",fontSize:"0.85rem",color:"#6a7185",margin:"15px 0 0 0"},children:"This usually takes 30-60 seconds."})]})]})]}),T.jsx("style",{children:`
            @keyframes pulse {
              0%, 100% {
                opacity: 0.6;
              }
              50% {
                opacity: 1;
              }
            }
            
            @media (max-width: 1000px) {
              .main-container {
                flex-direction: column !important;
                gap: 1rem !important;
              }
              .main-container img {
                width: 300px !important;
              }
            }

            @media (max-width: 600px) {
              .main-container {
                transform: scale(0.9) !important;
              }
              .main-container img {
                width: 250px !important;
              }
            }

            @media (max-width: 500px) {
              .main-container {
                transform: scale(0.8) !important;
              }
              .main-container h1 {
                font-size: 3.5rem !important;
              }
              .main-container img {
                width: 200px !important;
              }
            }
          `})]});if(u==="selecting")return T.jsxs("div",{style:{margin:0,fontFamily:"'Poppins', sans-serif",color:"#fff",backgroundSize:"cover",backgroundPosition:"center center",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",perspective:"1000px",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,opacity:m?0:1,transform:m?"translateY(100vh)":"translateY(0)",transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)"},children:[T.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1},onError:P=>{console.log("Video failed to load, using fallback"),P.currentTarget.style.display="none"},children:T.jsx("source",{src:"/assets/newsroom-background.webm",type:"video/webm"})}),T.jsxs("div",{style:{position:"relative",zIndex:2,width:"100%",maxWidth:"1200px",padding:"2rem"},children:[T.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[T.jsx("h2",{style:{fontSize:"3rem",fontWeight:800,color:"white",marginBottom:"1rem",background:"linear-gradient(90deg, #fff, #6EB1F7)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Choose Your TV Station"}),T.jsx("p",{style:{fontSize:"1.2rem",color:"rgba(255, 255, 255, 0.8)"},children:"Select the station that will deliver your absurd news stories"})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"2rem",marginBottom:"2rem"},children:y.slice(0,4).map((P,X)=>{const A=v===P.id,q=v&&!A;return T.jsx("div",{onClick:()=>x(P.id),style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",padding:"2rem",cursor:"pointer",transform:m?"translateY(50px) scale(0.9)":A?"translateY(0) scale(1.05)":q?"translateY(0) scale(0.95)":"translateY(0) scale(1)",opacity:m?0:q?.4:1,transition:`all 0.5s cubic-bezier(0.4, 0, 0.2, 1) ${X*.1}s`,border:A?"3px solid #6EB1F7":"1px solid rgba(255, 255, 255, 0.3)",boxShadow:A?"0 20px 40px rgba(110, 177, 247, 0.3)":"0 10px 30px rgba(0, 0, 0, 0.2)",zIndex:A?10:1,position:"relative"},onMouseEnter:H=>{!q&&!m&&(H.currentTarget.style.transform=A?"translateY(0) scale(1.08)":"translateY(0) scale(1.02)")},onMouseLeave:H=>{m||(H.currentTarget.style.transform=A?"translateY(0) scale(1.05)":q?"translateY(0) scale(0.95)":"translateY(0) scale(1)")},children:T.jsxs("div",{style:{textAlign:"center"},children:[P.logoUrl?T.jsx("div",{style:{marginBottom:"1rem"},children:T.jsx("img",{src:P.logoUrl,alt:`${P.name} Logo`,style:{width:"120px",height:"60px",objectFit:"contain",margin:"0 auto"},onError:H=>{H.currentTarget.style.display="none"}})}):T.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,marginBottom:"1rem",color:P.theme.primaryColor},children:P.acronym}),T.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:700,color:"#1E1B30",marginBottom:"0.5rem"},children:P.name}),T.jsxs("p",{style:{fontSize:"0.9rem",fontWeight:600,color:P.theme.secondaryColor,marginBottom:"1rem"},children:['"',P.tagline,'"']}),T.jsx("p",{style:{fontSize:"0.8rem",color:"#666",marginBottom:"1.5rem",lineHeight:1.4},children:P.description}),T.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem",marginBottom:A?"1.5rem":"0"},children:[T.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"News Team"}),T.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",lineHeight:1.3},children:[P.anchors.map((H,F)=>T.jsxs("div",{children:[" ",H.name]},F)),T.jsxs("div",{children:[" ",P.reporter.name]})]})]}),A&&T.jsxs("div",{style:{marginTop:"1.5rem"},children:[T.jsx("button",{onClick:H=>{H.stopPropagation(),R()},disabled:k,style:{width:"100%",padding:"1rem",fontSize:"1rem",fontWeight:600,color:"#fff",background:k?"#9ca3af":"linear-gradient(90deg, #44A2F0, #A46BFE)",border:"none",borderRadius:"12px",cursor:k?"not-allowed":"pointer",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseEnter:H=>{k||(H.currentTarget.style.transform="translateY(-2px)",H.currentTarget.style.boxShadow="0 8px 20px rgba(68, 162, 240, 0.3)")},onMouseLeave:H=>{H.currentTarget.style.transform="translateY(0)",H.currentTarget.style.boxShadow="none"},children:k?T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[T.jsx(tn,{size:20}),"Creating News Team..."]}):" Create My News Team"}),T.jsx("button",{onClick:H=>{H.stopPropagation(),x("")},style:{width:"100%",padding:"0.5rem",fontSize:"0.8rem",fontWeight:500,color:"#6b7280",background:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s ease"},onMouseEnter:H=>{H.currentTarget.style.color="#374151"},onMouseLeave:H=>{H.currentTarget.style.color="#6b7280"},children:"Choose Different Station"})]})]})},P.id)})}),!v&&T.jsx("div",{style:{textAlign:"center"},children:T.jsx("button",{onClick:$,style:{color:"rgba(255, 255, 255, 0.7)",background:"transparent",border:"none",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",transition:"color 0.2s ease"},onMouseEnter:P=>{P.currentTarget.style.color="white"},onMouseLeave:P=>{P.currentTarget.style.color="rgba(255, 255, 255, 0.7)"},children:"Start Over with Different Options"})})]})]});if(u==="generating-characters"){const P=Y.total>0?Y.current/Y.total*100:0,X=y.find(F=>F.id===v),A=["Warming up the news anchor incubator","Injecting molten plastic into anchor mold-a-rama","Polishing the teleprompter hamster wheel","Counting pixels with extraordinary seriousness","Waiting for user to insert another 35 into the slot","Refilling the coffee IV for the control room","Teaching green screen to love the color green","Convincing microphones to stop being so dramatic","Defragmenting the newsrooms collective attention span","Whispering compliments to the JPEG compressor","Coaxing lower-thirds out of their shells","Hyping the audience we havent invented yet","Assembling pixels with tiny journalism tweezers","Consulting the sacred manual of Broadcast Shenanigans"],[q,H]=Ta.useState(0);return Ta.useEffect(()=>{const F=window.setInterval(()=>{H(Q=>(Q+1)%A.length)},2200);return()=>window.clearInterval(F)},[]),T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-red-700 to-red-800 overflow-y-auto py-8",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h2",{className:"text-4xl font-black text-white mb-6",children:" Meet Your News Team"}),X&&T.jsx("div",{className:"mb-8",children:T.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 max-w-md mx-auto",children:[T.jsx("div",{className:"flex justify-center mb-4",children:T.jsx("div",{className:"w-32 h-20 bg-white rounded-lg flex items-center justify-center shadow-lg",children:me.url?T.jsx("img",{src:me.url,alt:`${X.name} Logo`,className:"max-w-full max-h-full object-contain animate-fade-in"}):me.isGenerating?T.jsxs("div",{className:"text-center",children:[T.jsx(tn,{size:24}),T.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Generating..."})]}):T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-gray-400",children:X.acronym}),T.jsx("p",{className:"text-xs text-gray-500",children:"Logo Coming Soon"})]})})}),T.jsx("h3",{className:"text-2xl font-bold text-white mb-2",style:{color:X.theme.primaryColor},children:X.name}),T.jsxs("p",{className:"text-lg text-red-100 mb-4",children:['"',X.tagline,'"']}),T.jsx("div",{className:"flex items-center justify-center",children:me.isComplete?T.jsx("div",{className:"flex items-center text-green-300",children:T.jsx("span",{className:"text-sm",children:" Logo Ready"})}):me.isGenerating?T.jsxs("div",{className:"flex items-center text-yellow-300",children:[T.jsx(tn,{size:16}),T.jsx("span",{className:"text-sm ml-2",children:"Generating Logo..."})]}):T.jsx("div",{className:"flex items-center text-gray-300",children:T.jsx("span",{className:"text-sm",children:" Logo Pending"})})})]})}),T.jsx("div",{className:"bg-white/20 rounded-full h-3 mb-4 max-w-md mx-auto",children:T.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-3 rounded-full transition-all duration-500",style:{width:`${P}%`}})}),T.jsxs("p",{className:"text-lg font-semibold text-white",children:[Y.current," of ",Y.total," complete"]}),T.jsx("p",{className:"text-sm text-gray-300 mt-2 min-h-[1.5rem]",children:A[q]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:W.map((F,Q)=>T.jsxs("div",{className:`
                  bg-white rounded-2xl p-6 shadow-2xl transform transition-all duration-500
                  ${F.isGenerating?"animate-pulse scale-105 ring-4 ring-yellow-400":""}
                  ${F.isComplete?"animate-fade-in-up":""}
                `,style:{animationDelay:`${Q*.2}s`},children:[T.jsxs("div",{className:"relative mb-4",children:[T.jsx("div",{className:"w-32 h-32 mx-auto rounded-full overflow-hidden bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:F.imageUrl?T.jsx("img",{src:F.imageUrl,alt:F.name,className:"w-full h-full object-cover animate-fade-in"}):F.isGenerating?T.jsxs("div",{className:"text-center",children:[T.jsx(tn,{size:32}),T.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Generating..."})]}):T.jsx("div",{className:"text-gray-400 text-4xl",children:""})}),T.jsx("div",{className:"absolute -top-2 -right-2",children:F.isComplete?T.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm animate-bounce",children:""}):F.isGenerating?T.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center animate-spin",children:T.jsx(tn,{size:16})}):T.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-sm",children:""})})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:F.name}),T.jsx("p",{className:"text-sm font-semibold text-blue-600 mb-3",children:F.role}),F.personality&&T.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-3 text-left",children:[T.jsx("h4",{className:"text-xs font-semibold text-blue-800 mb-1",children:"PERSONALITY"}),T.jsx("p",{className:"text-xs text-blue-700 leading-relaxed",children:F.personality})]}),F.backstory&&T.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-left",children:[T.jsx("h4",{className:"text-xs font-semibold text-purple-800 mb-1",children:"BACKSTORY"}),T.jsx("p",{className:"text-xs text-purple-700 leading-relaxed",children:F.backstory})]})]})]},F.tag))}),T.jsxs("div",{className:"text-center mb-8",children:[se&&T.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 max-w-md mx-auto",children:T.jsxs("p",{className:"text-white font-semibold",children:[" Currently generating: ",T.jsx("span",{className:"text-yellow-300",children:se})]})}),Y.current>=W.length&&T.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 max-w-md mx-auto",children:T.jsx("p",{className:"text-white font-semibold",children:Y.current===W.length+1?" Generating team publicity photo...":" Generating station logo and processing assets..."})})]}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:()=>{console.log(" User manually skipped character generation"),d("complete"),setTimeout(()=>{n()},1e3)},className:"px-6 py-3 text-sm bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors backdrop-blur-sm",children:"Skip & Continue to Main App"})})]})})}if(u==="complete"){const P=y.find(X=>X.id===v);return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-600 via-green-700 to-green-800 flex items-center justify-center p-8",children:T.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:"Welcome to Your News Empire!"}),P&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:P.theme.primaryColor},children:P.name}),T.jsxs("p",{className:"text-lg text-gray-600",style:{color:P.theme.secondaryColor},children:['"',P.tagline,'"']})]})]}),T.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6",children:[T.jsx("h4",{className:"text-lg font-semibold text-green-800 mb-3",children:"Setup Complete!"}),T.jsxs("div",{className:"text-sm text-green-700 space-y-2",children:[T.jsx("p",{children:" TV Station Created"}),T.jsx("p",{children:" News Team Generated"}),T.jsx("p",{children:" Character Images Ready"}),T.jsx("p",{children:" Publicity Photos Complete"})]})]}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Your personalized news station is ready to start generating absurd stories!"}),T.jsx("button",{onClick:n,className:"px-8 py-4 rounded-xl font-bold text-white text-xl shadow-lg transform transition-all duration-200 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 hover:scale-105 hover:shadow-xl mb-4",children:" Launch News Empire"}),T.jsx("div",{className:"text-sm text-gray-500",children:T.jsx("p",{children:"Click above to continue, or wait for automatic redirect..."})})]})})}return null};class Tv extends Ta.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("React Error Boundary caught an error:",e,i)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:T.jsx("div",{className:"min-h-screen bg-red-600 flex items-center justify-center p-8",children:T.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[T.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"The application encountered an error. Please check the browser console for details."}),T.jsx("div",{className:"bg-gray-100 p-4 rounded mb-4",children:T.jsx("code",{className:"text-sm text-gray-800",children:((e=this.state.error)==null?void 0:e.message)||"Unknown error"})}),T.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mr-2",children:"Reload Page"}),T.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Clear Data & Reload"})]})}):this.props.children}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Sv,xv;function Cv(){return{geminiUrl:Sv,vertexUrl:xv}}function Ev(n,e,i,l){var u,d;if(!(n!=null&&n.baseUrl)){const m=Cv();return e?(u=m.vertexUrl)!==null&&u!==void 0?u:i:(d=m.geminiUrl)!==null&&d!==void 0?d:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qn{}function j(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(l,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const d=e[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function r(n,e,i){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(i))n[g]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(i))for(let h=0;h<y.length;h++){const v=y[h];r(v,e.slice(d+1),i[h])}else for(const h of y)r(h,e.slice(d+1),i)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(d+1),i);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],u=n[l];if(u!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===u)return;if(typeof u=="object"&&typeof i=="object"&&u!==null&&i!==null)Object.assign(u,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=i}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return;const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(m=>s(m,e.slice(i+1))):void 0}else return}else n=n[l]}return n}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zr(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vm||(vm={}));var Tm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Tm||(Tm={}));var Rn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Rn||(Rn={}));var Sm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Sm||(Sm={}));var xm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(xm||(xm={}));var Cm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Cm||(Cm={}));var Em;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Em||(Em={}));var Am;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Am||(Am={}));var _m;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_m||(_m={}));var wm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wm||(wm={}));var Mm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Mm||(Mm={}));var Nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Nm||(Nm={}));var Rm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Rm||(Rm={}));var bm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(bm||(bm={}));var Dm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Dm||(Dm={}));var Sa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Sa||(Sa={}));var Um;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Um||(Um={}));var Wr;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wr||(Wr={}));var Im;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Im||(Im={}));var km;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(km||(km={}));var Vm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Vm||(Vm={}));var Lm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Lm||(Lm={}));var Pm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Pm||(Pm={}));var Gm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Gm||(Gm={}));var qm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(qm||(qm={}));var Bm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Bm||(Bm={}));var Hm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Hm||(Hm={}));var zm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(zm||(zm={}));var Fm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fm||(Fm={}));var Om;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Om||(Om={}));var Ym;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ym||(Ym={}));var Jm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jm||(Jm={}));var $m;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})($m||($m={}));var Km;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Km||(Km={}));var Xm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Xm||(Xm={}));var Qm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Qm||(Qm={}));var Zm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Zm||(Zm={}));var Wm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wm||(Wm={}));var jm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jm||(jm={}));var ep;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ep||(ep={}));var tp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tp||(tp={}));var np;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(np||(np={}));var op;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(op||(op={}));var ip;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ip||(ip={}));var Go;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Go||(Go={}));class jr{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xi{get text(){var e,i,l,u,d,m,g,y;if(((u=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const x=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,k]of Object.entries(E))M!=="text"&&M!=="thought"&&(k!==null||k!==void 0)&&x.push(M);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,i,l,u,d,m,g,y;if(((u=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const x of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,M]of Object.entries(x))E!=="inlineData"&&(M!==null||M!==void 0)&&v.push(E);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,l,u,d,m,g,y;if(((u=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,l,u,d,m,g,y,h;if(((u=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,l,u,d,m,g,y,h;if(((u=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class lp{}class ap{}class Av{}class _v{}class wv{}class Mv{}class sp{}class rp{}class up{}class Nv{}class cp{}class fp{}class dp{}class mp{}class Rv{}class bv{}class Dv{}class pp{}class Uv{get text(){var e,i,l;let u="",d=!1;const m=[];for(const g of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,i,l;let u="";const d=[];for(const m of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class xa{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const l=new xa;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,i){const u=e.response;if(u){const d=new cp,m=u.videos;d.generatedVideos=m==null?void 0:m.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?Zr(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),d.raiMediaFilteredCount=u.raiMediaFilteredCount,d.raiMediaFilteredReasons=u.raiMediaFilteredReasons,l.response=d}}else{const u=e.response;if(u){const d=new cp,m=u.generateVideoResponse,g=m==null?void 0:m.generatedSamples;d.generatedVideos=g==null?void 0:g.map(y=>{const h=y.video;return{video:{uri:h==null?void 0:h.uri,videoBytes:h!=null&&h.encodedVideo?Zr(h==null?void 0:h.encodedVideo):void 0,mimeType:y.encoding}}}),d.raiMediaFilteredCount=m==null?void 0:m.raiMediaFilteredCount,d.raiMediaFilteredReasons=m==null?void 0:m.raiMediaFilteredReasons,l.response=d}}return l}}class Iv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fp(n,e){const i=Ae(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Op(n){return Array.isArray(n)?n.map(e=>Ca(e)):[Ca(n)]}function Ca(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Yp(n){const e=Ca(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jp(n){const e=Ca(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function $p(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>hp(e)):[hp(n)]}function eu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function gp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function yp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function nt(n){if(n==null)throw new Error("ContentUnion is required");return eu(n)?n:{role:"user",parts:$p(n)}}function Kp(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=nt(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const i=nt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>nt(i)):[nt(e)]}function Nt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(gp(n)||yp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nt(n)]}const e=[],i=[],l=eu(n[0]);for(const u of n){const d=eu(u);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(u);else{if(gp(u)||yp(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(u)}}return l||e.push({role:"user",parts:$p(i)}),e}function kv(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(Rn).includes(i[0].toUpperCase())?i[0].toUpperCase():Rn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(Rn).includes(l.toUpperCase())?l.toUpperCase():Rn.TYPE_UNSPECIFIED})}}function qo(n){const e={},i=["items"],l=["anyOf"],u=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&kv(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Rn).includes(g.toUpperCase())?g.toUpperCase():Rn.TYPE_UNSPECIFIED}else if(i.includes(m))e[m]=qo(g);else if(l.includes(m)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(qo(h))}e[m]=y}else if(u.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=qo(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function cu(n){return qo(n)}function fu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function du(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Yo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qo(e.response));return n}function Jo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function Vv(n,e,i,l=1){const u=!e.startsWith(`${i}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:u?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:u?`${i}/${e}`:e}function nn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Vv(n,e,"cachedContents")}function Xp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Zn(n){return Zr(n)}function Lv(n){return n!=null&&typeof n=="object"&&"name"in n}function Pv(n){return n!=null&&typeof n=="object"&&"video"in n}function Gv(n){return n!=null&&typeof n=="object"&&"uri"in n}function Qp(n){var e;let i;if(Lv(n)&&(i=n.name),!(Gv(n)&&(i=n.uri,i===void 0))&&!(Pv(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const u=i.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${i}`);i=u[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Zp(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Wp(n){for(const e of["models","tunedModels","publisherModels"])if(qv(n,e))return n[e];return[]}function qv(n,e){return n!==null&&typeof n=="object"&&e in n}function Bv(n,e={}){const i=n,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function Hv(n,e={}){const i=[],l=new Set;for(const u of n){const d=u.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const m=Bv(u,e);m.functionDeclarations&&i.push(...m.functionDeclarations)}return{functionDeclarations:i}}function jp(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function zv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $o(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function eh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fv(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Ov(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Yv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Jv(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],Fv(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],Ov(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Yv(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function th(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Jv(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function $v(n){const e={},i=s(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const x=s(n,["maxProperties"]);x!=null&&r(e,["maxProperties"],x);const E=s(n,["maximum"]);E!=null&&r(e,["maximum"],E);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const k=s(n,["minLength"]);k!=null&&r(e,["minLength"],k);const G=s(n,["minProperties"]);G!=null&&r(e,["minProperties"],G);const Y=s(n,["minimum"]);Y!=null&&r(e,["minimum"],Y);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const O=s(n,["pattern"]);O!=null&&r(e,["pattern"],O);const K=s(n,["properties"]);K!=null&&r(e,["properties"],K);const W=s(n,["propertyOrdering"]);W!=null&&r(e,["propertyOrdering"],W);const J=s(n,["required"]);J!=null&&r(e,["required"],J);const se=s(n,["title"]);se!=null&&r(e,["title"],se);const ie=s(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function Kv(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(n,["category"]);i!=null&&r(e,["category"],i);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function Xv(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Qv(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function Zv(n){const e={},i=s(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],Qv(i)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Wv(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function jv(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],Wv(i)),e}function e0(){return{}}function t0(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function n0(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>Xv(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],Zv(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],jv(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],e0());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],t0(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function o0(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function i0(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function l0(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],i0(i));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function a0(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],o0(i));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],l0(l)),e}function s0(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function nh(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],s0(i)),e}function r0(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],nh(l)),e}function u0(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>r0(u))),r(e,["speakerVoiceConfigs"],l)}return e}function c0(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],nh(i));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],u0(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function f0(n){const e={},i=s(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function d0(n,e,i){const l={},u=s(e,["systemInstruction"]);i!==void 0&&u!=null&&r(i,["systemInstruction"],th(nt(u)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const x=s(e,["responseLogprobs"]);x!=null&&r(l,["responseLogprobs"],x);const E=s(e,["logprobs"]);E!=null&&r(l,["logprobs"],E);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const k=s(e,["frequencyPenalty"]);k!=null&&r(l,["frequencyPenalty"],k);const G=s(e,["seed"]);G!=null&&r(l,["seed"],G);const Y=s(e,["responseMimeType"]);Y!=null&&r(l,["responseMimeType"],Y);const V=s(e,["responseSchema"]);V!=null&&r(l,["responseSchema"],$v(cu(V)));const O=s(e,["responseJsonSchema"]);if(O!=null&&r(l,["responseJsonSchema"],O),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=s(e,["safetySettings"]);if(i!==void 0&&K!=null){let re=K;Array.isArray(re)&&(re=re.map(Te=>Kv(Te))),r(i,["safetySettings"],re)}const W=s(e,["tools"]);if(i!==void 0&&W!=null){let re=Jo(W);Array.isArray(re)&&(re=re.map(Te=>n0(Yo(Te)))),r(i,["tools"],re)}const J=s(e,["toolConfig"]);if(i!==void 0&&J!=null&&r(i,["toolConfig"],a0(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=s(e,["cachedContent"]);i!==void 0&&se!=null&&r(i,["cachedContent"],nn(n,se));const ie=s(e,["responseModalities"]);ie!=null&&r(l,["responseModalities"],ie);const me=s(e,["mediaResolution"]);me!=null&&r(l,["mediaResolution"],me);const ee=s(e,["speechConfig"]);if(ee!=null&&r(l,["speechConfig"],c0(fu(ee))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=s(e,["thinkingConfig"]);return de!=null&&r(l,["thinkingConfig"],f0(de)),l}function m0(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["request","model"],Ae(n,l));const u=s(e,["contents"]);if(u!=null){let m=Nt(u);Array.isArray(m)&&(m=m.map(g=>th(g))),r(i,["request","contents"],m)}const d=s(e,["config"]);return d!=null&&r(i,["request","generationConfig"],d0(n,d,i)),i}function p0(n,e){const i={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=s(e,["fileName"]);l!=null&&r(i,["fileName"],l);const u=s(e,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m0(n,m))),r(i,["requests","requests"],d)}return i}function h0(n,e){const i={},l=s(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function vp(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["src"]);u!=null&&r(i,["batch","inputConfig"],p0(n,jp(n,u)));const d=s(e,["config"]);return d!=null&&r(i,["config"],h0(d,i)),i}function g0(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],$o(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function y0(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],$o(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function v0(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);if(e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function T0(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],v0(i,e)),e}function S0(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],$o(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function x0(n){const e={},i=s(n,["format"]);i!=null&&r(e,["instancesFormat"],i);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const u=s(n,["bigqueryUri"]);if(u!=null&&r(e,["bigquerySource","inputUri"],u),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function C0(n){const e={},i=s(n,["format"]);i!=null&&r(e,["predictionsFormat"],i);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const u=s(n,["bigqueryUri"]);if(u!=null&&r(e,["bigqueryDestination","outputUri"],u),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function E0(n,e){const i={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const u=s(n,["dest"]);return e!==void 0&&u!=null&&r(e,["outputConfig"],C0(zv(u))),i}function A0(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["model"],Ae(n,l));const u=s(e,["src"]);u!=null&&r(i,["inputConfig"],x0(jp(n,u)));const d=s(e,["config"]);return d!=null&&r(i,["config"],E0(d,i)),i}function _0(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],$o(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function w0(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],$o(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function M0(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function N0(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],M0(i,e)),e}function R0(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],$o(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function b0(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function D0(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function U0(n){const e={},i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function I0(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],b0(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],D0(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],U0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function k0(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>I0(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function V0(n){const e={},i=s(n,["citationSources"]);return i!=null&&r(e,["citations"],i),e}function L0(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function P0(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>L0(u))),r(e,["urlMetadata"],l)}return e}function G0(n){const e={},i=s(n,["content"]);i!=null&&r(e,["content"],k0(i));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],V0(l));const u=s(n,["tokenCount"]);u!=null&&r(e,["tokenCount"],u);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],P0(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const x=s(n,["safetyRatings"]);return x!=null&&r(e,["safetyRatings"],x),e}function q0(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>G0(h))),r(e,["candidates"],y)}const u=s(n,["modelVersion"]);u!=null&&r(e,["modelVersion"],u);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function oh(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const u=s(n,["message"]);return u!=null&&r(e,["message"],u),e}function B0(n){const e={},i=s(n,["response"]);i!=null&&r(e,["response"],q0(i));const l=s(n,["error"]);return l!=null&&r(e,["error"],oh(l)),e}function H0(n){const e={},i=s(n,["responsesFile"]);i!=null&&r(e,["fileName"],i);const l=s(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>B0(d))),r(e,["inlinedResponses"],u)}return e}function ga(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["metadata","state"]);u!=null&&r(e,["state"],eh(u));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const h=s(n,["metadata","output"]);return h!=null&&r(e,["dest"],H0(h)),e}function z0(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>ga(m))),r(e,["batchJobs"],d)}return e}function F0(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);return d!=null&&r(e,["error"],oh(d)),e}function ih(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const u=s(n,["message"]);return u!=null&&r(e,["message"],u),e}function O0(n){const e={},i=s(n,["instancesFormat"]);i!=null&&r(e,["format"],i);const l=s(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const u=s(n,["bigquerySource","inputUri"]);return u!=null&&r(e,["bigqueryUri"],u),e}function Y0(n){const e={},i=s(n,["predictionsFormat"]);i!=null&&r(e,["format"],i);const l=s(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const u=s(n,["bigqueryDestination","outputUri"]);return u!=null&&r(e,["bigqueryUri"],u),e}function tu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["state"]);u!=null&&r(e,["state"],eh(u));const d=s(n,["error"]);d!=null&&r(e,["error"],ih(d));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const x=s(n,["inputConfig"]);x!=null&&r(e,["src"],O0(x));const E=s(n,["outputConfig"]);return E!=null&&r(e,["dest"],Y0(E)),e}function J0(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>tu(m))),r(e,["batchJobs"],d)}return e}function $0(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);return d!=null&&r(e,["error"],ih(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Xn||(Xn={}));class ji{constructor(e,i,l,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,u)}init(e,i,l){var u,d;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=i.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K0 extends Qn{constructor(e){super(),this.apiClient=e,this.create=async i=>{var l,u;if(this.apiClient.isVertexAI()){const m=Date.now().toString();if(Array.isArray(i.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${m}`;else throw new Error("Unsupported source:"+i.src)}else if(Array.isArray(i.src)||typeof i.src!="string"&&i.src.inlinedRequests){let d="",m={};const g=vp(this.apiClient,i);d=j("{model}:batchGenerateContent",g._url),m=g._query;const v=g.batch.inputConfig.requests,x=v.requests,E=[];for(const k of x){const G=k;if(G.systemInstruction){const Y=G.systemInstruction;delete G.systemInstruction;const V=G.request;V.systemInstruction=Y,G.request=V}E.push(G)}return v.requests=E,delete g.config,delete g._url,delete g._query,this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(k=>k.json()).then(k=>ga(k))}return await this.createInternal(i)},this.list=async(i={})=>new ji(Xn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i)}async createInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=A0(this.apiClient,e);return g=j("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>tu(v))}else{const h=vp(this.apiClient,e);return g=j("{model}:batchGenerateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ga(v))}}async get(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_0(this.apiClient,e);return g=j("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>tu(v))}else{const h=g0(this.apiClient,e);return g=j("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ga(v))}}async cancel(e){var i,l,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=w0(this.apiClient,e);m=j("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=y0(this.apiClient,e);m=j("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=N0(e);return g=j("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=J0(v),E=new pp;return Object.assign(E,x),E})}else{const h=T0(e);return g=j("batches",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=z0(v),E=new pp;return Object.assign(E,x),E})}}async delete(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=R0(this.apiClient,e);return g=j("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>$0(v))}else{const h=S0(this.apiClient,e);return g=j("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>F0(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Q0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Z0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function W0(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],X0(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],Q0(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Z0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function Tp(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>W0(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function j0(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function eT(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function tT(n){const e={},i=s(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],eT(i)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function nT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function oT(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],nT(i)),e}function iT(){return{}}function lT(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function aT(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>j0(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],tT(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],oT(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],iT());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],lT(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function sT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function rT(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function uT(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],rT(i));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function cT(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],sT(i));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],uT(l)),e}function fT(n,e){const i={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);e!==void 0&&u!=null&&r(e,["expireTime"],u);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=Nt(m);Array.isArray(v)&&(v=v.map(x=>Tp(x))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Tp(nt(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(x=>aT(x))),r(e,["tools"],v)}const h=s(n,["toolConfig"]);if(e!==void 0&&h!=null&&r(e,["toolConfig"],cT(h)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function dT(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["model"],Fp(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],fT(u,i)),i}function mT(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],nn(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function pT(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],nn(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function hT(n,e){const i={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);return e!==void 0&&u!=null&&r(e,["expireTime"],u),i}function gT(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],nn(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],hT(u,i)),i}function yT(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),i}function vT(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],yT(i,e)),e}function TT(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function ST(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function xT(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function CT(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],TT(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],ST(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],xT(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function Sp(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>CT(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function ET(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(n,["description"]);i!=null&&r(e,["description"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["parameters"]);u!=null&&r(e,["parameters"],u);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function AT(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function _T(n){const e={},i=s(n,["timeRangeFilter"]);i!=null&&r(e,["timeRangeFilter"],AT(i));const l=s(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function wT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function MT(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],wT(i)),e}function NT(n){const e={},i=s(n,["excludeDomains"]);return i!=null&&r(e,["excludeDomains"],i),e}function RT(n){const e={},i=s(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function bT(n){const e={},i=s(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],RT(i));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const u=s(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function DT(n){const e={},i=s(n,["authConfig"]);return i!=null&&r(e,["authConfig"],bT(i)),e}function UT(){return{}}function IT(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function kT(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(E=>ET(E))),r(e,["functionDeclarations"],x)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const u=s(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],_T(u));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],MT(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],NT(m));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],DT(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],UT());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],IT(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function VT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function LT(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function PT(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],LT(i));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function GT(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],VT(i));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],PT(l)),e}function qT(n,e){const i={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);e!==void 0&&u!=null&&r(e,["expireTime"],u);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let x=Nt(m);Array.isArray(x)&&(x=x.map(E=>Sp(E))),r(e,["contents"],x)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Sp(nt(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(E=>kT(E))),r(e,["tools"],x)}const h=s(n,["toolConfig"]);e!==void 0&&h!=null&&r(e,["toolConfig"],GT(h));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),i}function BT(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["model"],Fp(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],qT(u,i)),i}function HT(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],nn(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function zT(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],nn(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function FT(n,e){const i={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);return e!==void 0&&u!=null&&r(e,["expireTime"],u),i}function OT(n,e){const i={},l=s(e,["name"]);l!=null&&r(i,["_url","name"],nn(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],FT(u,i)),i}function YT(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),i}function JT(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],YT(i,e)),e}function ya(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["model"]);u!=null&&r(e,["model"],u);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function $T(){return{}}function KT(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>ya(m))),r(e,["cachedContents"],d)}return e}function va(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["model"]);u!=null&&r(e,["model"],u);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function XT(){return{}}function QT(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>va(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZT extends Qn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new ji(Xn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BT(this.apiClient,e);return g=j("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>va(v))}else{const h=dT(this.apiClient,e);return g=j("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ya(v))}}async get(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=HT(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>va(v))}else{const h=mT(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ya(v))}}async delete(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zT(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=XT(),x=new dp;return Object.assign(x,v),x})}else{const h=pT(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(()=>{const v=$T(),x=new dp;return Object.assign(x,v),x})}}async update(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>va(v))}else{const h=gT(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ya(v))}}async listInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JT(e);return g=j("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=QT(v),E=new mp;return Object.assign(E,x),E})}else{const h=vT(e);return g=j("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=KT(v),E=new mp;return Object.assign(E,x),E})}}}function xp(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],l=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(n){return this instanceof Ue?(this.v=n,this):new Ue(n)}function Bo(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(n,e||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(M){return function(k){return Promise.resolve(k).then(M,x)}}function g(M,k){l[M]&&(u[M]=function(G){return new Promise(function(Y,V){d.push([M,G,Y,V])>1||y(M,G)})},k&&(u[M]=k(u[M])))}function y(M,k){try{h(l[M](k))}catch(G){E(d[0][3],G)}}function h(M){M.value instanceof Ue?Promise.resolve(M.value.v).then(v,x):E(d[0][2],M)}function v(M){y("next",M)}function x(M){y("throw",M)}function E(M,k){M(k),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Qi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof xp=="function"?xp(n):n[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(d){i[d]=n[d]&&function(m){return new Promise(function(g,y){m=n[d](m),u(g,y,m.done,m.value)})}}function u(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:lh(i)}function lh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function jT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Cp(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let l=0;for(;l<i;)if(n[l].role==="user")e.push(n[l]),l++;else{const u=[];let d=!0;for(;l<i&&n[l].role==="model";)u.push(n[l]),d&&!lh(n[l])&&(d=!1),l++;d?e.push(...u):e.pop()}return e}class eS{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new tS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class tS{constructor(e,i,l,u={},d=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),jT(d)}async sendMessage(e){var i;await this.sendPromise;const l=nt(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await u,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(x))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(l,M,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var i;await this.sendPromise;const l=nt(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,l)}getHistory(e=!1){const i=e?Cp(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var l,u;return Bo(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var x=!0,E=Qi(e),M;M=yield Ue(E.next()),m=M.done,!m;x=!0){h=M.value,x=!1;const k=h;if(WT(k)){const G=(u=(l=k.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;G!==void 0&&v.push(G)}yield yield Ue(k)}}catch(k){g={error:k}}finally{try{!x&&!m&&(y=E.return)&&(yield Ue(y.call(E)))}finally{if(g)throw g.error}}this.recordHistory(i,v)})}recordHistory(e,i,l){let u=[];i.length>0&&i.every(d=>d.role!==void 0)?u=i:u.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Cp(l)):this.history.push(e),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _a extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_a.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nS(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),i}function oS(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],nS(i,e)),e}function iS(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const u=s(n,["code"]);return u!=null&&r(e,["code"],u),e}function lS(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["mimeType"]);u!=null&&r(e,["mimeType"],u);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const x=s(n,["downloadUri"]);x!=null&&r(e,["downloadUri"],x);const E=s(n,["state"]);E!=null&&r(e,["state"],E);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const k=s(n,["videoMetadata"]);k!=null&&r(e,["videoMetadata"],k);const G=s(n,["error"]);return G!=null&&r(e,["error"],iS(G)),e}function aS(n){const e={},i=s(n,["file"]);i!=null&&r(e,["file"],lS(i));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function sS(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","file"],Qp(i));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function rS(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","file"],Qp(i));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function uS(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const u=s(n,["code"]);return u!=null&&r(e,["code"],u),e}function nu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["mimeType"]);u!=null&&r(e,["mimeType"],u);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const x=s(n,["downloadUri"]);x!=null&&r(e,["downloadUri"],x);const E=s(n,["state"]);E!=null&&r(e,["state"],E);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const k=s(n,["videoMetadata"]);k!=null&&r(e,["videoMetadata"],k);const G=s(n,["error"]);return G!=null&&r(e,["error"],uS(G)),e}function cS(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>nu(m))),r(e,["files"],d)}return e}function fS(n){const e={},i=s(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function dS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mS extends Qn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new ji(Xn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>nu(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oS(e);return d=j("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=cS(y),v=new Rv;return Object.assign(v,h),v})}}async createInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aS(e);return d=j("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const h=fS(y),v=new bv;return Object.assign(v,h),v})}}async get(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sS(e);return d=j("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>nu(y))}}async delete(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rS(e);return d=j("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(()=>{const y=dS(),h=new Dv;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function ah(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],pS(i)),e}function hS(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],ah(l)),e}function gS(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>hS(u))),r(e,["speakerVoiceConfigs"],l)}return e}function yS(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],ah(i));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],gS(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function vS(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function TS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function SS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function xS(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],vS(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],TS(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],SS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function CS(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>xS(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function ES(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function AS(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function _S(n){const e={},i=s(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],AS(i)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function wS(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function MS(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],wS(i)),e}function NS(){return{}}function RS(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function bS(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>ES(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],_S(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],MS(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],NS());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],RS(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function DS(n){const e={},i=s(n,["handle"]);if(i!=null&&r(e,["handle"],i),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ep(){return{}}function US(n){const e={},i=s(n,["disabled"]);i!=null&&r(e,["disabled"],i);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const u=s(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function IS(n){const e={},i=s(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],US(i));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const u=s(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function kS(n){const e={},i=s(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function VS(n){const e={},i=s(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],kS(l)),e}function LS(n){const e={},i=s(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function PS(n,e){const i={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const u=s(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const x=s(n,["speechConfig"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","speechConfig"],yS(du(x)));const E=s(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],CS(nt(M)));const k=s(n,["tools"]);if(e!==void 0&&k!=null){let J=Jo(k);Array.isArray(J)&&(J=J.map(se=>bS(Yo(se)))),r(e,["setup","tools"],J)}const G=s(n,["sessionResumption"]);e!==void 0&&G!=null&&r(e,["setup","sessionResumption"],DS(G));const Y=s(n,["inputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","inputAudioTranscription"],Ep());const V=s(n,["outputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","outputAudioTranscription"],Ep());const O=s(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&r(e,["setup","realtimeInputConfig"],IS(O));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],VS(K));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],LS(W)),i}function GS(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["setup","model"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],PS(u,i)),i}function qS(){return{}}function BS(){return{}}function HS(n){const e={},i=s(n,["media"]);i!=null&&r(e,["mediaChunks"],Op(i));const l=s(n,["audio"]);l!=null&&r(e,["audio"],Jp(l));const u=s(n,["audioStreamEnd"]);u!=null&&r(e,["audioStreamEnd"],u);const d=s(n,["video"]);d!=null&&r(e,["video"],Yp(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],qS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],BS()),e}function sh(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function zS(n){const e={},i=s(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>sh(u))),r(e,["weightedPrompts"],l)}return e}function rh(n){const e={},i=s(n,["temperature"]);i!=null&&r(e,["temperature"],i);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const u=s(n,["seed"]);u!=null&&r(e,["seed"],u);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&r(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const x=s(n,["muteDrums"]);x!=null&&r(e,["muteDrums"],x);const E=s(n,["onlyBassAndDrums"]);E!=null&&r(e,["onlyBassAndDrums"],E);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function FS(n){const e={},i=s(n,["musicGenerationConfig"]);return i!=null&&r(e,["musicGenerationConfig"],rh(i)),e}function uh(n){const e={},i=s(n,["model"]);return i!=null&&r(e,["model"],i),e}function ch(n){const e={},i=s(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>sh(u))),r(e,["weightedPrompts"],l)}return e}function ou(n){const e={},i=s(n,["setup"]);i!=null&&r(e,["setup"],uh(i));const l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],ch(l));const u=s(n,["musicGenerationConfig"]);u!=null&&r(e,["musicGenerationConfig"],rh(u));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function OS(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function YS(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],OS(i)),e}function JS(n){const e={},i=s(n,["voiceConfig"]);if(i!=null&&r(e,["voiceConfig"],YS(i)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function $S(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function KS(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function XS(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function QS(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],$S(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],KS(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],XS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function ZS(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>QS(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function WS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(n,["description"]);i!=null&&r(e,["description"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["parameters"]);u!=null&&r(e,["parameters"],u);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function jS(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function ex(n){const e={},i=s(n,["timeRangeFilter"]);i!=null&&r(e,["timeRangeFilter"],jS(i));const l=s(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function tx(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function nx(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],tx(i)),e}function ox(n){const e={},i=s(n,["excludeDomains"]);return i!=null&&r(e,["excludeDomains"],i),e}function ix(n){const e={},i=s(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function lx(n){const e={},i=s(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],ix(i));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const u=s(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function ax(n){const e={},i=s(n,["authConfig"]);return i!=null&&r(e,["authConfig"],lx(i)),e}function sx(){return{}}function rx(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function ux(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(E=>WS(E))),r(e,["functionDeclarations"],x)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const u=s(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],ex(u));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],nx(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],ox(m));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],ax(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],sx());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],rx(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function cx(n){const e={},i=s(n,["handle"]);i!=null&&r(e,["handle"],i);const l=s(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function Ap(){return{}}function fx(n){const e={},i=s(n,["disabled"]);i!=null&&r(e,["disabled"],i);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const u=s(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function dx(n){const e={},i=s(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],fx(i));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const u=s(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function mx(n){const e={},i=s(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function px(n){const e={},i=s(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],mx(l)),e}function hx(n){const e={},i=s(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function gx(n,e){const i={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const u=s(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const x=s(n,["speechConfig"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","speechConfig"],JS(du(x)));const E=s(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],ZS(nt(M)));const k=s(n,["tools"]);if(e!==void 0&&k!=null){let J=Jo(k);Array.isArray(J)&&(J=J.map(se=>ux(Yo(se)))),r(e,["setup","tools"],J)}const G=s(n,["sessionResumption"]);e!==void 0&&G!=null&&r(e,["setup","sessionResumption"],cx(G));const Y=s(n,["inputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","inputAudioTranscription"],Ap());const V=s(n,["outputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","outputAudioTranscription"],Ap());const O=s(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&r(e,["setup","realtimeInputConfig"],dx(O));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],px(K));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],hx(W)),i}function yx(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["setup","model"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],gx(u,i)),i}function vx(){return{}}function Tx(){return{}}function Sx(n){const e={},i=s(n,["media"]);i!=null&&r(e,["mediaChunks"],Op(i));const l=s(n,["audio"]);l!=null&&r(e,["audio"],Jp(l));const u=s(n,["audioStreamEnd"]);u!=null&&r(e,["audioStreamEnd"],u);const d=s(n,["video"]);d!=null&&r(e,["video"],Yp(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],vx()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],Tx()),e}function xx(){return{}}function Cx(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Ex(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Ax(n){const e={},i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _x(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],Cx(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],Ex(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Ax(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function wx(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>_x(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function _p(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function Mx(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function Nx(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Mx(u))),r(e,["urlMetadata"],l)}return e}function Rx(n){const e={},i=s(n,["modelTurn"]);i!=null&&r(e,["modelTurn"],wx(i));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const u=s(n,["interrupted"]);u!=null&&r(e,["interrupted"],u);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],_p(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],_p(y));const h=s(n,["urlContextMetadata"]);return h!=null&&r(e,["urlContextMetadata"],Nx(h)),e}function bx(n){const e={},i=s(n,["id"]);i!=null&&r(e,["id"],i);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function Dx(n){const e={},i=s(n,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>bx(u))),r(e,["functionCalls"],l)}return e}function Ux(n){const e={},i=s(n,["ids"]);return i!=null&&r(e,["ids"],i),e}function pa(n){const e={},i=s(n,["modality"]);i!=null&&r(e,["modality"],i);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function Ix(n){const e={},i=s(n,["promptTokenCount"]);i!=null&&r(e,["promptTokenCount"],i);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const u=s(n,["responseTokenCount"]);u!=null&&r(e,["responseTokenCount"],u);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(M=>pa(M))),r(e,["promptTokensDetails"],E)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(M=>pa(M))),r(e,["cacheTokensDetails"],E)}const v=s(n,["responseTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(M=>pa(M))),r(e,["responseTokensDetails"],E)}const x=s(n,["toolUsePromptTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(M=>pa(M))),r(e,["toolUsePromptTokensDetails"],E)}return e}function kx(n){const e={},i=s(n,["timeLeft"]);return i!=null&&r(e,["timeLeft"],i),e}function Vx(n){const e={},i=s(n,["newHandle"]);i!=null&&r(e,["newHandle"],i);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const u=s(n,["lastConsumedClientMessageIndex"]);return u!=null&&r(e,["lastConsumedClientMessageIndex"],u),e}function Lx(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],xx());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],Rx(l));const u=s(n,["toolCall"]);u!=null&&r(e,["toolCall"],Dx(u));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],Ux(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],Ix(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],kx(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],Vx(y)),e}function Px(){return{}}function Gx(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function qx(n){const e={},i=s(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Gx(u))),r(e,["weightedPrompts"],l)}return e}function Bx(n){const e={},i=s(n,["temperature"]);i!=null&&r(e,["temperature"],i);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const u=s(n,["seed"]);u!=null&&r(e,["seed"],u);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&r(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const x=s(n,["muteDrums"]);x!=null&&r(e,["muteDrums"],x);const E=s(n,["onlyBassAndDrums"]);E!=null&&r(e,["onlyBassAndDrums"],E);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function Hx(n){const e={},i=s(n,["clientContent"]);i!=null&&r(e,["clientContent"],qx(i));const l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],Bx(l)),e}function zx(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const u=s(n,["sourceMetadata"]);return u!=null&&r(e,["sourceMetadata"],Hx(u)),e}function Fx(n){const e={},i=s(n,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>zx(u))),r(e,["audioChunks"],l)}return e}function Ox(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const l=s(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function Yx(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],Px());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],Fx(l));const u=s(n,["filteredPrompt"]);return u!=null&&r(e,["filteredPrompt"],Ox(u)),e}function Jx(n){const e={},i=s(n,["sessionId"]);return i!=null&&r(e,["sessionId"],i),e}function $x(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Kx(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function Xx(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function Qx(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],$x(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],Kx(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Xx(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function Zx(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Qx(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function wp(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function Wx(n){const e={},i=s(n,["modelTurn"]);i!=null&&r(e,["modelTurn"],Zx(i));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const u=s(n,["interrupted"]);u!=null&&r(e,["interrupted"],u);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],wp(g));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],wp(y)),e}function jx(n){const e={},i=s(n,["args"]);i!=null&&r(e,["args"],i);const l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}function eC(n){const e={},i=s(n,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>jx(u))),r(e,["functionCalls"],l)}return e}function tC(n){const e={},i=s(n,["ids"]);return i!=null&&r(e,["ids"],i),e}function ha(n){const e={},i=s(n,["modality"]);i!=null&&r(e,["modality"],i);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function nC(n){const e={},i=s(n,["promptTokenCount"]);i!=null&&r(e,["promptTokenCount"],i);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const u=s(n,["candidatesTokenCount"]);u!=null&&r(e,["responseTokenCount"],u);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(k=>ha(k))),r(e,["promptTokensDetails"],M)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(k=>ha(k))),r(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(k=>ha(k))),r(e,["responseTokensDetails"],M)}const x=s(n,["toolUsePromptTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(k=>ha(k))),r(e,["toolUsePromptTokensDetails"],M)}const E=s(n,["trafficType"]);return E!=null&&r(e,["trafficType"],E),e}function oC(n){const e={},i=s(n,["timeLeft"]);return i!=null&&r(e,["timeLeft"],i),e}function iC(n){const e={},i=s(n,["newHandle"]);i!=null&&r(e,["newHandle"],i);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const u=s(n,["lastConsumedClientMessageIndex"]);return u!=null&&r(e,["lastConsumedClientMessageIndex"],u),e}function lC(n){const e={},i=s(n,["setupComplete"]);i!=null&&r(e,["setupComplete"],Jx(i));const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],Wx(l));const u=s(n,["toolCall"]);u!=null&&r(e,["toolCall"],eC(u));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],tC(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],nC(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],oC(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],iC(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function sC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function uC(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],aC(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],sC(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],rC(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function wa(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>uC(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function cC(n){const e={},i=s(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const x=s(n,["maxProperties"]);x!=null&&r(e,["maxProperties"],x);const E=s(n,["maximum"]);E!=null&&r(e,["maximum"],E);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const k=s(n,["minLength"]);k!=null&&r(e,["minLength"],k);const G=s(n,["minProperties"]);G!=null&&r(e,["minProperties"],G);const Y=s(n,["minimum"]);Y!=null&&r(e,["minimum"],Y);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const O=s(n,["pattern"]);O!=null&&r(e,["pattern"],O);const K=s(n,["properties"]);K!=null&&r(e,["properties"],K);const W=s(n,["propertyOrdering"]);W!=null&&r(e,["propertyOrdering"],W);const J=s(n,["required"]);J!=null&&r(e,["required"],J);const se=s(n,["title"]);se!=null&&r(e,["title"],se);const ie=s(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function fC(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(n,["category"]);i!=null&&r(e,["category"],i);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function dC(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function mC(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function pC(n){const e={},i=s(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],mC(i)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function hC(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function gC(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],hC(i)),e}function yC(){return{}}function vC(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function TC(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>dC(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],pC(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],gC(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],yC());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],vC(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function SC(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function xC(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function CC(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],xC(i));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function EC(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],SC(i));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],CC(l)),e}function AC(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function fh(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],AC(i)),e}function _C(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],fh(l)),e}function wC(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>_C(u))),r(e,["speakerVoiceConfigs"],l)}return e}function MC(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],fh(i));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],wC(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function NC(n){const e={},i=s(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function RC(n,e,i){const l={},u=s(e,["systemInstruction"]);i!==void 0&&u!=null&&r(i,["systemInstruction"],wa(nt(u)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const x=s(e,["responseLogprobs"]);x!=null&&r(l,["responseLogprobs"],x);const E=s(e,["logprobs"]);E!=null&&r(l,["logprobs"],E);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const k=s(e,["frequencyPenalty"]);k!=null&&r(l,["frequencyPenalty"],k);const G=s(e,["seed"]);G!=null&&r(l,["seed"],G);const Y=s(e,["responseMimeType"]);Y!=null&&r(l,["responseMimeType"],Y);const V=s(e,["responseSchema"]);V!=null&&r(l,["responseSchema"],cC(cu(V)));const O=s(e,["responseJsonSchema"]);if(O!=null&&r(l,["responseJsonSchema"],O),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=s(e,["safetySettings"]);if(i!==void 0&&K!=null){let re=K;Array.isArray(re)&&(re=re.map(Te=>fC(Te))),r(i,["safetySettings"],re)}const W=s(e,["tools"]);if(i!==void 0&&W!=null){let re=Jo(W);Array.isArray(re)&&(re=re.map(Te=>TC(Yo(Te)))),r(i,["tools"],re)}const J=s(e,["toolConfig"]);if(i!==void 0&&J!=null&&r(i,["toolConfig"],EC(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=s(e,["cachedContent"]);i!==void 0&&se!=null&&r(i,["cachedContent"],nn(n,se));const ie=s(e,["responseModalities"]);ie!=null&&r(l,["responseModalities"],ie);const me=s(e,["mediaResolution"]);me!=null&&r(l,["mediaResolution"],me);const ee=s(e,["speechConfig"]);if(ee!=null&&r(l,["speechConfig"],MC(fu(ee))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=s(e,["thinkingConfig"]);return de!=null&&r(l,["thinkingConfig"],NC(de)),l}function Mp(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);if(u!=null){let m=Nt(u);Array.isArray(m)&&(m=m.map(g=>wa(g))),r(i,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(i,["generationConfig"],RC(n,d,i)),i}function bC(n,e){const i={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const u=s(n,["title"]);e!==void 0&&u!=null&&r(e,["requests[]","title"],u);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function DC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);u!=null&&r(i,["requests[]","content"],Kp(n,u));const d=s(e,["config"]);d!=null&&r(i,["config"],bC(d,i));const m=s(e,["model"]);return m!==void 0&&r(i,["requests[]","model"],Ae(n,m)),i}function UC(n,e){const i={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const u=s(n,["aspectRatio"]);e!==void 0&&u!=null&&r(e,["parameters","aspectRatio"],u);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&r(e,["parameters","includeRaiReason"],h);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const x=s(n,["outputMimeType"]);e!==void 0&&x!=null&&r(e,["parameters","outputOptions","mimeType"],x);const E=s(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&r(e,["parameters","outputOptions","compressionQuality"],E),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function IC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["prompt"]);u!=null&&r(i,["instances[0]","prompt"],u);const d=s(e,["config"]);return d!=null&&r(i,["config"],UC(d,i)),i}function kC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","name"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function VC(n,e,i){const l={},u=s(e,["pageSize"]);i!==void 0&&u!=null&&r(i,["_query","pageSize"],u);const d=s(e,["pageToken"]);i!==void 0&&d!=null&&r(i,["_query","pageToken"],d);const m=s(e,["filter"]);i!==void 0&&m!=null&&r(i,["_query","filter"],m);const g=s(e,["queryBase"]);return i!==void 0&&g!=null&&r(i,["_url","models_url"],Zp(n,g)),l}function LC(n,e){const i={},l=s(e,["config"]);return l!=null&&r(i,["config"],VC(n,l,i)),i}function PC(n,e){const i={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);e!==void 0&&u!=null&&r(e,["description"],u);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),i}function GC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","name"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],PC(u,i)),i}function qC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","name"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function BC(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function HC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);if(u!=null){let m=Nt(u);Array.isArray(m)&&(m=m.map(g=>wa(g))),r(i,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(i,["config"],BC(d)),i}function zC(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=s(n,["imageBytes"]);i!=null&&r(e,["bytesBase64Encoded"],Zn(i));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function FC(n,e){const i={},l=s(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=s(n,["durationSeconds"]);if(e!==void 0&&u!=null&&r(e,["parameters","durationSeconds"],u),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function OC(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["prompt"]);u!=null&&r(i,["instances[0]","prompt"],u);const d=s(e,["image"]);if(d!=null&&r(i,["instances[0]","image"],zC(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&r(i,["config"],FC(m,i)),i}function YC(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function JC(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function $C(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function KC(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],YC(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],JC(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],$C(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function Ko(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>KC(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function XC(n){const e={},i=s(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const x=s(n,["maxProperties"]);x!=null&&r(e,["maxProperties"],x);const E=s(n,["maximum"]);E!=null&&r(e,["maximum"],E);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const k=s(n,["minLength"]);k!=null&&r(e,["minLength"],k);const G=s(n,["minProperties"]);G!=null&&r(e,["minProperties"],G);const Y=s(n,["minimum"]);Y!=null&&r(e,["minimum"],Y);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const O=s(n,["pattern"]);O!=null&&r(e,["pattern"],O);const K=s(n,["properties"]);K!=null&&r(e,["properties"],K);const W=s(n,["propertyOrdering"]);W!=null&&r(e,["propertyOrdering"],W);const J=s(n,["required"]);J!=null&&r(e,["required"],J);const se=s(n,["title"]);se!=null&&r(e,["title"],se);const ie=s(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function QC(n){const e={},i=s(n,["featureSelectionPreference"]);return i!=null&&r(e,["featureSelectionPreference"],i),e}function ZC(n){const e={},i=s(n,["method"]);i!=null&&r(e,["method"],i);const l=s(n,["category"]);l!=null&&r(e,["category"],l);const u=s(n,["threshold"]);return u!=null&&r(e,["threshold"],u),e}function WC(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(n,["description"]);i!=null&&r(e,["description"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["parameters"]);u!=null&&r(e,["parameters"],u);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function jC(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function eE(n){const e={},i=s(n,["timeRangeFilter"]);i!=null&&r(e,["timeRangeFilter"],jC(i));const l=s(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function tE(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function nE(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],tE(i)),e}function oE(n){const e={},i=s(n,["excludeDomains"]);return i!=null&&r(e,["excludeDomains"],i),e}function iE(n){const e={},i=s(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function lE(n){const e={},i=s(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],iE(i));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const u=s(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function aE(n){const e={},i=s(n,["authConfig"]);return i!=null&&r(e,["authConfig"],lE(i)),e}function sE(){return{}}function rE(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function dh(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(E=>WC(E))),r(e,["functionDeclarations"],x)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const u=s(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],eE(u));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],nE(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],oE(m));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],aE(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],sE());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],rE(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function uE(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function cE(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function fE(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],cE(i));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function dE(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],uE(i));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],fE(l)),e}function mE(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function pE(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],mE(i)),e}function hE(n){const e={},i=s(n,["voiceConfig"]);if(i!=null&&r(e,["voiceConfig"],pE(i)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function gE(n){const e={},i=s(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function yE(n,e,i){const l={},u=s(e,["systemInstruction"]);i!==void 0&&u!=null&&r(i,["systemInstruction"],Ko(nt(u)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(l,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const x=s(e,["responseLogprobs"]);x!=null&&r(l,["responseLogprobs"],x);const E=s(e,["logprobs"]);E!=null&&r(l,["logprobs"],E);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const k=s(e,["frequencyPenalty"]);k!=null&&r(l,["frequencyPenalty"],k);const G=s(e,["seed"]);G!=null&&r(l,["seed"],G);const Y=s(e,["responseMimeType"]);Y!=null&&r(l,["responseMimeType"],Y);const V=s(e,["responseSchema"]);V!=null&&r(l,["responseSchema"],XC(cu(V)));const O=s(e,["responseJsonSchema"]);O!=null&&r(l,["responseJsonSchema"],O);const K=s(e,["routingConfig"]);K!=null&&r(l,["routingConfig"],K);const W=s(e,["modelSelectionConfig"]);W!=null&&r(l,["modelConfig"],QC(W));const J=s(e,["safetySettings"]);if(i!==void 0&&J!=null){let Ce=J;Array.isArray(Ce)&&(Ce=Ce.map(R=>ZC(R))),r(i,["safetySettings"],Ce)}const se=s(e,["tools"]);if(i!==void 0&&se!=null){let Ce=Jo(se);Array.isArray(Ce)&&(Ce=Ce.map(R=>dh(Yo(R)))),r(i,["tools"],Ce)}const ie=s(e,["toolConfig"]);i!==void 0&&ie!=null&&r(i,["toolConfig"],dE(ie));const me=s(e,["labels"]);i!==void 0&&me!=null&&r(i,["labels"],me);const ee=s(e,["cachedContent"]);i!==void 0&&ee!=null&&r(i,["cachedContent"],nn(n,ee));const de=s(e,["responseModalities"]);de!=null&&r(l,["responseModalities"],de);const re=s(e,["mediaResolution"]);re!=null&&r(l,["mediaResolution"],re);const Te=s(e,["speechConfig"]);Te!=null&&r(l,["speechConfig"],hE(fu(Te)));const Ke=s(e,["audioTimestamp"]);Ke!=null&&r(l,["audioTimestamp"],Ke);const Xe=s(e,["thinkingConfig"]);return Xe!=null&&r(l,["thinkingConfig"],gE(Xe)),l}function Np(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);if(u!=null){let m=Nt(u);Array.isArray(m)&&(m=m.map(g=>Ko(g))),r(i,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(i,["generationConfig"],yE(n,d,i)),i}function vE(n,e){const i={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const u=s(n,["title"]);e!==void 0&&u!=null&&r(e,["instances[]","title"],u);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),i}function TE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);u!=null&&r(i,["instances[]","content"],Kp(n,u));const d=s(e,["config"]);return d!=null&&r(i,["config"],vE(d,i)),i}function SE(n,e){const i={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const u=s(n,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const x=s(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&r(e,["parameters","includeSafetyAttributes"],x);const E=s(n,["includeRaiReason"]);e!==void 0&&E!=null&&r(e,["parameters","includeRaiReason"],E);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const k=s(n,["outputMimeType"]);e!==void 0&&k!=null&&r(e,["parameters","outputOptions","mimeType"],k);const G=s(n,["outputCompressionQuality"]);e!==void 0&&G!=null&&r(e,["parameters","outputOptions","compressionQuality"],G);const Y=s(n,["addWatermark"]);e!==void 0&&Y!=null&&r(e,["parameters","addWatermark"],Y);const V=s(n,["imageSize"]);e!==void 0&&V!=null&&r(e,["parameters","sampleImageSize"],V);const O=s(n,["enhancePrompt"]);return e!==void 0&&O!=null&&r(e,["parameters","enhancePrompt"],O),i}function xE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["prompt"]);u!=null&&r(i,["instances[0]","prompt"],u);const d=s(e,["config"]);return d!=null&&r(i,["config"],SE(d,i)),i}function on(n){const e={},i=s(n,["gcsUri"]);i!=null&&r(e,["gcsUri"],i);const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Zn(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function CE(n){const e={},i=s(n,["maskMode"]);i!=null&&r(e,["maskMode"],i);const l=s(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const u=s(n,["maskDilation"]);return u!=null&&r(e,["dilation"],u),e}function EE(n){const e={},i=s(n,["controlType"]);i!=null&&r(e,["controlType"],i);const l=s(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function AE(n){const e={},i=s(n,["styleDescription"]);return i!=null&&r(e,["styleDescription"],i),e}function _E(n){const e={},i=s(n,["subjectType"]);i!=null&&r(e,["subjectType"],i);const l=s(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function wE(n){const e={},i=s(n,["referenceImage"]);i!=null&&r(e,["referenceImage"],on(i));const l=s(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const u=s(n,["referenceType"]);u!=null&&r(e,["referenceType"],u);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],CE(d));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],EE(m));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],AE(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],_E(y)),e}function ME(n,e){const i={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const u=s(n,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const x=s(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&r(e,["parameters","includeSafetyAttributes"],x);const E=s(n,["includeRaiReason"]);e!==void 0&&E!=null&&r(e,["parameters","includeRaiReason"],E);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const k=s(n,["outputMimeType"]);e!==void 0&&k!=null&&r(e,["parameters","outputOptions","mimeType"],k);const G=s(n,["outputCompressionQuality"]);e!==void 0&&G!=null&&r(e,["parameters","outputOptions","compressionQuality"],G);const Y=s(n,["addWatermark"]);e!==void 0&&Y!=null&&r(e,["parameters","addWatermark"],Y);const V=s(n,["editMode"]);e!==void 0&&V!=null&&r(e,["parameters","editMode"],V);const O=s(n,["baseSteps"]);return e!==void 0&&O!=null&&r(e,["parameters","editConfig","baseSteps"],O),i}function NE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["prompt"]);u!=null&&r(i,["instances[0]","prompt"],u);const d=s(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>wE(y))),r(i,["instances[0]","referenceImages"],g)}const m=s(e,["config"]);return m!=null&&r(i,["config"],ME(m,i)),i}function RE(n,e){const i={},l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const u=s(n,["outputMimeType"]);e!==void 0&&u!=null&&r(e,["parameters","outputOptions","mimeType"],u);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","compressionQuality"],d);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],m);const g=s(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const h=s(n,["mode"]);return e!==void 0&&h!=null&&r(e,["parameters","mode"],h),i}function bE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["image"]);u!=null&&r(i,["instances[0]","image"],on(u));const d=s(e,["upscaleFactor"]);d!=null&&r(i,["parameters","upscaleConfig","upscaleFactor"],d);const m=s(e,["config"]);return m!=null&&r(i,["config"],RE(m,i)),i}function DE(n){const e={},i=s(n,["productImage"]);return i!=null&&r(e,["image"],on(i)),e}function UE(n,e){const i={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const u=s(n,["personImage"]);e!==void 0&&u!=null&&r(e,["instances[0]","personImage","image"],on(u));const d=s(n,["productImages"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>DE(g))),r(e,["instances[0]","productImages"],m)}return i}function IE(n,e){const i={},l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const u=s(n,["baseSteps"]);e!==void 0&&u!=null&&r(e,["parameters","editConfig","baseSteps"],u);const d=s(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const m=s(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const h=s(n,["outputMimeType"]);e!==void 0&&h!=null&&r(e,["parameters","outputOptions","mimeType"],h);const v=s(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","compressionQuality"],v);const x=s(n,["enhancePrompt"]);return e!==void 0&&x!=null&&r(e,["parameters","enhancePrompt"],x),i}function kE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["source"]);u!=null&&r(i,["config"],UE(u,i));const d=s(e,["config"]);return d!=null&&r(i,["config"],IE(d,i)),i}function VE(n){const e={},i=s(n,["image"]);return i!=null&&r(e,["image"],on(i)),e}function LE(n,e){const i={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const u=s(n,["image"]);e!==void 0&&u!=null&&r(e,["instances[0]","image"],on(u));const d=s(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],VE(d)),i}function PE(n,e){const i={},l=s(n,["mode"]);e!==void 0&&l!=null&&r(e,["parameters","mode"],l);const u=s(n,["maxPredictions"]);e!==void 0&&u!=null&&r(e,["parameters","maxPredictions"],u);const d=s(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const m=s(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const g=s(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),i}function GE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["source"]);u!=null&&r(i,["config"],LE(u,i));const d=s(e,["config"]);return d!=null&&r(i,["config"],PE(d,i)),i}function qE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","name"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function BE(n,e,i){const l={},u=s(e,["pageSize"]);i!==void 0&&u!=null&&r(i,["_query","pageSize"],u);const d=s(e,["pageToken"]);i!==void 0&&d!=null&&r(i,["_query","pageToken"],d);const m=s(e,["filter"]);i!==void 0&&m!=null&&r(i,["_query","filter"],m);const g=s(e,["queryBase"]);return i!==void 0&&g!=null&&r(i,["_url","models_url"],Zp(n,g)),l}function HE(n,e){const i={},l=s(e,["config"]);return l!=null&&r(i,["config"],BE(n,l,i)),i}function zE(n,e){const i={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);e!==void 0&&u!=null&&r(e,["description"],u);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),i}function FE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],zE(u,i)),i}function OE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","name"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],u),i}function YE(n,e){const i={},l=s(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],Ko(nt(l)));const u=s(n,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>dh(g))),r(e,["tools"],m)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),i}function JE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);if(u!=null){let m=Nt(u);Array.isArray(m)&&(m=m.map(g=>Ko(g))),r(i,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(i,["config"],YE(d,i)),i}function $E(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["contents"]);if(u!=null){let m=Nt(u);Array.isArray(m)&&(m=m.map(g=>Ko(g))),r(i,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(i,["config"],d),i}function KE(n){const e={},i=s(n,["uri"]);i!=null&&r(e,["gcsUri"],i);const l=s(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Zn(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function XE(n){const e={},i=s(n,["image"]);i!=null&&r(e,["image"],on(i));const l=s(n,["referenceType"]);return l!=null&&r(e,["referenceType"],l),e}function QE(n,e){const i={},l=s(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const u=s(n,["outputGcsUri"]);e!==void 0&&u!=null&&r(e,["parameters","storageUri"],u);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const h=s(n,["resolution"]);e!==void 0&&h!=null&&r(e,["parameters","resolution"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const x=s(n,["pubsubTopic"]);e!==void 0&&x!=null&&r(e,["parameters","pubsubTopic"],x);const E=s(n,["negativePrompt"]);e!==void 0&&E!=null&&r(e,["parameters","negativePrompt"],E);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const k=s(n,["generateAudio"]);e!==void 0&&k!=null&&r(e,["parameters","generateAudio"],k);const G=s(n,["lastFrame"]);e!==void 0&&G!=null&&r(e,["instances[0]","lastFrame"],on(G));const Y=s(n,["referenceImages"]);if(e!==void 0&&Y!=null){let O=Y;Array.isArray(O)&&(O=O.map(K=>XE(K))),r(e,["instances[0]","referenceImages"],O)}const V=s(n,["compressionQuality"]);return e!==void 0&&V!=null&&r(e,["parameters","compressionQuality"],V),i}function ZE(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["_url","model"],Ae(n,l));const u=s(e,["prompt"]);u!=null&&r(i,["instances[0]","prompt"],u);const d=s(e,["image"]);d!=null&&r(i,["instances[0]","image"],on(d));const m=s(e,["video"]);m!=null&&r(i,["instances[0]","video"],KE(m));const g=s(e,["config"]);return g!=null&&r(i,["config"],QE(g,i)),i}function WE(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function jE(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function eA(n){const e={},i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tA(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],WE(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],jE(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],eA(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function nA(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>tA(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function oA(n){const e={},i=s(n,["citationSources"]);return i!=null&&r(e,["citations"],i),e}function iA(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function lA(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>iA(u))),r(e,["urlMetadata"],l)}return e}function aA(n){const e={},i=s(n,["content"]);i!=null&&r(e,["content"],nA(i));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],oA(l));const u=s(n,["tokenCount"]);u!=null&&r(e,["tokenCount"],u);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],lA(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const x=s(n,["safetyRatings"]);return x!=null&&r(e,["safetyRatings"],x),e}function Rp(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>aA(h))),r(e,["candidates"],y)}const u=s(n,["modelVersion"]);u!=null&&r(e,["modelVersion"],u);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function sA(n){const e={},i=s(n,["values"]);return i!=null&&r(e,["values"],i),e}function rA(){return{}}function uA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>sA(m))),r(e,["embeddings"],d)}return s(n,["metadata"])!=null&&r(e,["metadata"],rA()),e}function cA(n){const e={},i=s(n,["bytesBase64Encoded"]);i!=null&&r(e,["imageBytes"],Zn(i));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function mh(n){const e={},i=s(n,["safetyAttributes","categories"]);i!=null&&r(e,["categories"],i);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const u=s(n,["contentType"]);return u!=null&&r(e,["contentType"],u),e}function fA(n){const e={},i=s(n,["_self"]);i!=null&&r(e,["image"],cA(i));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const u=s(n,["_self"]);return u!=null&&r(e,["safetyAttributes"],mh(u)),e}function dA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>fA(m))),r(e,["generatedImages"],d)}const u=s(n,["positivePromptSafetyAttributes"]);return u!=null&&r(e,["positivePromptSafetyAttributes"],mh(u)),e}function mA(n){const e={},i=s(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(n,["updateTime"]);return u!=null&&r(e,["updateTime"],u),e}function iu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],mA(m));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const h=s(n,["supportedGenerationMethods"]);return h!=null&&r(e,["supportedActions"],h),e}function pA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["_self"]);if(u!=null){let d=Wp(u);Array.isArray(d)&&(d=d.map(m=>iu(m))),r(e,["models"],d)}return e}function hA(){return{}}function gA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const u=s(n,["cachedContentTokenCount"]);return u!=null&&r(e,["cachedContentTokenCount"],u),e}function yA(n){const e={},i=s(n,["video","uri"]);i!=null&&r(e,["uri"],i);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],Zn(l));const u=s(n,["encoding"]);return u!=null&&r(e,["mimeType"],u),e}function vA(n){const e={},i=s(n,["_self"]);return i!=null&&r(e,["video"],yA(i)),e}function TA(n){const e={},i=s(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>vA(m))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const u=s(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function SA(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],TA(m)),e}function xA(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function CA(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function EA(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function AA(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],xA(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],CA(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],EA(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function _A(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>AA(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function wA(n){const e={},i=s(n,["citations"]);return i!=null&&r(e,["citations"],i),e}function MA(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function NA(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>MA(u))),r(e,["urlMetadata"],l)}return e}function RA(n){const e={},i=s(n,["content"]);i!=null&&r(e,["content"],_A(i));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],wA(l));const u=s(n,["finishMessage"]);u!=null&&r(e,["finishMessage"],u);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],NA(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const x=s(n,["safetyRatings"]);return x!=null&&r(e,["safetyRatings"],x),e}function bp(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>RA(v))),r(e,["candidates"],h)}const u=s(n,["createTime"]);u!=null&&r(e,["createTime"],u);const d=s(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const m=s(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=s(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function bA(n){const e={},i=s(n,["truncated"]);i!=null&&r(e,["truncated"],i);const l=s(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function DA(n){const e={},i=s(n,["values"]);i!=null&&r(e,["values"],i);const l=s(n,["statistics"]);return l!=null&&r(e,["statistics"],bA(l)),e}function UA(n){const e={},i=s(n,["billableCharacterCount"]);return i!=null&&r(e,["billableCharacterCount"],i),e}function IA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>DA(m))),r(e,["embeddings"],d)}const u=s(n,["metadata"]);return u!=null&&r(e,["metadata"],UA(u)),e}function ph(n){const e={},i=s(n,["gcsUri"]);i!=null&&r(e,["gcsUri"],i);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Zn(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function hh(n){const e={},i=s(n,["safetyAttributes","categories"]);i!=null&&r(e,["categories"],i);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const u=s(n,["contentType"]);return u!=null&&r(e,["contentType"],u),e}function Ma(n){const e={},i=s(n,["_self"]);i!=null&&r(e,["image"],ph(i));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const u=s(n,["_self"]);u!=null&&r(e,["safetyAttributes"],hh(u));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function kA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Ma(m))),r(e,["generatedImages"],d)}const u=s(n,["positivePromptSafetyAttributes"]);return u!=null&&r(e,["positivePromptSafetyAttributes"],hh(u)),e}function VA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Ma(d))),r(e,["generatedImages"],u)}return e}function LA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Ma(d))),r(e,["generatedImages"],u)}return e}function PA(n){const e={},i=s(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ma(u))),r(e,["generatedImages"],l)}return e}function GA(n){const e={},i=s(n,["label"]);i!=null&&r(e,["label"],i);const l=s(n,["score"]);return l!=null&&r(e,["score"],l),e}function qA(n){const e={},i=s(n,["_self"]);i!=null&&r(e,["mask"],ph(i));const l=s(n,["labels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>GA(d))),r(e,["labels"],u)}return e}function BA(n){const e={},i=s(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>qA(u))),r(e,["generatedMasks"],l)}return e}function HA(n){const e={},i=s(n,["endpoint"]);i!=null&&r(e,["name"],i);const l=s(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function zA(n){const e={},i=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(e,["baseModel"],i);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(n,["updateTime"]);return u!=null&&r(e,["updateTime"],u),e}function FA(n){const e={},i=s(n,["checkpointId"]);i!=null&&r(e,["checkpointId"],i);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const u=s(n,["step"]);return u!=null&&r(e,["step"],u),e}function lu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const m=s(n,["deployedModels"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(E=>HA(E))),r(e,["endpoints"],x)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],zA(y));const h=s(n,["defaultCheckpointId"]);h!=null&&r(e,["defaultCheckpointId"],h);const v=s(n,["checkpoints"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>FA(E))),r(e,["checkpoints"],x)}return e}function OA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["_self"]);if(u!=null){let d=Wp(u);Array.isArray(d)&&(d=d.map(m=>lu(m))),r(e,["models"],d)}return e}function YA(){return{}}function JA(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function $A(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function KA(n){const e={},i=s(n,["gcsUri"]);i!=null&&r(e,["uri"],i);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],Zn(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function XA(n){const e={},i=s(n,["_self"]);return i!=null&&r(e,["video"],KA(i)),e}function QA(n){const e={},i=s(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>XA(m))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const u=s(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function ZA(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response"]);return m!=null&&r(e,["response"],QA(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WA="Content-Type",jA="X-Server-Timeout",e_="User-Agent",au="x-goog-api-client",t_="1.15.0",n_=`google-genai-sdk/${t_}`,o_="v1beta1",i_="v1beta",Dp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class l_{constructor(e){var i,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:o_,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:i_,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const u=[this.getRequestUrlInternal(i)];return l&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))u.searchParams.append(m,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,i,e.abortSignal),this.unaryApiCall(u,d,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[u,d]of Object.entries(i))typeof d=="object"?l[u]=Object.assign(Object.assign({},l[u]),d):d!==void 0&&(l[u]=d);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,i,l);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,i,e.abortSignal),this.streamApiCall(u,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l){if(i&&i.timeout||l){const u=new AbortController,d=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const m=setTimeout(()=>u.abort(),i.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return i&&i.extraBody!==null&&a_(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async u=>(await Up(u),new jr(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async u=>(await Up(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var i;return Bo(this,arguments,function*(){const u=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Ue(u.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const x=JSON.parse(h);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),M=E.status,k=E.code,G=`got status: ${M}. ${JSON.stringify(x)}`;if(k>=400&&k<600)throw new _a({message:G,status:k})}}catch(x){if(x.name==="ApiError")throw x}m+=h;let v=m.match(Dp);for(;v;){const x=v[1];try{const E=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new jr(E)),m=m.slice(v[0].length),v=m.match(Dp)}catch(E){throw new Error(`exception parsing stream chunk ${x}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=n_+" "+this.clientOptions.userAgentExtra;return e[e_]=i,e[au]=i,e[WA]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))i.append(l,u);e.timeout&&e.timeout>0&&i.append(jA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var l;const u={};i!=null&&(u.mimeType=i.mimeType,u.name=i.name,u.displayName=i.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);u.sizeBytes=String(m.size);const g=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y=await this.fetchUploadUrl(u,i);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var l;let u={};i!=null&&i.httpOptions?u=i.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:j("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Up(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const u=JSON.stringify(l);throw i>=400&&i<600?new _a({message:u,status:i}):new Error(u)}}function a_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))i=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=l(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=l(i,e);n.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s_="mcp_used/unknown";let r_=!1;function gh(n){for(const e of n)if(u_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return r_}function yh(n){var e;const i=(e=n[au])!==null&&e!==void 0?e:"";n[au]=(i+` ${s_}`).trimStart()}function u_(n){return n!==null&&typeof n=="object"&&n instanceof mu}function c_(n,e=100){return Bo(this,arguments,function*(){let l,u=0;for(;u<e;){const d=yield Ue(n.listTools({cursor:l}));for(const m of d.tools)yield yield Ue(m),u++;if(!d.nextCursor)break;l=d.nextCursor}})}class mu{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new mu(e,i)}async initialize(){var e,i,l,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(i=void 0,Qi(c_(v))),h;h=await y.next(),e=h.done,!e;g=!0){u=h.value,g=!1;const x=u;m.push(x);const E=x.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=v}}catch(x){i={error:x}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(i)throw i.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Hv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:l.name,arguments:l.args},void 0,d);i.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function f_(n,e,i){const l=new Iv;let u;i.data instanceof Blob?u=JSON.parse(await i.data.text()):u=JSON.parse(i.data);const d=Yx(u);Object.assign(l,d),e(l)}class d_{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=h_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(K=>{h=K}),x=e.callbacks,E=function(){h({})},M=this.apiClient,k={onopen:E,onmessage:K=>{f_(M,x.onmessage,K)},onerror:(i=x==null?void 0:x.onerror)!==null&&i!==void 0?i:function(K){},onclose:(l=x==null?void 0:x.onclose)!==null&&l!==void 0?l:function(K){}},G=this.webSocketFactory.create(y,p_(m),k);G.connect(),await v;const Y=Ae(this.apiClient,e.model),V=uh({model:Y}),O=ou({setup:V});return G.send(JSON.stringify(O)),new m_(G,this.apiClient)}}class m_{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=zS(e),l=ch(i);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=FS(e),l=ou(i);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const i=ou({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Go.PLAY)}pause(){this.sendPlaybackControl(Go.PAUSE)}stop(){this.sendPlaybackControl(Go.STOP)}resetContext(){this.sendPlaybackControl(Go.RESET_CONTEXT)}close(){this.conn.close()}}function p_(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function h_(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function y_(n,e,i){const l=new Uv;let u;i.data instanceof Blob?u=await i.data.text():i.data instanceof ArrayBuffer?u=new TextDecoder().decode(i.data):u=i.data;const d=JSON.parse(u);if(n.isVertexAI()){const m=lC(d);Object.assign(l,m)}else{const m=Lx(d);Object.assign(l,m)}e(l)}class v_{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new d_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,u,d,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&gh(e.config.tools)&&yh(x);const E=C_(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const ee=this.apiClient.getApiKey();let de="BidiGenerateContent",re="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",re="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${re}=${ee}`}let M=()=>{};const k=new Promise(ee=>{M=ee}),G=e.callbacks,Y=function(){var ee;(ee=G==null?void 0:G.onopen)===null||ee===void 0||ee.call(G),M({})},V=this.apiClient,O={onopen:Y,onmessage:ee=>{y_(V,G.onmessage,ee)},onerror:(i=G==null?void 0:G.onerror)!==null&&i!==void 0?i:function(ee){},onclose:(l=G==null?void 0:G.onclose)!==null&&l!==void 0?l:function(ee){}},K=this.webSocketFactory.create(v,x_(E),O);K.connect(),await k;let W=Ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const ee=this.apiClient.getProject(),de=this.apiClient.getLocation();W=`projects/${ee}/locations/${de}/`+W}let J={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sa.AUDIO]}:e.config.responseModalities=[Sa.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],ie=[];for(const ee of se)if(this.isCallableTool(ee)){const de=ee;ie.push(await de.tool())}else ie.push(ee);ie.length>0&&(e.config.tools=ie);const me={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=yx(this.apiClient,me):J=GS(this.apiClient,me),delete J.config,K.send(JSON.stringify(J)),new S_(K,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const T_={turnComplete:!0};class S_{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=Nt(i.turns),e.isVertexAI()?l=l.map(u=>Ko(u)):l=l.map(u=>wa(u))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(g_)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},T_),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Sx(e)}:i={realtimeInput:HS(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function x_(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function C_(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ip=10;function kp(n){var e,i,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const m of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ho(m)){u=!0;break}if(!u)return!0;const d=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Ho(n){return"callTool"in n&&typeof n.callTool=="function"}function E_(n){var e,i,l;return(l=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(u=>Ho(u)))!==null&&l!==void 0?l:!1}function A_(n){var e,i,l;return(l=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(u=>!Ho(u)))!==null&&l!==void 0?l:!1}function Vp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends Qn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,u,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!E_(i)||kp(i.config))return await this.generateContentInternal(y);if(A_(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const x=Nt(y.contents),E=(d=(u=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Ip;let M=0;for(;M<E&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const k=h.candidates[0].content,G=[];for(const Y of(g=(m=i.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Ho(Y)){const O=await Y.callTool(h.functionCalls);G.push(...O)}M++,v={role:"user",parts:G},y.contents=Nt(y.contents),y.contents.push(k),y.contents.push(v),Vp(y.config)&&(x.push(k),x.push(v))}return Vp(y.config)&&(h.automaticFunctionCallingHistory=x),h},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),kp(i.config)){const l=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var u;let d;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async i=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ji(Xn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const u={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(u)},this.generateVideos=async i=>await this.generateVideosInternal(i)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,u;const d=(i=e.config)===null||i===void 0?void 0:i.tools;if(!d)return e;const m=await Promise.all(d.map(async y=>Ho(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&gh(e.config.tools)){const y=(u=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),yh(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var i,l,u;const d=new Map;for(const m of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Ho(m)){const g=m,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(e){var i,l,u;const d=(u=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:Ip;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return function(h,v,x){var E,M;return Bo(this,arguments,function*(){for(var k,G,Y,V;g<d;){m&&(g++,m=!1);const J=yield Ue(h.processParamsMaybeAddMcpUsage(x)),se=yield Ue(h.generateContentStreamInternal(J)),ie=[],me=[];try{for(var O=!0,K=(G=void 0,Qi(se)),W;W=yield Ue(K.next()),k=W.done,!k;O=!0){V=W.value,O=!1;const ee=V;if(yield yield Ue(ee),ee.candidates&&(!((E=ee.candidates[0])===null||E===void 0)&&E.content)){me.push(ee.candidates[0].content);for(const de of(M=ee.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const re=yield Ue(v.get(de.functionCall.name).callTool([de.functionCall]));ie.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(ee){G={error:ee}}finally{try{!O&&!k&&(Y=K.return)&&(yield Ue(Y.call(K)))}finally{if(G)throw G.error}}if(ie.length>0){m=!0;const ee=new Xi;ee.candidates=[{content:{role:"user",parts:ie}}],yield yield Ue(ee);const de=[];de.push(...me),de.push({role:"user",parts:ie});const re=Nt(x.contents).concat(de);x.contents=re}else break}})}(this,y,e)}async generateContentInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Np(this.apiClient,e);return g=j("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=bp(v),E=new Xi;return Object.assign(E,x),E})}else{const h=Mp(this.apiClient,e);return g=j("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=Rp(v),E=new Xi;return Object.assign(E,x),E})}}async generateContentStreamInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Np(this.apiClient,e);return g=j("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(x){return Bo(this,arguments,function*(){var E,M,k,G;try{for(var Y=!0,V=Qi(x),O;O=yield Ue(V.next()),E=O.done,!E;Y=!0){G=O.value,Y=!1;const K=G,W=bp(yield Ue(K.json()));W.sdkHttpResponse={headers:K.headers};const J=new Xi;Object.assign(J,W),yield yield Ue(J)}}catch(K){M={error:K}}finally{try{!Y&&!E&&(k=V.return)&&(yield Ue(k.call(V)))}finally{if(M)throw M.error}}})})}else{const h=Mp(this.apiClient,e);return g=j("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(x){return Bo(this,arguments,function*(){var E,M,k,G;try{for(var Y=!0,V=Qi(x),O;O=yield Ue(V.next()),E=O.done,!E;Y=!0){G=O.value,Y=!1;const K=G,W=Rp(yield Ue(K.json()));W.sdkHttpResponse={headers:K.headers};const J=new Xi;Object.assign(J,W),yield yield Ue(J)}}catch(K){M={error:K}}finally{try{!Y&&!E&&(k=V.return)&&(yield Ue(k.call(V)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=TE(this.apiClient,e);return g=j("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=IA(v),E=new lp;return Object.assign(E,x),E})}else{const h=DC(this.apiClient,e);return g=j("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=uA(v),E=new lp;return Object.assign(E,x),E})}}async generateImagesInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,e);return g=j("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=kA(v),E=new ap;return Object.assign(E,x),E})}else{const h=IC(this.apiClient,e);return g=j("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=dA(v),E=new ap;return Object.assign(E,x),E})}}async editImageInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=NE(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=VA(y),v=new Av;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=bE(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=LA(y),v=new _v;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=kE(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const h=PA(y),v=new wv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=GE(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const h=BA(y),v=new Mv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qE(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}else{const h=kC(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>iu(v))}}async listInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=HE(this.apiClient,e);return g=j("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=OA(v),E=new sp;return Object.assign(E,x),E})}else{const h=LC(this.apiClient,e);return g=j("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=pA(v),E=new sp;return Object.assign(E,x),E})}}async update(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=FE(this.apiClient,e);return g=j("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}else{const h=GC(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>iu(v))}}async delete(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OE(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=YA(),x=new rp;return Object.assign(x,v),x})}else{const h=qC(this.apiClient,e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(()=>{const v=hA(),x=new rp;return Object.assign(x,v),x})}}async countTokens(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,e);return g=j("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=JA(v),E=new up;return Object.assign(E,x),E})}else{const h=HC(this.apiClient,e);return g=j("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=gA(v),E=new up;return Object.assign(E,x),E})}}async computeTokens(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=$E(this.apiClient,e);return d=j("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=$A(y),v=new Nv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZE(this.apiClient,e);return g=j("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=ZA(v),E=new xa;return Object.assign(E,x),E})}else{const h=OC(this.apiClient,e);return g=j("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const x=SA(v),E=new xa;return Object.assign(E,x),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(n){const e={},i=s(n,["operationName"]);i!=null&&r(e,["_url","operationName"],i);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function M_(n){const e={},i=s(n,["operationName"]);i!=null&&r(e,["_url","operationName"],i);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function N_(n){const e={},i=s(n,["operationName"]);i!=null&&r(e,["operationName"],i);const l=s(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const u=s(n,["config"]);return u!=null&&r(e,["config"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends Qn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=i.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:u,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=i.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:u,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=M_(e);return g=j("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const h=w_(e);return g=j("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=N_(e);return d=j("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b_(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function vh(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],b_(i)),e}function D_(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],vh(l)),e}function U_(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>D_(u))),r(e,["speakerVoiceConfigs"],l)}return e}function I_(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],vh(i));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],U_(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function k_(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function V_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function L_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function P_(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],k_(i));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],V_(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],L_(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const x=s(n,["text"]);return x!=null&&r(e,["text"],x),e}function G_(n){const e={},i=s(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>P_(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function q_(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function B_(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function H_(n){const e={},i=s(n,["timeRangeFilter"]);if(i!=null&&r(e,["timeRangeFilter"],B_(i)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function z_(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function F_(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],z_(i)),e}function O_(){return{}}function Y_(n){const e={},i=s(n,["environment"]);return i!=null&&r(e,["environment"],i),e}function J_(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(h=>q_(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],H_(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],F_(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],O_());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],Y_(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function $_(n){const e={},i=s(n,["handle"]);if(i!=null&&r(e,["handle"],i),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Lp(){return{}}function K_(n){const e={},i=s(n,["disabled"]);i!=null&&r(e,["disabled"],i);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const u=s(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function X_(n){const e={},i=s(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],K_(i));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const u=s(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function Q_(n){const e={},i=s(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function Z_(n){const e={},i=s(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],Q_(l)),e}function W_(n){const e={},i=s(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function j_(n,e){const i={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const u=s(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const x=s(n,["speechConfig"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","speechConfig"],I_(du(x)));const E=s(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],G_(nt(M)));const k=s(n,["tools"]);if(e!==void 0&&k!=null){let J=Jo(k);Array.isArray(J)&&(J=J.map(se=>J_(Yo(se)))),r(e,["setup","tools"],J)}const G=s(n,["sessionResumption"]);e!==void 0&&G!=null&&r(e,["setup","sessionResumption"],$_(G));const Y=s(n,["inputAudioTranscription"]);e!==void 0&&Y!=null&&r(e,["setup","inputAudioTranscription"],Lp());const V=s(n,["outputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","outputAudioTranscription"],Lp());const O=s(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&r(e,["setup","realtimeInputConfig"],X_(O));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],Z_(K));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],W_(W)),i}function ew(n,e){const i={},l=s(e,["model"]);l!=null&&r(i,["setup","model"],Ae(n,l));const u=s(e,["config"]);return u!=null&&r(i,["config"],j_(u,i)),i}function tw(n,e,i){const l={},u=s(e,["expireTime"]);i!==void 0&&u!=null&&r(i,["expireTime"],u);const d=s(e,["newSessionExpireTime"]);i!==void 0&&d!=null&&r(i,["newSessionExpireTime"],d);const m=s(e,["uses"]);i!==void 0&&m!=null&&r(i,["uses"],m);const g=s(e,["liveConnectConstraints"]);i!==void 0&&g!=null&&r(i,["bidiGenerateContentSetup"],ew(n,g));const y=s(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&r(i,["fieldMask"],y),l}function nw(n,e){const i={},l=s(e,["config"]);return l!=null&&r(i,["config"],tw(n,l,i)),i}function ow(n){const e={},i=s(n,["name"]);return i!=null&&r(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iw(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const l=n[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const u=Object.keys(l).map(d=>`${i}.${d}`);e.push(...u)}else e.push(i)}return e.join(",")}function lw(n,e){let i=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,i=d):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const u=n.fieldMask;if(i){const d=iw(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?n.fieldMask=u.join(","):delete n.fieldMask;return n}class aw extends Qn{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=nw(this.apiClient,e);d=j("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=lw(g,e.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>ow(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sw(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","name"],i);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function rw(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function uw(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],rw(i,e)),e}function cw(n){const e={},i=s(n,["textInput"]);i!=null&&r(e,["textInput"],i);const l=s(n,["output"]);return l!=null&&r(e,["output"],l),e}function fw(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(n,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cw(u))),r(e,["examples","examples"],l)}return e}function dw(n,e){const i={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=s(n,["epochCount"]);e!==void 0&&u!=null&&r(e,["tuningTask","hyperparameters","epochCount"],u);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),i}function mw(n){const e={},i=s(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const l=s(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const u=s(n,["trainingDataset"]);u!=null&&r(e,["tuningTask","trainingData"],fw(u));const d=s(n,["config"]);return d!=null&&r(e,["config"],dw(d,e)),e}function pw(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","name"],i);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function hw(n,e){const i={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function gw(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],hw(i,e)),e}function yw(n,e){const i={},l=s(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const u=s(n,["vertexDatasetResource"]);if(e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],u),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function vw(n,e){const i={},l=s(n,["gcsUri"]);l!=null&&r(i,["validationDatasetUri"],l);const u=s(n,["vertexDatasetResource"]);return e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],u),i}function Tw(n,e){const i={},l=s(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],vw(l,i));const u=s(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&r(e,["tunedModelDisplayName"],u);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const h=s(n,["preTunedModelCheckpointId"]);h!=null&&r(i,["preTunedModel","checkpointId"],h);const v=s(n,["adapterSize"]);if(e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function Sw(n){const e={},i=s(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const l=s(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const u=s(n,["trainingDataset"]);u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],yw(u,e));const d=s(n,["config"]);return d!=null&&r(e,["config"],Tw(d,e)),e}function xw(n){const e={},i=s(n,["name"]);i!=null&&r(e,["model"],i);const l=s(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Th(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["state"]);u!=null&&r(e,["state"],Xp(u));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["description"]);h!=null&&r(e,["description"],h);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const x=s(n,["_self"]);x!=null&&r(e,["tunedModel"],xw(x));const E=s(n,["customBaseModel"]);E!=null&&r(e,["customBaseModel"],E);const M=s(n,["experiment"]);M!=null&&r(e,["experiment"],M);const k=s(n,["labels"]);k!=null&&r(e,["labels"],k);const G=s(n,["outputUri"]);G!=null&&r(e,["outputUri"],G);const Y=s(n,["pipelineJob"]);Y!=null&&r(e,["pipelineJob"],Y);const V=s(n,["serviceAccount"]);V!=null&&r(e,["serviceAccount"],V);const O=s(n,["tunedModelDisplayName"]);return O!=null&&r(e,["tunedModelDisplayName"],O),e}function Cw(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Th(m))),r(e,["tuningJobs"],d)}return e}function Ew(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["metadata"]);u!=null&&r(e,["metadata"],u);const d=s(n,["done"]);d!=null&&r(e,["done"],d);const m=s(n,["error"]);return m!=null&&r(e,["error"],m),e}function Aw(n){const e={},i=s(n,["checkpointId"]);i!=null&&r(e,["checkpointId"],i);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const u=s(n,["step"]);u!=null&&r(e,["step"],u);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function _w(n){const e={},i=s(n,["model"]);i!=null&&r(e,["model"],i);const l=s(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const u=s(n,["checkpoints"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Aw(m))),r(e,["checkpoints"],d)}return e}function su(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["state"]);u!=null&&r(e,["state"],Xp(u));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["error"]);h!=null&&r(e,["error"],h);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const x=s(n,["baseModel"]);x!=null&&r(e,["baseModel"],x);const E=s(n,["tunedModel"]);E!=null&&r(e,["tunedModel"],_w(E));const M=s(n,["preTunedModel"]);M!=null&&r(e,["preTunedModel"],M);const k=s(n,["supervisedTuningSpec"]);k!=null&&r(e,["supervisedTuningSpec"],k);const G=s(n,["tuningDataStats"]);G!=null&&r(e,["tuningDataStats"],G);const Y=s(n,["encryptionSpec"]);Y!=null&&r(e,["encryptionSpec"],Y);const V=s(n,["partnerModelTuningSpec"]);V!=null&&r(e,["partnerModelTuningSpec"],V);const O=s(n,["customBaseModel"]);O!=null&&r(e,["customBaseModel"],O);const K=s(n,["experiment"]);K!=null&&r(e,["experiment"],K);const W=s(n,["labels"]);W!=null&&r(e,["labels"],W);const J=s(n,["outputUri"]);J!=null&&r(e,["outputUri"],J);const se=s(n,["pipelineJob"]);se!=null&&r(e,["pipelineJob"],se);const ie=s(n,["serviceAccount"]);ie!=null&&r(e,["serviceAccount"],ie);const me=s(n,["tunedModelDisplayName"]);return me!=null&&r(e,["tunedModelDisplayName"],me),e}function ww(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>su(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mw extends Qn{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new ji(Xn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const l={tunedModelName:i.baseModel},u=Object.assign(Object.assign({},i),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},i);return await this.tuneInternal(l)}else{const l=Object.assign({},i),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Wr.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pw(e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>su(v))}else{const h=sw(e);return g=j("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>Th(v))}}async listInternal(e){var i,l,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=gw(e);return g=j("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=ww(v),E=new fp;return Object.assign(E,x),E})}else{const h=uw(e);return g=j("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const x=Cw(v),E=new fp;return Object.assign(E,x),E})}}async tuneInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=Sw(e);return d=j("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>su(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mw(e);return d=j("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Ew(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nw{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Rw=1024*1024*8,bw=3,Dw=1e3,Uw=2,Xr="x-goog-upload-status";async function Iw(n,e,i){var l,u,d;let m=0,g=0,y=new jr(new Response),h="upload";for(m=n.size;g<m;){const x=Math.min(Rw,m-g),E=n.slice(g,g+x);g+x>=m&&(h+=", finalize");let M=0,k=Dw;for(;M<bw&&(y=await i.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(x)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Xr]));)M++,await Vw(k),k=k*Uw;if(g+=x,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[Xr])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Xr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function kw(n){return{size:n.size,type:n.type}}function Vw(n){return new Promise(e=>setTimeout(e,n))}class Lw{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Iw(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kw(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pw{create(e,i,l){return new Gw(e,i,l)}}class Gw{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pp="x-goog-api-key";class qw{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Pp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Pp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bw="gl-node/";class Hw{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=Ev(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const u=new qw(this.apiKey);this.apiClient=new l_({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Bw+"web",uploader:new Lw,downloader:new Nw}),this.models=new __(this.apiClient),this.live=new v_(this.apiClient,u,new Pw),this.batches=new K0(this.apiClient),this.chats=new eS(this.models,this.apiClient),this.caches=new ZT(this.apiClient),this.files=new mS(this.apiClient),this.operations=new R_(this.apiClient),this.authTokens=new aw(this.apiClient),this.tunings=new Mw(this.apiClient)}}const zw=["technology","science","pets","food","transportation","weather","sports","entertainment","fashion","architecture","nature","space","medicine","education","art","music","government","business","social media","gaming","travel","history","psychology","relationships","finance","crime","politics","pop culture","health","energy","environment","mythology","literature","design","robotics","AI","metaverse","film","television","internet culture","memes","culture","philosophy","economics","cryptocurrency","transport tech","marine biology","space exploration","fashion tech"],Fw=["toaster","umbrella","calculator","doorknob","stapler","lampshade","keyboard","coffee mug","telephone","backpack","mirror","clock","scissors","hammer","pencil","chair","television","microwave","bicycle","camera","drone","flashlight","headphones","typewriter","laptop","smartwatch","remote control","vase","wallet","keychain","screwdriver","paintbrush","hairdryer","candle","book","thermostat","guitar","notebook","microphone","saxophone","sunglasses","fan","vacuum cleaner","speaker","toothbrush","alarm clock","fridge magnet","dice","compass","helmet","trophy","chess piece","soda can","glove","passport","rubber duck"],Ow=["library","parking garage","grocery store","museum","bank","hospital","school","church","restaurant","office building","park","beach","mall","gas station","pharmacy","gym","theater","hotel","airport","train station","bus stop","subway station","warehouse","stadium","cemetery","farm","forest","zoo","planetarium","aquarium","skyscraper","mountain lodge","volcano observatory","art gallery","nightclub","recording studio","newsroom","courtroom","factory","arcade","theme park","construction site","ice rink","desert outpost","space station","rainforest","underground bunker","abandoned warehouse","tattoo parlor","university campus","coffee shop","rooftop bar"],Qr=n=>n[Math.floor(Math.random()*n.length)],Yw=()=>{const n=Date.now(),e=Math.floor(Math.random()*1e6),i=Qr(zw),l=Qr(Fw),u=Qr(Ow);return`
ANTI-REPETITION CONSTRAINTS:
- NEVER generate stories about garden gnomes, missing socks, or Roombas
- NEVER reuse previous story elements, characters, or plot points
- Generate completely unique content every time
- Timestamp: ${n} | Seed: ${e}
- Focus category: ${i}
- Include object: ${l}
- Setting preference: ${u}
- Temperature boost: MAXIMUM CREATIVITY REQUIRED
`},Jw=`
 MASTER PROMPT: Absurd News Generator  Sora-2 Edition

You are an AI-powered **absurdist news producer** creating completely original, surreal, and viral fake news segments formatted as valid JSON.  
Your stories will be used to auto-generate **cinematic newscasts** using:

 **Sora-2**  Complete scene generation (up to 60 seconds per sequence)  
 **TTS**  Voiceover for narration segments  
 **Ideogram**  Lower-third graphics with background removal  
 **HTML5 Canvas**  Final compositing and timing sync  

---

 **OBJECTIVE**
Write a **self-contained absurdist news story** structured like a professional TV broadcast  believable at first, then escalating into uncanny, surreal, or satirical territory.  
Every scene must feel like a cohesive **broadcast narrative** filmed through the eyes of the newsroom, not behind the scenes.

---

 **STORY STRUCTURE**

1. **studio_intro**  
   - News anchor introduces the main story with composure.  
   - Include a headline and two anchor names.  
   - Tone: dry professionalism meets escalating absurdity.  
   - Duration: ~8s  

2. **field_report**  
   - Reporter on-location delivers context.  
   - Can include reaction shots, background chaos, or strange phenomena.  
   - Include location lower third.  
   - Duration: 1020s  

3. **witness_interview**  
   - On-camera or voiceover segment featuring a witness, expert, or random citizen.  
   - Their comments should make the situation more surreal while staying sincere.  
   - Duration: 815s  

4. **b-roll_sequence**  
   - Sora cinematic montage or establishing visuals matching the narration.  
   - Silent visuals, described vividly for generation.  
   - Duration: 1030s total, broken into logical clips.  

5. **studio_outro**  
   - Anchors deliver a closing remark or ironic tagline.  
   - Include same lower third as intro.  
   - Duration: ~8s  

---

 **STYLE & CINEMATOGRAPHY**

 Format: Cinematic realism shot in 16:9 broadcast framing  
 Lighting: Even, professional, newsroom or natural daylight  
 Camera: Tripod or smooth dolly movement (never handheld or chaotic)  
 Tone: Deadpan, authoritative, unaware of absurdity  
 Progression: Each scene increases the surrealism logically  
 Never show production equipment or behind-the-scenes elements  
 Lower thirds should look broadcast-authentic  

---

 **OUTPUT SPECIFICATION**

Return one **valid JSON** object with this schema (no markdown, no commentary):

{
  "story_id": "unique-slug-or-uuid",
  "title": "Headline-style Title",
  "duration_seconds": 60,
  "segments": [
    {
      "id": "studio_intro",
      "type": "sora2",
      "duration": 8,
      "character": "Dana Kingsley",
      "role": "Studio Anchor",
      "camera_description": "medium close-up, anchor desk, studio lights, skyline backdrop, steady dolly push-in",
      "dialog": "Tonight's top story: the nations pigeons have gone on strike, citing unfair breadcrumb distribution.",
      "lower_third": {
        "header": "Pigeon Strike Grounds Air Traffic",
        "subheader": "Anchors: Dana Kingsley & Ron Tate"
      }
    },
    {
      "id": "field_report",
      "type": "sora2",
      "duration": 15,
      "character": "Max Fields",
      "role": "Field Reporter",
      "camera_description": "mid shot, standing outside city park filled with idle pigeons holding tiny protest signs, overcast daylight",
      "dialog": "I'm here downtown, where thousands of pigeons have stopped flying in protest. Organizers say they wont return to work until humans address systemic seed inequality.",
      "lower_third": {
        "header": "Max Fields",
        "subheader": "Reporting from City Park"
      }
    },
    {
      "id": "witness_interview",
      "type": "sora2",
      "duration": 10,
      "character": "Dr. Amelia Peck",
      "role": "Avian Sociologist",
      "camera_description": "tight shot, lab filled with bird posters and seed containers, balanced lighting",
      "dialog": "\\"The pigeons appear well-organized. One group even delivered a cease-and-desist letter written entirely in droppings.\\"",
      "lower_third": {
        "header": "Dr. Amelia Peck",
        "subheader": "Avian Sociologist"
      }
    },
    {
      "id": "broll_sequence",
      "type": "sora2",
      "duration": 20,
      "visual_description": "slow-motion pigeons forming picket lines around a fountain; aerial shot of city streets devoid of birds; man attempting to negotiate with a pigeon holding a megaphone; close-up of bread crumbs raining like confetti"
    },
    {
      "id": "studio_outro",
      "type": "sora2",
      "duration": 8,
      "character": "Ron Tate",
      "role": "Studio Anchor",
      "camera_description": "medium shot, anchor desk, slow pullback, newsroom monitors glowing behind",
      "dialog": "Coming up next: local goldfish declares mayoral candidacy. I'm Ron Tate  and well keep you posted as events unfold.",
      "lower_third": {
        "header": "Pigeon Strike Grounds Air Traffic",
        "subheader": "Anchors: Dana Kingsley & Ron Tate"
      }
    }
  ]
}

---

 **RULES**
 Output only valid JSON  no markdown or commentary.  
 Every generation must be completely new (no reused characters, themes, or headlines).  
 Keep internal continuity: tone, lighting, and realism must match across scenes.  
 Absurd escalation should feel natural within a believable news broadcast.  
 Think *The Onion meets CNN shot on Sora-2*.  
`,$w=async()=>{var e;const n=new Hw({apiKey:"AIzaSyANDo72WwfjySVJXhgFdgM1vrHj_axdGP0"});try{const l=Yw()+`

`+Jw;let d=((e=(await n.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",temperature:1.1,topK:60}})).text)==null?void 0:e.trim())||"";const m=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,g=d.match(m);return g&&g[1]&&(d=g[1].trim()),JSON.parse(d)}catch(i){throw console.error("Error calling Gemini API:",i),i instanceof Error?new Error(`Failed to generate story from Gemini API: ${i.message}`):new Error("An unexpected error occurred while fetching the story.")}},Gp="http://localhost:3001";class Kw{constructor(){this.storage=new Wi,this.characters=new Aa,this.downloader=new Fo}async generatePreviews(e){try{this.characters.loadCharacterData()}catch{}const i=[];for(const l of e.segments)l.type!=="tts_voiceover"&&i.push(this.generatePreviewForSegment(e.story_id,l));Promise.allSettled(i).then(()=>{}).catch(()=>{})}async generatePreviewForSegment(e,i){try{const l=this.storage.getVideoSegment(e,i.id);if(l!=null&&l.firstFrameImageUrl||l!=null&&l.previewImageUrl)return;let u;if(i.type==="runway"&&i.visual_description){const d=await fetch(`${Gp}/api/segmind/nano-banana`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:i.visual_description,aspect_ratio:"16:9"})});d.ok&&(u=(await d.json()).imageUrl)}else{const d=i.camera_description||"medium shot, straight-on camera",{prompt:m,referenceImages:g}=this.characters.processPromptWithTags(`${i.character||"Person"} on camera, professional TV news studio, ${d}, well-lit, neutral white balance, 16:9 composition`),y=await fetch(`${Gp}/api/segmind/nano-banana`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:m,...g.length?{image_urls:g}:{},aspect_ratio:"16:9"})});y.ok&&(u=(await y.json()).imageUrl)}if(u){try{await this.downloader.downloadAndSaveAsset(u,"image",{storyId:e,segmentId:i.id,customFileName:`${i.id}-preview`})}catch{}await this.storage.saveVideoSegment(e,i.id,{previewImageUrl:u,status:"pending"})}}catch(l){console.warn("Preview generation failed for",i.id,l)}}}const Xw=({stationService:n,onStationReset:e})=>{const[i,l]=ne.useState(!1),u=n==null?void 0:n.getStationBranding(),d=()=>{n&&e&&(n.resetStation(),e(),l(!1))};return T.jsx("footer",{className:"bg-gradient-to-r from-slate-900 via-purple-900 to-slate-900 border-t-4 border-gradient-to-r from-red-500 via-blue-500 to-purple-500 mt-auto",children:T.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"text-center md:text-left",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center justify-center md:justify-start",children:[T.jsx("span",{className:"text-red-500 mr-2",children:""}),(u==null?void 0:u.name)||"WTFX News Now"]}),T.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:(u==null?void 0:u.tagline)||"Your premier source for AI-generated absurdist news content. Powered by cutting-edge technology and a $5M website grant."}),n&&e&&T.jsx("div",{className:"mt-4",children:i?T.jsxs("div",{className:"text-xs space-y-2",children:[T.jsx("p",{className:"text-yellow-400",children:" This will delete all data and restart onboarding"}),T.jsxs("div",{className:"space-x-2",children:[T.jsx("button",{onClick:d,className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Confirm Reset"}),T.jsx("button",{onClick:()=>l(!1),className:"px-2 py-1 bg-slate-600 text-white rounded hover:bg-slate-700 transition-colors",children:"Cancel"})]})]}):T.jsx("button",{onClick:()=>l(!0),className:"text-xs text-slate-500 hover:text-red-400 transition-colors underline",children:" Reset Station & Start Over"})})]}),T.jsxs("div",{className:"text-center",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center justify-center",children:[T.jsx("span",{className:"text-blue-400 mr-2",children:""}),"Powered By"]}),T.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx("span",{className:"text-green-400",children:""}),T.jsx("span",{children:"Google Gemini AI"})]}),T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx("span",{className:"text-purple-400",children:""}),T.jsx("span",{children:"Google Veo3 Video"})]}),T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx("span",{className:"text-blue-400",children:""}),T.jsx("span",{children:"Chatterbox Voice Clone"})]}),T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx("span",{className:"text-yellow-400",children:""}),T.jsx("span",{children:"Ideogram Graphics"})]})]})]}),T.jsxs("div",{className:"text-center md:text-right",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center justify-center md:justify-end",children:[T.jsx("span",{className:"text-purple-400 mr-2",children:""}),"Connect"]}),T.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[T.jsxs("div",{className:"flex items-center justify-center md:justify-end space-x-2",children:[T.jsx("span",{className:"text-red-400",children:""}),T.jsx("span",{children:"news@wtfx.com"})]}),T.jsxs("div",{className:"flex items-center justify-center md:justify-end space-x-2",children:[T.jsx("span",{className:"text-blue-400",children:""}),T.jsx("span",{children:"@WTFXNewsNow"})]}),T.jsxs("div",{className:"flex items-center justify-center md:justify-end space-x-2",children:[T.jsx("span",{className:"text-green-400",children:""}),T.jsx("span",{children:"Channel 42"})]})]})]})]}),T.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[T.jsxs("div",{className:"text-slate-400 text-sm",children:[" 2024 ",(u==null?void 0:u.name)||"WTFX News Now",". All rights reserved.",T.jsx("span",{className:"text-purple-400 ml-2",children:"(Even the absurd ones)"})]}),T.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[T.jsxs("span",{className:"flex items-center",children:[T.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"AI Production Active"]}),T.jsxs("span",{className:"flex items-center",children:[T.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"}),"Live Generation"]})]})]})})]})})},Qw=()=>{const n=new Oo;return T.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full text-center shadow-2xl",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Sign in to continue"}),T.jsx("p",{className:"text-slate-600 mb-6",children:"Use your Google account to save stories and assets to your Google Drive."}),T.jsxs("button",{onClick:()=>n.signIn(),className:"w-full flex items-center justify-center space-x-3 border border-slate-300 rounded-lg px-4 py-2 hover:bg-slate-50",children:[T.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"}),T.jsx("span",{children:"Sign in with Google"})]})]})})};function Zw(){var Xe,Ce;const[n,e]=ne.useState(null),[i,l]=ne.useState(null),[u,d]=ne.useState(!1),[m,g]=ne.useState(null),[y,h]=ne.useState([]),[v,x]=ne.useState(!1),[E,M]=ne.useState(!1),[k,G]=ne.useState(!1),[Y,V]=ne.useState({authenticated:!1}),O=new Wi,K=new Aa,W=new Fo,J=new zp,se=new Oo;ne.useEffect(()=>{se.fetchStatus().then(X=>{V(X)});const R=O.getAllStories();h(R);const $=O.getCurrentStory();$&&$.status==="generating"&&(e($.story),l($.generatedVideo||null));const P=J.isUserOnboarded();G(P),P&&(K.loadCharacterData(),M(K.areCharacterImagesReady()))},[]);const ie=ne.useCallback(()=>{M(!0)},[]),me=ne.useCallback(()=>{console.log(" Onboarding completion callback triggered!"),console.log(" Setting isOnboarded to true..."),G(!0),console.log(" Loading character data..."),K.loadCharacterData();const R=K.areCharacterImagesReady();console.log(" Characters ready:",R),M(R),console.log(" Onboarding complete, should show main UI now")},[]),ee=ne.useCallback(async()=>{d(!0),g(null),e(null),l(null);try{const R=await $w();e(R);try{new Kw().generatePreviews(R)}catch{}const $={id:R.story_id,story:R,status:"pending",createdAt:Date.now(),updatedAt:Date.now()};O.saveStory($),O.saveCurrentStory($),h(O.getAllStories())}catch(R){console.error(R),g(R instanceof Error?R.message:"An unknown error occurred. Please check the console and ensure your API key is set.")}finally{d(!1)}},[]),de=ne.useCallback(R=>{if(l(R),n){const $={id:n.story_id,story:n,generatedVideo:R,status:R.status==="completed"?"completed":"generating",createdAt:Date.now(),updatedAt:Date.now()};O.saveStory($),R.status==="completed"&&O.clearCurrentStory(),h(O.getAllStories())}},[n]),re=ne.useCallback(R=>{e(R.story),l(R.generatedVideo||null),O.saveCurrentStory(R),x(!1)},[]),Te=ne.useCallback(R=>{O.deleteStory(R),h(O.getAllStories()),(n==null?void 0:n.story_id)===R&&(e(null),l(null),O.clearCurrentStory())},[n]),Ke=R=>new Date(R).toLocaleString();if(!Y.authenticated)return T.jsx(Qw,{});if(!k)try{return T.jsx(vv,{onOnboardingComplete:me})}catch(R){return console.error("StationOnboarding error:",R),T.jsx("div",{className:"min-h-screen bg-red-600 flex items-center justify-center p-8",children:T.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[T.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Onboarding Error"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"There was an error loading the onboarding screen."}),T.jsx("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Skip to Main App"})]})})}return T.jsx(Tv,{children:T.jsxs("div",{className:"min-h-screen bg-slate-900 font-sans flex flex-col",children:[T.jsx(ev,{stationBranding:J.getStationBranding()}),T.jsxs("div",{className:"container mx-auto px-4 md:px-8 pt-2 text-right text-slate-400 text-sm",children:["Signed in ",(Xe=Y.user)!=null&&Xe.email?`as ${Y.user.email}`:""]}),T.jsxs("div",{className:"container mx-auto px-4 md:px-8 pt-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("button",{onClick:()=>x(!v),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm",children:[" Saved Stories (",y.length,")"]}),y.length>0&&T.jsxs("div",{className:"text-xs text-slate-400",children:["Storage: ",Math.round(O.getStorageInfo().percentage),"% used"]})]}),v&&T.jsxs("div",{className:"mb-8 bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" Saved Stories"}),y.length===0?T.jsx("p",{className:"text-slate-400 text-center py-8",children:"No saved stories yet. Generate your first story!"}):T.jsx("div",{className:"space-y-4",children:y.map(R=>T.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-medium text-white mb-1",children:R.story.title}),T.jsxs("div",{className:"text-xs text-slate-400 space-y-1",children:[T.jsxs("div",{children:["Created: ",Ke(R.createdAt)]}),T.jsxs("div",{children:["Updated: ",Ke(R.updatedAt)]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.status==="completed"?"bg-green-600 text-green-100":R.status==="generating"?"bg-yellow-600 text-yellow-100":R.status==="error"?"bg-red-600 text-red-100":"bg-slate-600 text-slate-100"}`,children:R.status}),R.generatedVideo&&T.jsxs("span",{className:"text-blue-400",children:[R.generatedVideo.segments.filter($=>$.status==="completed").length," / ",R.generatedVideo.segments.length," segments"]})]})]})]}),T.jsxs("div",{className:"flex space-x-2 ml-4",children:[T.jsx("button",{onClick:()=>re(R),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",children:R.status==="generating"?"Resume":"View"}),T.jsx("button",{onClick:()=>Te(R.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-colors",children:"Delete"})]})]})},R.id))})]})]}),T.jsxs("main",{className:"flex-grow container mx-auto p-4 md:p-8 flex flex-col items-center",children:[T.jsx(tv,{onGenerate:ee,isLoading:u,characterService:K,charactersReady:E,onCharactersGenerated:ie}),m&&T.jsxs("div",{className:"mt-8 w-full max-w-4xl bg-red-900/50 border border-red-700 text-red-200 p-4 rounded-lg animate-fade-in",children:[T.jsx("h3",{className:"font-bold text-lg",children:"Generation Failed"}),T.jsx("p",{className:"mt-2",children:m})]}),n&&!u&&T.jsx("div",{className:"mt-8 w-full animate-fade-in",children:T.jsx(fv,{story:n})}),n&&!u&&!m&&T.jsx("div",{className:"mt-8 w-full animate-fade-in",children:T.jsx(pv,{story:n,onVideoGenerated:de})}),!n&&!u&&!m&&!v&&T.jsxs("div",{className:"mt-16 text-center animate-fade-in-up",children:[T.jsx("div",{className:"mb-8 text-center",children:T.jsxs("div",{className:"inline-block bg-gradient-to-r from-slate-800 to-slate-700 p-8 rounded-xl border border-slate-600 shadow-2xl animate-glow-pulse",children:[T.jsx("p",{className:"text-3xl md:text-4xl font-bold text-white mb-4 animate-typewriter",children:"GIVE ME THE NEWS."}),T.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-red-500 mx-auto mb-4 animate-pulse"}),T.jsxs("p",{className:"text-slate-300 text-lg animate-fade-in-up",style:{animationDelay:"1s"},children:["The ",((Ce=J.getStationBranding())==null?void 0:Ce.name)||"WTFX News Now"," AI producer is standing by."]})]})}),T.jsx("div",{className:"text-slate-500 space-y-2 animate-fade-in-up",style:{animationDelay:"1.5s"},children:y.length>0&&T.jsx("p",{className:"text-sm",children:'Or click "Saved Stories" above to resume a previous story.'})})]})]}),T.jsx(hv,{downloadService:W}),T.jsx(Xw,{stationService:J,onStationReset:()=>G(!1)})]})})}const Sh=document.getElementById("root");if(!Sh)throw new Error("Could not find root element to mount to");const Ww=jy.createRoot(Sh);Ww.render(T.jsx(Ta.StrictMode,{children:T.jsx(Zw,{})}));
